  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
Started GET "/" for 127.0.0.1 at 2016-12-08 06:24:51 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  Rendered index/home.html.erb within layouts/application (13650.5ms)
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 13781ms (Views: 13726.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
Started GET "/home" for 127.0.0.1 at 2016-12-08 06:25:59 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  Rendered index/home.html.erb within layouts/application (452.0ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 516ms (Views: 502.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
Started GET "/about" for 127.0.0.1 at 2016-12-08 06:30:42 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (694.2ms)
  Rendered layouts/_header.html.erb (3.5ms)
  Rendered layouts/_footer.html.erb (18.4ms)
Completed 200 OK in 803ms (Views: 792.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
Started GET "/place" for 127.0.0.1 at 2016-12-08 06:30:42 -0500
Processing by IndexController#place as HTML
  Rendering index/place.html.erb within layouts/application
  Rendered index/place.html.erb within layouts/application (4.7ms)
  Rendered layouts/_header.html.erb (3.4ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 42ms (Views: 16.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
Started GET "/ranking" for 127.0.0.1 at 2016-12-08 06:30:43 -0500
Processing by IndexController#ranking as HTML
  Rendering index/ranking.html.erb within layouts/application
  Rendered index/ranking.html.erb within layouts/application (5.6ms)
  Rendered layouts/_header.html.erb (3.2ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 34ms (Views: 15.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
Started GET "/home" for 127.0.0.1 at 2016-12-08 06:30:43 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  Rendered index/home.html.erb within layouts/application (7.9ms)
  Rendered layouts/_header.html.erb (3.2ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 23ms (Views: 17.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
Started GET "/about" for 127.0.0.1 at 2016-12-08 06:46:39 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (862.4ms)
  Rendered layouts/_header.html.erb (3.0ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 974ms (Views: 915.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
Started GET "/place" for 127.0.0.1 at 2016-12-08 06:46:40 -0500
Processing by IndexController#place as HTML
  Rendering index/place.html.erb within layouts/application
  Rendered index/place.html.erb within layouts/application (4.3ms)
  Rendered layouts/_header.html.erb (3.0ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 53ms (Views: 13.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
Started GET "/ranking" for 127.0.0.1 at 2016-12-08 06:46:41 -0500
Processing by IndexController#ranking as HTML
  Rendering index/ranking.html.erb within layouts/application
  Rendered index/ranking.html.erb within layouts/application (23.4ms)
  Rendered layouts/_header.html.erb (3.2ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 48ms (Views: 32.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
Started GET "/home" for 127.0.0.1 at 2016-12-08 06:46:41 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  Rendered index/home.html.erb within layouts/application (7.5ms)
  Rendered layouts/_header.html.erb (3.2ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 38ms (Views: 16.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
Started GET "/place" for 127.0.0.1 at 2016-12-08 06:54:39 -0500
Processing by IndexController#place as HTML
  Rendering index/place.html.erb within layouts/application
  Rendered index/place.html.erb within layouts/application (784.3ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 844ms (Views: 829.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
Started GET "/home" for 127.0.0.1 at 2016-12-08 06:54:40 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  Rendered index/home.html.erb within layouts/application (25.5ms)
  Rendered layouts/_header.html.erb (3.1ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 64ms (Views: 35.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
Started GET "/ranking" for 127.0.0.1 at 2016-12-08 06:54:40 -0500
Processing by IndexController#ranking as HTML
  Rendering index/ranking.html.erb within layouts/application
  Rendered index/ranking.html.erb within layouts/application (5.2ms)
  Rendered layouts/_header.html.erb (3.2ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 28ms (Views: 15.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
Started GET "/about" for 127.0.0.1 at 2016-12-08 06:54:40 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (6.6ms)
  Rendered layouts/_header.html.erb (3.4ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 21ms (Views: 16.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "companies" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "catetory" varchar, "subcategory" varchar, "city" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (2.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20161208181218')[0m
  [1m[35m (7.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-12-08 18:24:57 UTC], ["updated_at", 2016-12-08 18:24:57 UTC]]
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "catetory", "subcategory", "city", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2016-12-08 18:24:57.853050', '2016-12-08 18:24:57.853050', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "catetory", "subcategory", "city", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2016-12-08 18:24:57.853050', '2016-12-08 18:24:57.853050', 298486374)[0m
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "companies" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "category" varchar, "subcategory" varchar, "city" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (160.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20161208181218')[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-12-08 18:28:28 UTC], ["updated_at", 2016-12-08 18:28:28 UTC]]
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[35m (22.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[35m (1.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[35m (2.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2016-12-08 18:30:55.524544', '2016-12-08 18:30:55.524544', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2016-12-08 18:30:55.524544', '2016-12-08 18:30:55.524544', 298486374)[0m
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.0ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2016-12-08 18:31:28.357171', '2016-12-08 18:31:28.357171', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2016-12-08 18:31:28.357171', '2016-12-08 18:31:28.357171', 298486374)[0m
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2016-12-08 18:33:47.892212', '2016-12-08 18:33:47.892212', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2016-12-08 18:33:47.892212', '2016-12-08 18:33:47.892212', 298486374)[0m
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
Started GET "/about" for 127.0.0.1 at 2016-12-08 13:33:48 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (11013.1ms)
  Rendered layouts/_header.html.erb (4.6ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 11286ms (Views: 11232.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
Started GET "/ranking" for 127.0.0.1 at 2016-12-08 13:33:59 -0500
Processing by IndexController#ranking as HTML
  Rendering index/ranking.html.erb within layouts/application
  Rendered index/ranking.html.erb within layouts/application (4.3ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 50ms (Views: 22.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
Started GET "/place" for 127.0.0.1 at 2016-12-08 13:33:59 -0500
Processing by IndexController#place as HTML
  Rendering index/place.html.erb within layouts/application
  Rendered index/place.html.erb within layouts/application (3.4ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 45ms (Views: 11.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
Started GET "/home" for 127.0.0.1 at 2016-12-08 13:33:59 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  Rendered index/home.html.erb within layouts/application (6.3ms)
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 49ms (Views: 15.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2016-12-08 18:36:02.058551', '2016-12-08 18:36:02.058551', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2016-12-08 18:36:02.058551', '2016-12-08 18:36:02.058551', 298486374)[0m
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
Started GET "/home" for 127.0.0.1 at 2016-12-08 13:36:02 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  Rendered index/home.html.erb within layouts/application (815.8ms)
  Rendered layouts/_header.html.erb (5.4ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 897ms (Views: 887.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
Started GET "/about" for 127.0.0.1 at 2016-12-08 13:36:03 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (7.0ms)
  Rendered layouts/_header.html.erb (3.2ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 45ms (Views: 18.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
Started GET "/place" for 127.0.0.1 at 2016-12-08 13:36:03 -0500
Processing by IndexController#place as HTML
  Rendering index/place.html.erb within layouts/application
  Rendered index/place.html.erb within layouts/application (4.4ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 24ms (Views: 13.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
Started GET "/ranking" for 127.0.0.1 at 2016-12-08 13:36:03 -0500
Processing by IndexController#ranking as HTML
  Rendering index/ranking.html.erb within layouts/application
  Rendered index/ranking.html.erb within layouts/application (5.2ms)
  Rendered layouts/_header.html.erb (3.2ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 23ms (Views: 14.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", "example category"], ["subcategory", "example sub category"], ["city", "Toronto"], ["created_at", 2016-12-08 18:36:03 UTC], ["updated_at", 2016-12-08 18:36:03 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "EXAMPLE COMPANY"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (22.0ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2016-12-08 18:39:47.231646', '2016-12-08 18:39:47.231646', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2016-12-08 18:39:47.231646', '2016-12-08 18:39:47.231646', 298486374)[0m
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", "example category"], ["subcategory", "example sub category"], ["city", "Toronto"], ["created_at", 2016-12-08 18:39:47 UTC], ["updated_at", 2016-12-08 18:39:47 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "EXAMPLE COMPANY"], ["LIMIT", 1]]
  [1m[35m (18.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
Started GET "/home" for 127.0.0.1 at 2016-12-08 13:39:47 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  Rendered index/home.html.erb within layouts/application (1372.6ms)
  Rendered layouts/_header.html.erb (3.3ms)
  Rendered layouts/_footer.html.erb (1.1ms)
Completed 200 OK in 1512ms (Views: 1501.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
Started GET "/about" for 127.0.0.1 at 2016-12-08 13:39:49 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (6.3ms)
  Rendered layouts/_header.html.erb (3.2ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 38ms (Views: 17.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
Started GET "/place" for 127.0.0.1 at 2016-12-08 13:39:49 -0500
Processing by IndexController#place as HTML
  Rendering index/place.html.erb within layouts/application
  Rendered index/place.html.erb within layouts/application (4.7ms)
  Rendered layouts/_header.html.erb (3.0ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 15ms (Views: 13.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
Started GET "/ranking" for 127.0.0.1 at 2016-12-08 13:39:49 -0500
Processing by IndexController#ranking as HTML
  Rendering index/ranking.html.erb within layouts/application
  Rendered index/ranking.html.erb within layouts/application (5.4ms)
  Rendered layouts/_header.html.erb (3.1ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 34ms (Views: 14.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.7ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2016-12-08 18:41:35.017865', '2016-12-08 18:41:35.017865', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2016-12-08 18:41:35.017865', '2016-12-08 18:41:35.017865', 298486374)[0m
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
Started GET "/about" for 127.0.0.1 at 2016-12-08 13:41:35 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (1299.7ms)
  Rendered layouts/_header.html.erb (3.4ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 1408ms (Views: 1379.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
Started GET "/ranking" for 127.0.0.1 at 2016-12-08 13:41:36 -0500
Processing by IndexController#ranking as HTML
  Rendering index/ranking.html.erb within layouts/application
  Rendered index/ranking.html.erb within layouts/application (5.2ms)
  Rendered layouts/_header.html.erb (3.4ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 40ms (Views: 15.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
Started GET "/home" for 127.0.0.1 at 2016-12-08 13:41:36 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  Rendered index/home.html.erb within layouts/application (8.0ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 61ms (Views: 19.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
Started GET "/place" for 127.0.0.1 at 2016-12-08 13:41:37 -0500
Processing by IndexController#place as HTML
  Rendering index/place.html.erb within layouts/application
  Rendered index/place.html.erb within layouts/application (4.3ms)
  Rendered layouts/_header.html.erb (3.1ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 35ms (Views: 13.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", "example category"], ["subcategory", "example sub category"], ["city", "Toronto"], ["created_at", 2016-12-08 18:41:37 UTC], ["updated_at", 2016-12-08 18:41:37 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.5ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2016-12-08 18:44:14.891101', '2016-12-08 18:44:14.891101', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2016-12-08 18:44:14.891101', '2016-12-08 18:44:14.891101', 298486374)[0m
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", "example category"], ["subcategory", "example sub category"], ["city", "Toronto"], ["created_at", 2016-12-08 18:44:14 UTC], ["updated_at", 2016-12-08 18:44:14 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (21.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.4ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2016-12-08 18:45:53.096095', '2016-12-08 18:45:53.096095', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', '2016-12-08 18:45:53.096095', '2016-12-08 18:45:53.096095', 298486374)[0m
  [1m[35m (21.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", "example category"], ["subcategory", "example sub category"], ["city", "Toronto"], ["created_at", 2016-12-08 18:45:53 UTC], ["updated_at", 2016-12-08 18:45:53 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (22.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "categories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "companies" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "category" integer, "subcategory" integer, "city" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "sub_categories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" text, "category_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX "index_sub_categories_on_category_id_and_created_at" ON "sub_categories" ("category_id", "created_at")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_sub_categories_on_category_id_and_created_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_sub_categories_on_category_id_and_created_at' AND type='index'
[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX "index_sub_categories_on_category_id" ON "sub_categories" ("category_id")[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20161208195733')[0m
  [1m[35m (1.3ms)[0m  [1m[32mINSERT INTO schema_migrations (version) VALUES ('20161208181218'), ('20161208193054');

[0m
  [1m[35m (18.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-12-08 20:02:59 UTC], ["updated_at", 2016-12-08 20:02:59 UTC]]
  [1m[35m (2.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-08 20:02:59.991678', '2016-12-08 20:02:59.991678', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-08 20:02:59.991678', '2016-12-08 20:02:59.991678', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at", "id") VALUES ('MyString', 1, 1, 'MyString', '2016-12-08 20:02:59.995853', '2016-12-08 20:02:59.995853', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at", "id") VALUES ('MyString', 2, 2, 'MyString', '2016-12-08 20:02:59.995853', '2016-12-08 20:02:59.995853', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-08 20:02:59.997614', '2016-12-08 20:02:59.997614', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-08 20:02:59.997614', '2016-12-08 20:02:59.997614', 298486374, 298486374)[0m
  [1m[35m (3.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 0], ["subcategory", 0], ["city", "Toronto"], ["created_at", 2016-12-08 20:03:00 UTC], ["updated_at", 2016-12-08 20:03:00 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (15.6ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (1.7ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-08 20:11:45.384767', '2016-12-08 20:11:45.384767', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-08 20:11:45.384767', '2016-12-08 20:11:45.384767', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at", "id") VALUES ('MyString', 1, 1, 'MyString', '2016-12-08 20:11:45.426897', '2016-12-08 20:11:45.426897', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at", "id") VALUES ('MyString', 2, 2, 'MyString', '2016-12-08 20:11:45.426897', '2016-12-08 20:11:45.426897', 298486374)[0m
  [1m[36mFixture Delete (24.3ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-08 20:11:45.428747', '2016-12-08 20:11:45.428747', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-08 20:11:45.428747', '2016-12-08 20:11:45.428747', 298486374, 298486374)[0m
  [1m[35m (3.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-08 20:11:45 UTC], ["updated_at", 2016-12-08 20:11:45 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (99.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 0], ["subcategory", 0], ["city", "Toronto"], ["created_at", 2016-12-08 20:11:45 UTC], ["updated_at", 2016-12-08 20:11:45 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (18.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (26.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (24.1ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-08 20:13:36.575752', '2016-12-08 20:13:36.575752', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-08 20:13:36.575752', '2016-12-08 20:13:36.575752', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at", "id") VALUES ('MyString', 1, 1, 'MyString', '2016-12-08 20:13:36.624480', '2016-12-08 20:13:36.624480', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at", "id") VALUES ('MyString', 2, 2, 'MyString', '2016-12-08 20:13:36.624480', '2016-12-08 20:13:36.624480', 298486374)[0m
  [1m[36mFixture Delete (1.1ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-08 20:13:36.626303', '2016-12-08 20:13:36.626303', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-08 20:13:36.626303', '2016-12-08 20:13:36.626303', 298486374, 298486374)[0m
  [1m[35m (17.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 0], ["subcategory", 0], ["city", "Toronto"], ["created_at", 2016-12-08 20:13:36 UTC], ["updated_at", 2016-12-08 20:13:36 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-08 20:13:36 UTC], ["updated_at", 2016-12-08 20:13:36 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (18.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-08 20:14:11.496392', '2016-12-08 20:14:11.496392', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-08 20:14:11.496392', '2016-12-08 20:14:11.496392', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at", "id") VALUES ('MyString', 1, 1, 'MyString', '2016-12-08 20:14:11.509470', '2016-12-08 20:14:11.509470', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at", "id") VALUES ('MyString', 2, 2, 'MyString', '2016-12-08 20:14:11.509470', '2016-12-08 20:14:11.509470', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-08 20:14:11.511322', '2016-12-08 20:14:11.511322', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-08 20:14:11.511322', '2016-12-08 20:14:11.511322', 298486374, 298486374)[0m
  [1m[35m (2.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-08 20:14:11 UTC], ["updated_at", 2016-12-08 20:14:11 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 0], ["subcategory", 0], ["city", "Toronto"], ["created_at", 2016-12-08 20:14:11 UTC], ["updated_at", 2016-12-08 20:14:11 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (1.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-08 20:18:16.825756', '2016-12-08 20:18:16.825756', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-08 20:18:16.825756', '2016-12-08 20:18:16.825756', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at", "id") VALUES ('MyString', 1, 1, 'MyString', '2016-12-08 20:18:16.830639', '2016-12-08 20:18:16.830639', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at", "id") VALUES ('MyString', 2, 2, 'MyString', '2016-12-08 20:18:16.830639', '2016-12-08 20:18:16.830639', 298486374)[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-08 20:18:16.832908', '2016-12-08 20:18:16.832908', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-08 20:18:16.832908', '2016-12-08 20:18:16.832908', 298486374, 298486374)[0m
  [1m[35m (43.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-08 20:18:16 UTC], ["updated_at", 2016-12-08 20:18:16 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 0], ["subcategory", 0], ["city", "Toronto"], ["created_at", 2016-12-08 20:18:16 UTC], ["updated_at", 2016-12-08 20:18:16 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (30.5ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-08 20:19:00.389708', '2016-12-08 20:19:00.389708', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-08 20:19:00.389708', '2016-12-08 20:19:00.389708', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at", "id") VALUES ('MyString', 1, 1, 'MyString', '2016-12-08 20:19:00.444749', '2016-12-08 20:19:00.444749', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at", "id") VALUES ('MyString', 2, 2, 'MyString', '2016-12-08 20:19:00.444749', '2016-12-08 20:19:00.444749', 298486374)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-08 20:19:00.446527', '2016-12-08 20:19:00.446527', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-08 20:19:00.446527', '2016-12-08 20:19:00.446527', 298486374, 298486374)[0m
  [1m[35m (26.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 0], ["subcategory", 0], ["city", "Toronto"], ["created_at", 2016-12-08 20:19:00 UTC], ["updated_at", 2016-12-08 20:19:00 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (13.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-08 20:19:00 UTC], ["updated_at", 2016-12-08 20:19:00 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (5.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (48.3ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-08 20:25:16.282825', '2016-12-08 20:25:16.282825', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-08 20:25:16.282825', '2016-12-08 20:25:16.282825', 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at", "id") VALUES ('MyString', 1, 1, 'MyString', '2016-12-08 20:25:16.338209', '2016-12-08 20:25:16.338209', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at", "id") VALUES ('MyString', 2, 2, 'MyString', '2016-12-08 20:25:16.338209', '2016-12-08 20:25:16.338209', 298486374)[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-08 20:25:16.341477', '2016-12-08 20:25:16.341477', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-08 20:25:16.341477', '2016-12-08 20:25:16.341477', 298486374, 298486374)[0m
  [1m[35m (17.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 0], ["subcategory", 0], ["city", "Toronto"], ["created_at", 2016-12-08 20:25:16 UTC], ["updated_at", 2016-12-08 20:25:16 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-08 20:25:16 UTC], ["updated_at", 2016-12-08 20:25:16 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-08 20:25:16 UTC], ["updated_at", 2016-12-08 20:25:16 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.1ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (45.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-08 20:25:16 UTC], ["updated_at", 2016-12-08 20:25:16 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (24.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (10.0ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-08 22:49:03.529799', '2016-12-08 22:49:03.529799', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-08 22:49:03.529799', '2016-12-08 22:49:03.529799', 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at", "id") VALUES ('Company-one', 1, 1, 'MyCity', '2016-12-08 22:49:03.568180', '2016-12-08 22:49:03.568180', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at", "id") VALUES ('Company-two', 2, 2, 'MyCity', '2016-12-08 22:49:03.568180', '2016-12-08 22:49:03.568180', 298486374)[0m
  [1m[36mFixture Delete (1.7ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-08 22:49:03.571776', '2016-12-08 22:49:03.571776', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-08 22:49:03.571776', '2016-12-08 22:49:03.571776', 298486374, 298486374)[0m
  [1m[35m (21.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 0], ["subcategory", 0], ["city", "Toronto"], ["created_at", 2016-12-08 22:49:03 UTC], ["updated_at", 2016-12-08 22:49:03 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
Started GET "/about" for 127.0.0.1 at 2016-12-08 17:49:04 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (9390.3ms)
  Rendered layouts/_header.html.erb (5.0ms)
  Rendered layouts/_footer.html.erb (0.9ms)
Completed 200 OK in 9623ms (Views: 9582.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
Started GET "/home" for 127.0.0.1 at 2016-12-08 17:49:13 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (9.5ms)
  Rendered layouts/_header.html.erb (2.3ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 45ms (Views: 24.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
Started GET "/ranking" for 127.0.0.1 at 2016-12-08 17:49:13 -0500
Processing by IndexController#ranking as HTML
  Rendering index/ranking.html.erb within layouts/application
  Rendered index/ranking.html.erb within layouts/application (4.0ms)
  Rendered layouts/_header.html.erb (2.4ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 45ms (Views: 12.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
Started GET "/place" for 127.0.0.1 at 2016-12-08 17:49:14 -0500
Processing by IndexController#place as HTML
  Rendering index/place.html.erb within layouts/application
  Rendered index/place.html.erb within layouts/application (3.4ms)
  Rendered layouts/_header.html.erb (2.3ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 30ms (Views: 11.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-08 22:49:14 UTC], ["updated_at", 2016-12-08 22:49:14 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-08 22:49:14 UTC], ["updated_at", 2016-12-08 22:49:14 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.2ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-08 22:49:14 UTC], ["updated_at", 2016-12-08 22:49:14 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.1ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-08 23:38:54.641587', '2016-12-08 23:38:54.641587', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-08 23:38:54.641587', '2016-12-08 23:38:54.641587', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at", "id") VALUES ('Company-one', 1, 1, 'MyCity', '2016-12-08 23:38:54.648976', '2016-12-08 23:38:54.648976', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at", "id") VALUES ('Company-two', 2, 2, 'MyCity', '2016-12-08 23:38:54.648976', '2016-12-08 23:38:54.648976', 298486374)[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-08 23:38:54.650823', '2016-12-08 23:38:54.650823', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-08 23:38:54.650823', '2016-12-08 23:38:54.650823', 298486374, 298486374)[0m
  [1m[35m (5.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
Started GET "/about" for 127.0.0.1 at 2016-12-08 18:38:55 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (936.9ms)
  Rendered layouts/_header.html.erb (5.0ms)
  Rendered layouts/_footer.html.erb (0.9ms)
Completed 200 OK in 1048ms (Views: 1005.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
Started GET "/ranking" for 127.0.0.1 at 2016-12-08 18:38:56 -0500
Processing by IndexController#ranking as HTML
  Rendering index/ranking.html.erb within layouts/application
  Rendered index/ranking.html.erb within layouts/application (5.5ms)
  Rendered layouts/_header.html.erb (3.5ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 42ms (Views: 17.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
Started GET "/home" for 127.0.0.1 at 2016-12-08 18:38:56 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (12.6ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 24ms (Views: 21.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
Started GET "/place" for 127.0.0.1 at 2016-12-08 18:38:56 -0500
Processing by IndexController#place as HTML
  Rendering index/place.html.erb within layouts/application
  Rendered index/place.html.erb within layouts/application (6.8ms)
  Rendered layouts/_header.html.erb (7.3ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 31ms (Views: 24.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-08 23:38:56 UTC], ["updated_at", 2016-12-08 23:38:56 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-08 23:38:56 UTC], ["updated_at", 2016-12-08 23:38:56 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-08 23:38:56 UTC], ["updated_at", 2016-12-08 23:38:56 UTC]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-08 23:38:56 UTC], ["updated_at", 2016-12-08 23:38:56 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (4.3ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "categories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (22.9ms)[0m  [1m[35mCREATE TABLE "companies" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "category" integer, "subcategory" integer, "city" varchar, "share" integer, "like" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "sub_categories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" text, "category_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE  INDEX "index_sub_categories_on_category_id_and_created_at" ON "sub_categories" ("category_id", "created_at")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_sub_categories_on_category_id_and_created_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_sub_categories_on_category_id_and_created_at' AND type='index'
[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE  INDEX "index_sub_categories_on_category_id" ON "sub_categories" ("category_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20161208195733')[0m
  [1m[35m (47.8ms)[0m  [1m[32mINSERT INTO schema_migrations (version) VALUES ('20161208181218'), ('20161208193054');

[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-12-10 01:27:06 UTC], ["updated_at", 2016-12-10 01:27:06 UTC]]
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-10 01:27:06.357099', '2016-12-10 01:27:06.357099', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-10 01:27:06.357099', '2016-12-10 01:27:06.357099', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "share", "like", "city", "created_at", "updated_at", "id") VALUES ('Company-one', 1, 1, 10, 10, 'MyCity', '2016-12-10 01:27:06.361946', '2016-12-10 01:27:06.361946', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "share", "like", "city", "created_at", "updated_at", "id") VALUES ('Company-two', 2, 2, 20, 20, 'MyCity', '2016-12-10 01:27:06.361946', '2016-12-10 01:27:06.361946', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-10 01:27:06.364224', '2016-12-10 01:27:06.364224', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-10 01:27:06.364224', '2016-12-10 01:27:06.364224', 298486374, 298486374)[0m
  [1m[35m (1.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-10 01:27:06 UTC], ["updated_at", 2016-12-10 01:27:06 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (2.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
Started GET "/home" for 127.0.0.1 at 2016-12-09 20:27:06 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (1662.8ms)
  Rendered layouts/_header.html.erb (3.3ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 1733ms (Views: 1721.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
Started GET "/about" for 127.0.0.1 at 2016-12-09 20:27:08 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (6.7ms)
  Rendered layouts/_header.html.erb (3.4ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 38ms (Views: 16.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 01:27:08 UTC], ["updated_at", 2016-12-10 01:27:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (85.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 01:27:09 UTC], ["updated_at", 2016-12-10 01:27:09 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (121.9ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-10 01:27:09 UTC], ["updated_at", 2016-12-10 01:27:09 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.2ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (4.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-10 01:27:57.383291', '2016-12-10 01:27:57.383291', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-10 01:27:57.383291', '2016-12-10 01:27:57.383291', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "share", "like", "city", "created_at", "updated_at", "id") VALUES ('Company-one', 1, 1, 10, 10, 'MyCity', '2016-12-10 01:27:57.387455', '2016-12-10 01:27:57.387455', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "share", "like", "city", "created_at", "updated_at", "id") VALUES ('Company-two', 2, 2, 20, 20, 'MyCity', '2016-12-10 01:27:57.387455', '2016-12-10 01:27:57.387455', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-10 01:27:57.389693', '2016-12-10 01:27:57.389693', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-10 01:27:57.389693', '2016-12-10 01:27:57.389693', 298486374, 298486374)[0m
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 01:27:57 UTC], ["updated_at", 2016-12-10 01:27:57 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-10 01:27:57 UTC], ["updated_at", 2016-12-10 01:27:57 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.1ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 01:27:57 UTC], ["updated_at", 2016-12-10 01:27:57 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (2.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
Started GET "/about" for 127.0.0.1 at 2016-12-09 20:27:57 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (1532.0ms)
  Rendered layouts/_header.html.erb (3.4ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 1611ms (Views: 1601.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
Started GET "/home" for 127.0.0.1 at 2016-12-09 20:27:59 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (10.4ms)
  Rendered layouts/_header.html.erb (3.1ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 60ms (Views: 19.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
Started GET "/place/1/2" for 127.0.0.1 at 2016-12-09 20:27:59 -0500
Processing by IndexController#place as HTML
  Parameters: {"id"=>"1", "no"=>"2"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-10 01:27:59 UTC], ["updated_at", 2016-12-10 01:27:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.8ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-10 01:28:59.820658', '2016-12-10 01:28:59.820658', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-10 01:28:59.820658', '2016-12-10 01:28:59.820658', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "share", "like", "city", "created_at", "updated_at", "id") VALUES ('Company-one', 1, 1, 10, 10, 'MyCity', '2016-12-10 01:28:59.825963', '2016-12-10 01:28:59.825963', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "share", "like", "city", "created_at", "updated_at", "id") VALUES ('Company-two', 2, 2, 20, 20, 'MyCity', '2016-12-10 01:28:59.825963', '2016-12-10 01:28:59.825963', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-10 01:28:59.828341', '2016-12-10 01:28:59.828341', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-10 01:28:59.828341', '2016-12-10 01:28:59.828341', 298486374, 298486374)[0m
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-10 01:28:59 UTC], ["updated_at", 2016-12-10 01:28:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 01:28:59 UTC], ["updated_at", 2016-12-10 01:28:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-10 01:28:59 UTC], ["updated_at", 2016-12-10 01:28:59 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.1ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 01:28:59 UTC], ["updated_at", 2016-12-10 01:28:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (18.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
Started GET "/place/2/2" for 127.0.0.1 at 2016-12-09 20:29:00 -0500
Processing by IndexController#place as HTML
  Parameters: {"id"=>"2", "no"=>"2"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 404 Not Found in 10ms (ActiveRecord: 0.1ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
Started GET "/home" for 127.0.0.1 at 2016-12-09 20:29:00 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (904.8ms)
  Rendered layouts/_header.html.erb (3.4ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 933ms (Views: 931.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
Started GET "/about" for 127.0.0.1 at 2016-12-09 20:29:01 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (6.2ms)
  Rendered layouts/_header.html.erb (3.0ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 35ms (Views: 15.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-10 01:29:35.907738', '2016-12-10 01:29:35.907738', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-10 01:29:35.907738', '2016-12-10 01:29:35.907738', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "share", "like", "city", "created_at", "updated_at", "id") VALUES ('Company-one', 1, 1, 10, 10, 'MyCity', '2016-12-10 01:29:35.912731', '2016-12-10 01:29:35.912731', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "share", "like", "city", "created_at", "updated_at", "id") VALUES ('Company-two', 2, 2, 20, 20, 'MyCity', '2016-12-10 01:29:35.912731', '2016-12-10 01:29:35.912731', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-10 01:29:35.914971', '2016-12-10 01:29:35.914971', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-10 01:29:35.914971', '2016-12-10 01:29:35.914971', 298486374, 298486374)[0m
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-10 01:29:35 UTC], ["updated_at", 2016-12-10 01:29:35 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
Started GET "/ranking/2" for 127.0.0.1 at 2016-12-09 20:29:36 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category"=>"2"}
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 404 Not Found in 11ms (ActiveRecord: 0.1ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
Started GET "/place/2/2" for 127.0.0.1 at 2016-12-09 20:29:36 -0500
Processing by IndexController#place as HTML
  Parameters: {"id"=>"2", "no"=>"2"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
Started GET "/home" for 127.0.0.1 at 2016-12-09 20:29:36 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (922.0ms)
  Rendered layouts/_header.html.erb (3.5ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 954ms (Views: 952.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
Started GET "/about" for 127.0.0.1 at 2016-12-09 20:29:37 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (6.6ms)
  Rendered layouts/_header.html.erb (3.2ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 36ms (Views: 16.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 01:29:37 UTC], ["updated_at", 2016-12-10 01:29:37 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-10 01:29:37 UTC], ["updated_at", 2016-12-10 01:29:37 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.1ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 01:29:37 UTC], ["updated_at", 2016-12-10 01:29:37 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (27.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-10 01:30:55.919740', '2016-12-10 01:30:55.919740', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-10 01:30:55.919740', '2016-12-10 01:30:55.919740', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("id", "name", "category", "subcategory", "share", "like", "city", "created_at", "updated_at") VALUES (1, 'Company-one', 1, 1, 10, 10, 'MyCity', '2016-12-10 01:30:55.924033', '2016-12-10 01:30:55.924033')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("id", "name", "category", "subcategory", "share", "like", "city", "created_at", "updated_at") VALUES (2, 'Company-two', 2, 2, 20, 20, 'MyCity', '2016-12-10 01:30:55.924033', '2016-12-10 01:30:55.924033')[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-10 01:30:55.926165', '2016-12-10 01:30:55.926165', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-10 01:30:55.926165', '2016-12-10 01:30:55.926165', 298486374, 298486374)[0m
  [1m[35m (2.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 01:30:55 UTC], ["updated_at", 2016-12-10 01:30:55 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-10 01:30:55 UTC], ["updated_at", 2016-12-10 01:30:55 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.1ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (2.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 01:30:55 UTC], ["updated_at", 2016-12-10 01:30:55 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-10 01:30:55 UTC], ["updated_at", 2016-12-10 01:30:55 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
Started GET "/about" for 127.0.0.1 at 2016-12-09 20:30:56 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (908.9ms)
  Rendered layouts/_header.html.erb (5.0ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 1013ms (Views: 1003.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
Started GET "/home" for 127.0.0.1 at 2016-12-09 20:30:57 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (10.2ms)
  Rendered layouts/_header.html.erb (3.3ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 47ms (Views: 20.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
Started GET "/ranking/2" for 127.0.0.1 at 2016-12-09 20:30:57 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category"=>"2"}
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
Started GET "/place/2/2" for 127.0.0.1 at 2016-12-09 20:30:57 -0500
Processing by IndexController#place as HTML
  Parameters: {"id"=>"2", "no"=>"2"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering index/place.html.erb within layouts/application
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered index/place.html.erb within layouts/application (27.9ms)
Completed 500 Internal Server Error in 58ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("id", "name", "created_at", "updated_at") VALUES (1, 'MyString', '2016-12-10 01:31:42.188849', '2016-12-10 01:31:42.188849')[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("id", "name", "created_at", "updated_at") VALUES (2, 'MyString', '2016-12-10 01:31:42.188849', '2016-12-10 01:31:42.188849')[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("id", "name", "category", "subcategory", "share", "like", "city", "created_at", "updated_at") VALUES (1, 'Company-one', 1, 1, 10, 10, 'MyCity', '2016-12-10 01:31:42.193880', '2016-12-10 01:31:42.193880')[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "companies" ("id", "name", "category", "subcategory", "share", "like", "city", "created_at", "updated_at") VALUES (2, 'Company-two', 2, 2, 20, 20, 'MyCity', '2016-12-10 01:31:42.193880', '2016-12-10 01:31:42.193880')[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-10 01:31:42.196174', '2016-12-10 01:31:42.196174', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-10 01:31:42.196174', '2016-12-10 01:31:42.196174', 298486374, 298486374)[0m
  [1m[35m (95.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-10 01:31:42 UTC], ["updated_at", 2016-12-10 01:31:42 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (2.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
Started GET "/ranking/2" for 127.0.0.1 at 2016-12-09 20:31:42 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category"=>"2"}
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering index/ranking.html.erb within layouts/application
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies" WHERE (category = '2')[0m
  Rendered index/ranking.html.erb within layouts/application (347.3ms)
  Rendered layouts/_header.html.erb (3.2ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 386ms (Views: 362.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
Started GET "/about" for 127.0.0.1 at 2016-12-09 20:31:43 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (8.8ms)
  Rendered layouts/_header.html.erb (3.6ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 23ms (Views: 22.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
Started GET "/home" for 127.0.0.1 at 2016-12-09 20:31:43 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (10.0ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 20ms (Views: 19.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
Started GET "/place/2/2" for 127.0.0.1 at 2016-12-09 20:31:43 -0500
Processing by IndexController#place as HTML
  Parameters: {"id"=>"2", "no"=>"2"}
  [1m[36mCompany Load (0.2ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering index/place.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered index/place.html.erb within layouts/application (5.7ms)
  Rendered layouts/_header.html.erb (3.6ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 19ms (Views: 16.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 01:31:43 UTC], ["updated_at", 2016-12-10 01:31:43 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (2.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 01:31:43 UTC], ["updated_at", 2016-12-10 01:31:43 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-10 01:31:43 UTC], ["updated_at", 2016-12-10 01:31:43 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.1ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (3.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-10 01:38:17.552608', '2016-12-10 01:38:17.552608', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-10 01:38:17.552608', '2016-12-10 01:38:17.552608', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "share", "like", "city", "created_at", "updated_at", "id") VALUES ('Company-one', 1, 1, 10, 10, 'MyCity', '2016-12-10 01:38:17.557213', '2016-12-10 01:38:17.557213', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "share", "like", "city", "created_at", "updated_at", "id") VALUES ('Company-two', 2, 2, 20, 20, 'MyCity', '2016-12-10 01:38:17.557213', '2016-12-10 01:38:17.557213', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-10 01:38:17.559323', '2016-12-10 01:38:17.559323', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-10 01:38:17.559323', '2016-12-10 01:38:17.559323', 298486374, 298486374)[0m
  [1m[35m (1.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 01:38:17 UTC], ["updated_at", 2016-12-10 01:38:17 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 01:38:17 UTC], ["updated_at", 2016-12-10 01:38:17 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-10 01:38:17 UTC], ["updated_at", 2016-12-10 01:38:17 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.1ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (2.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-10 01:38:17 UTC], ["updated_at", 2016-12-10 01:38:17 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (2.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-10 01:39:25.720305', '2016-12-10 01:39:25.720305', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-10 01:39:25.720305', '2016-12-10 01:39:25.720305', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "share", "like", "city", "created_at", "updated_at", "id") VALUES ('Company-one', 1, 1, 10, 10, 'MyCity', '2016-12-10 01:39:25.724792', '2016-12-10 01:39:25.724792', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "share", "like", "city", "created_at", "updated_at", "id") VALUES ('Company-two', 2, 2, 20, 20, 'MyCity', '2016-12-10 01:39:25.724792', '2016-12-10 01:39:25.724792', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-10 01:39:25.726994', '2016-12-10 01:39:25.726994', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-10 01:39:25.726994', '2016-12-10 01:39:25.726994', 298486374, 298486374)[0m
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 01:39:25 UTC], ["updated_at", 2016-12-10 01:39:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 01:39:25 UTC], ["updated_at", 2016-12-10 01:39:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-10 01:39:25 UTC], ["updated_at", 2016-12-10 01:39:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.1ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-10 01:39:25 UTC], ["updated_at", 2016-12-10 01:39:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 01:39:26 UTC], ["updated_at", 2016-12-10 01:39:26 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 01:39:26 UTC], ["updated_at", 2016-12-10 01:39:26 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/about" for 127.0.0.1 at 2016-12-09 20:39:26 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (724.6ms)
  Rendered layouts/_header.html.erb (3.4ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 829ms (Views: 818.9ms | ActiveRecord: 0.0ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 01:39:27 UTC], ["updated_at", 2016-12-10 01:39:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 01:39:27 UTC], ["updated_at", 2016-12-10 01:39:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/place/980190963/1" for 127.0.0.1 at 2016-12-09 20:39:27 -0500
Processing by IndexController#place as HTML
  Parameters: {"id"=>"980190963", "no"=>"1"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering index/place.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/place.html.erb within layouts/application (5.6ms)
  Rendered layouts/_header.html.erb (3.0ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 50ms (Views: 14.7ms | ActiveRecord: 0.2ms)
  [1m[35m (2.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 01:39:27 UTC], ["updated_at", 2016-12-10 01:39:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 01:39:27 UTC], ["updated_at", 2016-12-10 01:39:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/ranking/980190963" for 127.0.0.1 at 2016-12-09 20:39:27 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category"=>"980190963"}
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering index/ranking.html.erb within layouts/application
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies" WHERE (category = '980190963')[0m
  Rendered index/ranking.html.erb within layouts/application (2.8ms)
  Rendered layouts/_header.html.erb (3.1ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 44ms (Views: 14.1ms | ActiveRecord: 0.1ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 01:39:27 UTC], ["updated_at", 2016-12-10 01:39:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 01:39:27 UTC], ["updated_at", 2016-12-10 01:39:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/home" for 127.0.0.1 at 2016-12-09 20:39:27 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (13.8ms)
  Rendered layouts/_header.html.erb (4.9ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 69ms (Views: 28.6ms | ActiveRecord: 0.1ms)
  [1m[35m (1.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-10 01:43:26.417560', '2016-12-10 01:43:26.417560', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-10 01:43:26.417560', '2016-12-10 01:43:26.417560', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "share", "like", "city", "created_at", "updated_at", "id") VALUES ('Company-one', 1, 1, 10, 10, 'MyCity', '2016-12-10 01:43:26.422517', '2016-12-10 01:43:26.422517', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "share", "like", "city", "created_at", "updated_at", "id") VALUES ('Company-two', 2, 2, 20, 20, 'MyCity', '2016-12-10 01:43:26.422517', '2016-12-10 01:43:26.422517', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-10 01:43:26.424947', '2016-12-10 01:43:26.424947', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-10 01:43:26.424947', '2016-12-10 01:43:26.424947', 298486374, 298486374)[0m
  [1m[35m (1.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-10 01:43:26 UTC], ["updated_at", 2016-12-10 01:43:26 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (15.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 01:43:26 UTC], ["updated_at", 2016-12-10 01:43:26 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 01:43:26 UTC], ["updated_at", 2016-12-10 01:43:26 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/ranking/980190963" for 127.0.0.1 at 2016-12-09 20:43:26 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category"=>"980190963"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering index/ranking.html.erb within layouts/application
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies" WHERE (category = '980190963')[0m
  Rendered index/ranking.html.erb within layouts/application (328.0ms)
  Rendered layouts/_header.html.erb (3.2ms)
  Rendered layouts/_footer.html.erb (0.9ms)
Completed 200 OK in 567ms (Views: 515.3ms | ActiveRecord: 0.3ms)
  [1m[35m (21.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 01:43:27 UTC], ["updated_at", 2016-12-10 01:43:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 01:43:27 UTC], ["updated_at", 2016-12-10 01:43:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/about" for 127.0.0.1 at 2016-12-09 20:43:27 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (6.1ms)
  Rendered layouts/_header.html.erb (3.0ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 32ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35m (3.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 01:43:27 UTC], ["updated_at", 2016-12-10 01:43:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 01:43:27 UTC], ["updated_at", 2016-12-10 01:43:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/place/980190963/1" for 127.0.0.1 at 2016-12-09 20:43:27 -0500
Processing by IndexController#place as HTML
  Parameters: {"id"=>"980190963", "no"=>"1"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering index/place.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/place.html.erb within layouts/application (5.3ms)
  Rendered layouts/_header.html.erb (3.1ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 50ms (Views: 14.5ms | ActiveRecord: 0.2ms)
  [1m[35m (2.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 01:43:27 UTC], ["updated_at", 2016-12-10 01:43:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 01:43:27 UTC], ["updated_at", 2016-12-10 01:43:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/home" for 127.0.0.1 at 2016-12-09 20:43:27 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (15.6ms)
  Rendered layouts/_header.html.erb (4.2ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 39ms (Views: 27.5ms | ActiveRecord: 0.1ms)
  [1m[35m (1.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 01:43:27 UTC], ["updated_at", 2016-12-10 01:43:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-10 01:43:27 UTC], ["updated_at", 2016-12-10 01:43:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.1ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (119.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 01:43:27 UTC], ["updated_at", 2016-12-10 01:43:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (67.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (18.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (37.9ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-10 02:20:13.441848', '2016-12-10 02:20:13.441848', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-10 02:20:13.441848', '2016-12-10 02:20:13.441848', 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "share", "like", "city", "created_at", "updated_at", "id") VALUES ('Company-one', 1, 1, 10, 10, 'MyCity', '2016-12-10 02:20:13.507181', '2016-12-10 02:20:13.507181', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "share", "like", "city", "created_at", "updated_at", "id") VALUES ('Company-two', 2, 2, 20, 20, 'MyCity', '2016-12-10 02:20:13.507181', '2016-12-10 02:20:13.507181', 298486374)[0m
  [1m[36mFixture Delete (0.9ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-10 02:20:13.510672', '2016-12-10 02:20:13.510672', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-10 02:20:13.510672', '2016-12-10 02:20:13.510672', 298486374, 298486374)[0m
  [1m[35m (26.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:20:13 UTC], ["updated_at", 2016-12-10 02:20:13 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (18.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:20:13 UTC], ["updated_at", 2016-12-10 02:20:13 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-10 02:20:13 UTC], ["updated_at", 2016-12-10 02:20:13 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.1ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:20:14 UTC], ["updated_at", 2016-12-10 02:20:14 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 02:20:14 UTC], ["updated_at", 2016-12-10 02:20:14 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/ranking/980190963" for 127.0.0.1 at 2016-12-09 21:20:14 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category"=>"980190963"}
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering index/ranking.html.erb within layouts/application
  [1m[36mCompany Load (0.2ms)[0m  [1m[34mSELECT "companies".* FROM "companies" WHERE (category = '980190963')[0m
  Rendered index/ranking.html.erb within layouts/application (1192.2ms)
  Rendered layouts/_header.html.erb (4.8ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 1292ms (Views: 1257.1ms | ActiveRecord: 0.3ms)
  [1m[35m (1.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
IndexControllerTest: test_should_get_search
-------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:20:15 UTC], ["updated_at", 2016-12-10 02:20:15 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 02:20:15 UTC], ["updated_at", 2016-12-10 02:20:15 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/search" for 127.0.0.1 at 2016-12-09 21:20:15 -0500
Processing by IndexController#search as HTML
  Rendering index/search.html.erb within layouts/application
  Rendered index/search.html.erb within layouts/application (0.7ms)
  Rendered layouts/_header.html.erb (3.3ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 50ms (Views: 12.9ms | ActiveRecord: 0.0ms)
  [1m[35m (17.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:20:15 UTC], ["updated_at", 2016-12-10 02:20:15 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 02:20:15 UTC], ["updated_at", 2016-12-10 02:20:15 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/about" for 127.0.0.1 at 2016-12-09 21:20:15 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (7.6ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 44ms (Views: 18.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:20:15 UTC], ["updated_at", 2016-12-10 02:20:15 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 02:20:15 UTC], ["updated_at", 2016-12-10 02:20:15 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/home" for 127.0.0.1 at 2016-12-09 21:20:15 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (10.5ms)
  Rendered layouts/_header.html.erb (4.6ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 23ms (Views: 21.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:20:15 UTC], ["updated_at", 2016-12-10 02:20:15 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 02:20:15 UTC], ["updated_at", 2016-12-10 02:20:15 UTC]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/place/980190963/1" for 127.0.0.1 at 2016-12-09 21:20:15 -0500
Processing by IndexController#place as HTML
  Parameters: {"id"=>"980190963", "no"=>"1"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering index/place.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/place.html.erb within layouts/application (8.4ms)
  Rendered layouts/_header.html.erb (5.0ms)
  Rendered layouts/_footer.html.erb (0.9ms)
Completed 200 OK in 32ms (Views: 21.5ms | ActiveRecord: 0.2ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-10 02:20:15 UTC], ["updated_at", 2016-12-10 02:20:15 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (28.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-10 02:21:13.240183', '2016-12-10 02:21:13.240183', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-10 02:21:13.240183', '2016-12-10 02:21:13.240183', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "share", "like", "city", "created_at", "updated_at", "id") VALUES ('Company-one', 1, 1, 10, 10, 'MyCity', '2016-12-10 02:21:13.244371', '2016-12-10 02:21:13.244371', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "share", "like", "city", "created_at", "updated_at", "id") VALUES ('Company-two', 2, 2, 20, 20, 'MyCity', '2016-12-10 02:21:13.244371', '2016-12-10 02:21:13.244371', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-10 02:21:13.246438', '2016-12-10 02:21:13.246438', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-10 02:21:13.246438', '2016-12-10 02:21:13.246438', 298486374, 298486374)[0m
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:21:13 UTC], ["updated_at", 2016-12-10 02:21:13 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-10 02:21:13 UTC], ["updated_at", 2016-12-10 02:21:13 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.1ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:21:13 UTC], ["updated_at", 2016-12-10 02:21:13 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-10 02:21:13 UTC], ["updated_at", 2016-12-10 02:21:13 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (21.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
IndexControllerTest: test_should_get_search
-------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:21:13 UTC], ["updated_at", 2016-12-10 02:21:13 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 02:21:13 UTC], ["updated_at", 2016-12-10 02:21:13 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:21:13 UTC], ["updated_at", 2016-12-10 02:21:13 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 02:21:13 UTC], ["updated_at", 2016-12-10 02:21:13 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:21:13 UTC], ["updated_at", 2016-12-10 02:21:13 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 02:21:13 UTC], ["updated_at", 2016-12-10 02:21:13 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:21:13 UTC], ["updated_at", 2016-12-10 02:21:13 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 02:21:13 UTC], ["updated_at", 2016-12-10 02:21:13 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (3.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:21:13 UTC], ["updated_at", 2016-12-10 02:21:13 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 02:21:13 UTC], ["updated_at", 2016-12-10 02:21:13 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (23.0ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-10 02:25:36.027007', '2016-12-10 02:25:36.027007', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-10 02:25:36.027007', '2016-12-10 02:25:36.027007', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "share", "like", "city", "created_at", "updated_at", "id") VALUES ('Company-one', 1, 1, 10, 10, 'MyCity', '2016-12-10 02:25:36.075705', '2016-12-10 02:25:36.075705', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "share", "like", "city", "created_at", "updated_at", "id") VALUES ('Company-two', 2, 2, 20, 20, 'MyCity', '2016-12-10 02:25:36.075705', '2016-12-10 02:25:36.075705', 298486374)[0m
  [1m[36mFixture Delete (6.7ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-10 02:25:36.077966', '2016-12-10 02:25:36.077966', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-10 02:25:36.077966', '2016-12-10 02:25:36.077966', 298486374, 298486374)[0m
  [1m[35m (14.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:25:36 UTC], ["updated_at", 2016-12-10 02:25:36 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-10 02:25:36 UTC], ["updated_at", 2016-12-10 02:25:36 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.1ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (41.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:25:36 UTC], ["updated_at", 2016-12-10 02:25:36 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-10 02:25:36 UTC], ["updated_at", 2016-12-10 02:25:36 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:25:36 UTC], ["updated_at", 2016-12-10 02:25:36 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 02:25:36 UTC], ["updated_at", 2016-12-10 02:25:36 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/about" for 127.0.0.1 at 2016-12-09 21:25:36 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (1221.0ms)
  Rendered layouts/_header.html.erb (3.4ms)
  Rendered layouts/_footer.html.erb (0.9ms)
Completed 200 OK in 1334ms (Views: 1305.5ms | ActiveRecord: 0.0ms)
  [1m[35m (120.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:25:38 UTC], ["updated_at", 2016-12-10 02:25:38 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 02:25:38 UTC], ["updated_at", 2016-12-10 02:25:38 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/place/980190963/1" for 127.0.0.1 at 2016-12-09 21:25:38 -0500
Processing by IndexController#place as HTML
  Parameters: {"id"=>"980190963", "no"=>"1"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering index/place.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/place.html.erb within layouts/application (6.6ms)
  Rendered layouts/_header.html.erb (3.0ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 91ms (Views: 17.6ms | ActiveRecord: 0.2ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
IndexControllerTest: test_should_get_search
-------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:25:38 UTC], ["updated_at", 2016-12-10 02:25:38 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 02:25:38 UTC], ["updated_at", 2016-12-10 02:25:38 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:25:38 UTC], ["updated_at", 2016-12-10 02:25:38 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 02:25:38 UTC], ["updated_at", 2016-12-10 02:25:38 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/ranking/980190963" for 127.0.0.1 at 2016-12-09 21:25:38 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category"=>"980190963"}
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering index/ranking.html.erb within layouts/application
  [1m[36mCompany Load (0.3ms)[0m  [1m[34mSELECT "companies".* FROM "companies" WHERE (category = '980190963')[0m
  Rendered index/ranking.html.erb within layouts/application (3.6ms)
  Rendered layouts/_header.html.erb (3.8ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 47ms (Views: 14.5ms | ActiveRecord: 0.4ms)
  [1m[35m (33.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:25:38 UTC], ["updated_at", 2016-12-10 02:25:38 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 02:25:38 UTC], ["updated_at", 2016-12-10 02:25:38 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/home" for 127.0.0.1 at 2016-12-09 21:25:38 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (13.1ms)
  Rendered layouts/_header.html.erb (4.8ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 44ms (Views: 28.7ms | ActiveRecord: 0.1ms)
  [1m[35m (1.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-10 02:26:47.967106', '2016-12-10 02:26:47.967106', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-10 02:26:47.967106', '2016-12-10 02:26:47.967106', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "share", "like", "city", "created_at", "updated_at", "id") VALUES ('Company-one', 1, 1, 10, 10, 'MyCity', '2016-12-10 02:26:47.971502', '2016-12-10 02:26:47.971502', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "share", "like", "city", "created_at", "updated_at", "id") VALUES ('Company-two', 2, 2, 20, 20, 'MyCity', '2016-12-10 02:26:47.971502', '2016-12-10 02:26:47.971502', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-10 02:26:47.973708', '2016-12-10 02:26:47.973708', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-10 02:26:47.973708', '2016-12-10 02:26:47.973708', 298486374, 298486374)[0m
  [1m[35m (6.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:26:48 UTC], ["updated_at", 2016-12-10 02:26:48 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-10 02:26:48 UTC], ["updated_at", 2016-12-10 02:26:48 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.1ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (15.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:26:48 UTC], ["updated_at", 2016-12-10 02:26:48 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (2.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-10 02:26:48 UTC], ["updated_at", 2016-12-10 02:26:48 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (5.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:26:48 UTC], ["updated_at", 2016-12-10 02:26:48 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 02:26:48 UTC], ["updated_at", 2016-12-10 02:26:48 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/place/980190963/1" for 127.0.0.1 at 2016-12-09 21:26:48 -0500
Processing by IndexController#place as HTML
  Parameters: {"id"=>"980190963", "no"=>"1"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering index/place.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/place.html.erb within layouts/application (390.4ms)
  Rendered layouts/_header.html.erb (3.5ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 415ms (Views: 404.0ms | ActiveRecord: 0.2ms)
  [1m[35m (33.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:26:48 UTC], ["updated_at", 2016-12-10 02:26:48 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 02:26:48 UTC], ["updated_at", 2016-12-10 02:26:48 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/about" for 127.0.0.1 at 2016-12-09 21:26:48 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (6.3ms)
  Rendered layouts/_header.html.erb (3.0ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 18ms (Views: 16.5ms | ActiveRecord: 0.0ms)
  [1m[35m (7.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:26:48 UTC], ["updated_at", 2016-12-10 02:26:48 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 02:26:48 UTC], ["updated_at", 2016-12-10 02:26:48 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/ranking/980190963" for 127.0.0.1 at 2016-12-09 21:26:48 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category"=>"980190963"}
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering index/ranking.html.erb within layouts/application
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies" WHERE (category = '980190963')[0m
  Rendered index/ranking.html.erb within layouts/application (3.0ms)
  Rendered layouts/_header.html.erb (3.0ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 15ms (Views: 13.0ms | ActiveRecord: 0.1ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:26:48 UTC], ["updated_at", 2016-12-10 02:26:48 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 02:26:48 UTC], ["updated_at", 2016-12-10 02:26:48 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/home" for 127.0.0.1 at 2016-12-09 21:26:48 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (12.2ms)
  Rendered layouts/_header.html.erb (5.4ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 27ms (Views: 25.8ms | ActiveRecord: 0.1ms)
  [1m[35m (11.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
IndexControllerTest: test_should_get_search
-------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:26:49 UTC], ["updated_at", 2016-12-10 02:26:49 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 02:26:49 UTC], ["updated_at", 2016-12-10 02:26:49 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/search" for 127.0.0.1 at 2016-12-09 21:26:49 -0500
Processing by IndexController#search as HTML
  Rendering index/search.html.erb within layouts/application
  Rendered index/search.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (5.5ms)
  Rendered layouts/_footer.html.erb (0.9ms)
Completed 200 OK in 16ms (Views: 15.0ms | ActiveRecord: 0.0ms)
  [1m[35m (14.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (15.2ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-10 02:29:08.721952', '2016-12-10 02:29:08.721952', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-10 02:29:08.721952', '2016-12-10 02:29:08.721952', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "share", "like", "city", "created_at", "updated_at", "id") VALUES ('Company-one', 1, 1, 10, 10, 'MyCity', '2016-12-10 02:29:08.742115', '2016-12-10 02:29:08.742115', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "share", "like", "city", "created_at", "updated_at", "id") VALUES ('Company-two', 2, 2, 20, 20, 'MyCity', '2016-12-10 02:29:08.742115', '2016-12-10 02:29:08.742115', 298486374)[0m
  [1m[36mFixture Delete (1.0ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-10 02:29:08.744246', '2016-12-10 02:29:08.744246', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-10 02:29:08.744246', '2016-12-10 02:29:08.744246', 298486374, 298486374)[0m
  [1m[35m (18.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
IndexControllerTest: test_should_get_search
-------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:29:09 UTC], ["updated_at", 2016-12-10 02:29:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (11.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 02:29:09 UTC], ["updated_at", 2016-12-10 02:29:09 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (23.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:29:09 UTC], ["updated_at", 2016-12-10 02:29:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 02:29:09 UTC], ["updated_at", 2016-12-10 02:29:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/about" for 127.0.0.1 at 2016-12-09 21:29:09 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (1391.6ms)
  Rendered layouts/_header.html.erb (3.2ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 1517ms (Views: 1488.3ms | ActiveRecord: 0.0ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:29:11 UTC], ["updated_at", 2016-12-10 02:29:11 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 02:29:11 UTC], ["updated_at", 2016-12-10 02:29:11 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/home" for 127.0.0.1 at 2016-12-09 21:29:11 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (9.8ms)
  Rendered layouts/_header.html.erb (3.1ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 20ms (Views: 18.9ms | ActiveRecord: 0.1ms)
  [1m[35m (38.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:29:11 UTC], ["updated_at", 2016-12-10 02:29:11 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 02:29:11 UTC], ["updated_at", 2016-12-10 02:29:11 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/place/980190963/1" for 127.0.0.1 at 2016-12-09 21:29:11 -0500
Processing by IndexController#place as HTML
  Parameters: {"id"=>"980190963", "no"=>"1"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering index/place.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/place.html.erb within layouts/application (7.4ms)
  Rendered layouts/_header.html.erb (4.6ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 83ms (Views: 19.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:29:11 UTC], ["updated_at", 2016-12-10 02:29:11 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 02:29:11 UTC], ["updated_at", 2016-12-10 02:29:11 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/ranking/980190963" for 127.0.0.1 at 2016-12-09 21:29:11 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category"=>"980190963"}
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering index/ranking.html.erb within layouts/application
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies" WHERE (category = '980190963')[0m
  Rendered index/ranking.html.erb within layouts/application (4.2ms)
  Rendered layouts/_header.html.erb (5.2ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 34ms (Views: 18.1ms | ActiveRecord: 0.1ms)
  [1m[35m (1.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-10 02:29:11 UTC], ["updated_at", 2016-12-10 02:29:11 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (2.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:29:11 UTC], ["updated_at", 2016-12-10 02:29:11 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-10 02:29:11 UTC], ["updated_at", 2016-12-10 02:29:11 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.1ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (2.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:29:11 UTC], ["updated_at", 2016-12-10 02:29:11 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.9ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-10 02:29:31.728223', '2016-12-10 02:29:31.728223', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-10 02:29:31.728223', '2016-12-10 02:29:31.728223', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "share", "like", "city", "created_at", "updated_at", "id") VALUES ('Company-one', 1, 1, 10, 10, 'MyCity', '2016-12-10 02:29:31.733575', '2016-12-10 02:29:31.733575', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "share", "like", "city", "created_at", "updated_at", "id") VALUES ('Company-two', 2, 2, 20, 20, 'MyCity', '2016-12-10 02:29:31.733575', '2016-12-10 02:29:31.733575', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-10 02:29:31.736038', '2016-12-10 02:29:31.736038', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-10 02:29:31.736038', '2016-12-10 02:29:31.736038', 298486374, 298486374)[0m
  [1m[35m (1.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:29:31 UTC], ["updated_at", 2016-12-10 02:29:31 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-10 02:29:31 UTC], ["updated_at", 2016-12-10 02:29:31 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.1ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:29:31 UTC], ["updated_at", 2016-12-10 02:29:31 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (2.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-10 02:29:31 UTC], ["updated_at", 2016-12-10 02:29:31 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:29:32 UTC], ["updated_at", 2016-12-10 02:29:32 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 02:29:32 UTC], ["updated_at", 2016-12-10 02:29:32 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/about" for 127.0.0.1 at 2016-12-09 21:29:32 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (329.3ms)
  Rendered layouts/_header.html.erb (7.2ms)
  Rendered layouts/_footer.html.erb (1.3ms)
Completed 200 OK in 362ms (Views: 352.3ms | ActiveRecord: 0.0ms)
  [1m[35m (6.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:29:32 UTC], ["updated_at", 2016-12-10 02:29:32 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 02:29:32 UTC], ["updated_at", 2016-12-10 02:29:32 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/home" for 127.0.0.1 at 2016-12-09 21:29:32 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (10.2ms)
  Rendered layouts/_header.html.erb (3.2ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 21ms (Views: 20.1ms | ActiveRecord: 0.1ms)
  [1m[35m (4.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:29:32 UTC], ["updated_at", 2016-12-10 02:29:32 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 02:29:32 UTC], ["updated_at", 2016-12-10 02:29:32 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/place/980190963/1" for 127.0.0.1 at 2016-12-09 21:29:32 -0500
Processing by IndexController#place as HTML
  Parameters: {"id"=>"980190963", "no"=>"1"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering index/place.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/place.html.erb within layouts/application (5.9ms)
  Rendered layouts/_header.html.erb (3.6ms)
  Rendered layouts/_footer.html.erb (1.1ms)
Completed 200 OK in 19ms (Views: 16.4ms | ActiveRecord: 0.2ms)
  [1m[35m (2.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:29:32 UTC], ["updated_at", 2016-12-10 02:29:32 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 02:29:32 UTC], ["updated_at", 2016-12-10 02:29:32 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/ranking/980190963" for 127.0.0.1 at 2016-12-09 21:29:32 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category"=>"980190963"}
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering index/ranking.html.erb within layouts/application
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies" WHERE (category = '980190963')[0m
  Rendered index/ranking.html.erb within layouts/application (8.6ms)
  Rendered layouts/_header.html.erb (4.3ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 22ms (Views: 20.1ms | ActiveRecord: 0.2ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
IndexControllerTest: test_should_get_search
-------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:29:32 UTC], ["updated_at", 2016-12-10 02:29:32 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 02:29:32 UTC], ["updated_at", 2016-12-10 02:29:32 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-10 02:30:25.385890', '2016-12-10 02:30:25.385890', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-10 02:30:25.385890', '2016-12-10 02:30:25.385890', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "share", "like", "city", "created_at", "updated_at", "id") VALUES ('Company-one', 1, 1, 10, 10, 'MyCity', '2016-12-10 02:30:25.390234', '2016-12-10 02:30:25.390234', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "share", "like", "city", "created_at", "updated_at", "id") VALUES ('Company-two', 2, 2, 20, 20, 'MyCity', '2016-12-10 02:30:25.390234', '2016-12-10 02:30:25.390234', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-10 02:30:25.392429', '2016-12-10 02:30:25.392429', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-10 02:30:25.392429', '2016-12-10 02:30:25.392429', 298486374, 298486374)[0m
  [1m[35m (2.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:30:25 UTC], ["updated_at", 2016-12-10 02:30:25 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-10 02:30:25 UTC], ["updated_at", 2016-12-10 02:30:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.1ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (14.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:30:25 UTC], ["updated_at", 2016-12-10 02:30:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (3.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-10 02:30:25 UTC], ["updated_at", 2016-12-10 02:30:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (3.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:30:25 UTC], ["updated_at", 2016-12-10 02:30:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 02:30:25 UTC], ["updated_at", 2016-12-10 02:30:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:30:25 UTC], ["updated_at", 2016-12-10 02:30:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 02:30:25 UTC], ["updated_at", 2016-12-10 02:30:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:30:25 UTC], ["updated_at", 2016-12-10 02:30:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 02:30:25 UTC], ["updated_at", 2016-12-10 02:30:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:30:25 UTC], ["updated_at", 2016-12-10 02:30:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 02:30:25 UTC], ["updated_at", 2016-12-10 02:30:25 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
IndexControllerTest: test_should_get_search
-------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:30:25 UTC], ["updated_at", 2016-12-10 02:30:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 02:30:25 UTC], ["updated_at", 2016-12-10 02:30:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (15.4ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (1.4ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-10 02:33:15.877533', '2016-12-10 02:33:15.877533', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-10 02:33:15.877533', '2016-12-10 02:33:15.877533', 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "share", "like", "city", "created_at", "updated_at", "id") VALUES ('Company-one', 1, 1, 10, 10, 'MyCity', '2016-12-10 02:33:15.918908', '2016-12-10 02:33:15.918908', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "share", "like", "city", "created_at", "updated_at", "id") VALUES ('Company-two', 2, 2, 20, 20, 'MyCity', '2016-12-10 02:33:15.918908', '2016-12-10 02:33:15.918908', 298486374)[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-10 02:33:15.933360', '2016-12-10 02:33:15.933360', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-10 02:33:15.933360', '2016-12-10 02:33:15.933360', 298486374, 298486374)[0m
  [1m[35m (79.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-10 02:33:16 UTC], ["updated_at", 2016-12-10 02:33:16 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:33:16 UTC], ["updated_at", 2016-12-10 02:33:16 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-10 02:33:16 UTC], ["updated_at", 2016-12-10 02:33:16 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.1ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:33:16 UTC], ["updated_at", 2016-12-10 02:33:16 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (25.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:33:16 UTC], ["updated_at", 2016-12-10 02:33:16 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 02:33:16 UTC], ["updated_at", 2016-12-10 02:33:16 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/place/980190963/1" for 127.0.0.1 at 2016-12-09 21:33:16 -0500
Processing by IndexController#place as HTML
  Parameters: {"id"=>"980190963", "no"=>"1"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering index/place.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/place.html.erb within layouts/application (1432.7ms)
  Rendered layouts/_header.html.erb (3.3ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 1560ms (Views: 1531.1ms | ActiveRecord: 0.2ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:33:18 UTC], ["updated_at", 2016-12-10 02:33:18 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 02:33:18 UTC], ["updated_at", 2016-12-10 02:33:18 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/about" for 127.0.0.1 at 2016-12-09 21:33:18 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (6.5ms)
  Rendered layouts/_header.html.erb (3.1ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 41ms (Views: 16.7ms | ActiveRecord: 0.0ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
IndexControllerTest: test_should_get_search
-------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:33:18 UTC], ["updated_at", 2016-12-10 02:33:18 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 02:33:18 UTC], ["updated_at", 2016-12-10 02:33:18 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/search?search=Exam" for 127.0.0.1 at 2016-12-09 21:33:18 -0500
Processing by IndexController#search as HTML
  Parameters: {"search"=>"Exam"}
  Rendering index/search.html.erb within layouts/application
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies" WHERE (name LIKE '%Exam%')[0m
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mSubCategory Load (0.1ms)[0m  [1m[34mSELECT  "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  Rendered index/search.html.erb within layouts/application (21.5ms)
Completed 500 Internal Server Error in 25ms (ActiveRecord: 0.3ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:33:18 UTC], ["updated_at", 2016-12-10 02:33:18 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 02:33:18 UTC], ["updated_at", 2016-12-10 02:33:18 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/home" for 127.0.0.1 at 2016-12-09 21:33:18 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (10.0ms)
  Rendered layouts/_header.html.erb (5.0ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 24ms (Views: 22.5ms | ActiveRecord: 0.1ms)
  [1m[35m (23.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:33:18 UTC], ["updated_at", 2016-12-10 02:33:18 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 02:33:18 UTC], ["updated_at", 2016-12-10 02:33:18 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/ranking/980190963" for 127.0.0.1 at 2016-12-09 21:33:18 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category"=>"980190963"}
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering index/ranking.html.erb within layouts/application
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies" WHERE (category = '980190963')[0m
  Rendered index/ranking.html.erb within layouts/application (4.3ms)
  Rendered layouts/_header.html.erb (5.0ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 38ms (Views: 18.1ms | ActiveRecord: 0.1ms)
  [1m[35m (16.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-10 02:35:24.154673', '2016-12-10 02:35:24.154673', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-10 02:35:24.154673', '2016-12-10 02:35:24.154673', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "share", "like", "city", "created_at", "updated_at", "id") VALUES ('Company-one', 1, 1, 10, 10, 'MyCity', '2016-12-10 02:35:24.158948', '2016-12-10 02:35:24.158948', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "share", "like", "city", "created_at", "updated_at", "id") VALUES ('Company-two', 2, 2, 20, 20, 'MyCity', '2016-12-10 02:35:24.158948', '2016-12-10 02:35:24.158948', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-10 02:35:24.160962', '2016-12-10 02:35:24.160962', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-10 02:35:24.160962', '2016-12-10 02:35:24.160962', 298486374, 298486374)[0m
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-10 02:35:24 UTC], ["updated_at", 2016-12-10 02:35:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:35:24 UTC], ["updated_at", 2016-12-10 02:35:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 02:35:24 UTC], ["updated_at", 2016-12-10 02:35:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/home" for 127.0.0.1 at 2016-12-09 21:35:24 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (810.4ms)
  Rendered layouts/_header.html.erb (3.3ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 859ms (Views: 849.7ms | ActiveRecord: 0.1ms)
  [1m[35m (23.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:35:25 UTC], ["updated_at", 2016-12-10 02:35:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 02:35:25 UTC], ["updated_at", 2016-12-10 02:35:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/ranking/980190963" for 127.0.0.1 at 2016-12-09 21:35:25 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category"=>"980190963"}
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering index/ranking.html.erb within layouts/application
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies" WHERE (category = '980190963')[0m
  Rendered index/ranking.html.erb within layouts/application (2.8ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 34ms (Views: 12.8ms | ActiveRecord: 0.1ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:35:25 UTC], ["updated_at", 2016-12-10 02:35:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 02:35:25 UTC], ["updated_at", 2016-12-10 02:35:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/about" for 127.0.0.1 at 2016-12-09 21:35:25 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (6.3ms)
  Rendered layouts/_header.html.erb (3.3ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 49ms (Views: 16.4ms | ActiveRecord: 0.0ms)
  [1m[35m (1.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:35:25 UTC], ["updated_at", 2016-12-10 02:35:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 02:35:25 UTC], ["updated_at", 2016-12-10 02:35:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/place/980190963/1" for 127.0.0.1 at 2016-12-09 21:35:25 -0500
Processing by IndexController#place as HTML
  Parameters: {"id"=>"980190963", "no"=>"1"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering index/place.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/place.html.erb within layouts/application (7.0ms)
  Rendered layouts/_header.html.erb (5.0ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 55ms (Views: 21.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
IndexControllerTest: test_should_get_search
-------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:35:25 UTC], ["updated_at", 2016-12-10 02:35:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 02:35:25 UTC], ["updated_at", 2016-12-10 02:35:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/search?search=Exam" for 127.0.0.1 at 2016-12-09 21:35:25 -0500
Processing by IndexController#search as HTML
  Parameters: {"search"=>"Exam"}
  Rendering index/search.html.erb within layouts/application
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies" WHERE (name LIKE '%Exam%')[0m
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mSubCategory Load (0.1ms)[0m  [1m[34mSELECT  "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  Rendered index/search.html.erb within layouts/application (14.3ms)
Completed 500 Internal Server Error in 18ms (ActiveRecord: 0.3ms)
  [1m[35m (1.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:35:25 UTC], ["updated_at", 2016-12-10 02:35:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-10 02:35:25 UTC], ["updated_at", 2016-12-10 02:35:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.1ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (2.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:35:25 UTC], ["updated_at", 2016-12-10 02:35:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (2.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-10 02:36:53.373217', '2016-12-10 02:36:53.373217', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-10 02:36:53.373217', '2016-12-10 02:36:53.373217', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "share", "like", "city", "created_at", "updated_at", "id") VALUES ('Company-one', 1, 1, 10, 10, 'MyCity', '2016-12-10 02:36:53.377816', '2016-12-10 02:36:53.377816', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "share", "like", "city", "created_at", "updated_at", "id") VALUES ('Company-two', 2, 2, 20, 20, 'MyCity', '2016-12-10 02:36:53.377816', '2016-12-10 02:36:53.377816', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-10 02:36:53.380026', '2016-12-10 02:36:53.380026', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-10 02:36:53.380026', '2016-12-10 02:36:53.380026', 298486374, 298486374)[0m
  [1m[35m (2.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-10 02:36:53 UTC], ["updated_at", 2016-12-10 02:36:53 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (38.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:36:53 UTC], ["updated_at", 2016-12-10 02:36:53 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (7.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:36:53 UTC], ["updated_at", 2016-12-10 02:36:53 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-10 02:36:53 UTC], ["updated_at", 2016-12-10 02:36:53 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.1ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (7.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:36:53 UTC], ["updated_at", 2016-12-10 02:36:53 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 02:36:53 UTC], ["updated_at", 2016-12-10 02:36:53 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/home" for 127.0.0.1 at 2016-12-09 21:36:53 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (924.3ms)
  Rendered layouts/_header.html.erb (3.1ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 971ms (Views: 961.1ms | ActiveRecord: 0.1ms)
  [1m[35m (2.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:36:54 UTC], ["updated_at", 2016-12-10 02:36:54 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 02:36:54 UTC], ["updated_at", 2016-12-10 02:36:54 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/ranking/980190963" for 127.0.0.1 at 2016-12-09 21:36:54 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category"=>"980190963"}
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering index/ranking.html.erb within layouts/application
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies" WHERE (category = '980190963')[0m
  Rendered index/ranking.html.erb within layouts/application (2.7ms)
  Rendered layouts/_header.html.erb (3.0ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 37ms (Views: 11.8ms | ActiveRecord: 0.1ms)
  [1m[35m (1.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:36:54 UTC], ["updated_at", 2016-12-10 02:36:54 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 02:36:54 UTC], ["updated_at", 2016-12-10 02:36:54 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/place/980190963/1" for 127.0.0.1 at 2016-12-09 21:36:54 -0500
Processing by IndexController#place as HTML
  Parameters: {"id"=>"980190963", "no"=>"1"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering index/place.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/place.html.erb within layouts/application (5.4ms)
  Rendered layouts/_header.html.erb (3.3ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 46ms (Views: 14.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:36:55 UTC], ["updated_at", 2016-12-10 02:36:55 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 02:36:55 UTC], ["updated_at", 2016-12-10 02:36:55 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/about" for 127.0.0.1 at 2016-12-09 21:36:55 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (14.6ms)
  Rendered layouts/_header.html.erb (4.8ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 57ms (Views: 28.7ms | ActiveRecord: 0.0ms)
  [1m[35m (1.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
IndexControllerTest: test_should_get_search
-------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:36:55 UTC], ["updated_at", 2016-12-10 02:36:55 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 02:36:55 UTC], ["updated_at", 2016-12-10 02:36:55 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/search?search=Exam" for 127.0.0.1 at 2016-12-09 21:36:55 -0500
Processing by IndexController#search as HTML
  Parameters: {"search"=>"Exam"}
  Rendering index/search.html.erb within layouts/application
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies" WHERE (name LIKE '%Exam%')[0m
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/search.html.erb within layouts/application (1.6ms)
  Rendered layouts/_header.html.erb (3.5ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 13ms (Views: 11.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-10 02:38:24.101211', '2016-12-10 02:38:24.101211', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-10 02:38:24.101211', '2016-12-10 02:38:24.101211', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "share", "like", "city", "created_at", "updated_at", "id") VALUES ('Company-one', 1, 1, 10, 10, 'MyCity', '2016-12-10 02:38:24.106012', '2016-12-10 02:38:24.106012', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "share", "like", "city", "created_at", "updated_at", "id") VALUES ('Company-two', 2, 2, 20, 20, 'MyCity', '2016-12-10 02:38:24.106012', '2016-12-10 02:38:24.106012', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-10 02:38:24.108403', '2016-12-10 02:38:24.108403', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-10 02:38:24.108403', '2016-12-10 02:38:24.108403', 298486374, 298486374)[0m
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:38:24 UTC], ["updated_at", 2016-12-10 02:38:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 02:38:24 UTC], ["updated_at", 2016-12-10 02:38:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/about" for 127.0.0.1 at 2016-12-09 21:38:24 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (319.9ms)
  Rendered layouts/_header.html.erb (3.1ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 342ms (Views: 332.4ms | ActiveRecord: 0.0ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
IndexControllerTest: test_should_get_search
-------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:38:24 UTC], ["updated_at", 2016-12-10 02:38:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 02:38:24 UTC], ["updated_at", 2016-12-10 02:38:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/search?search=Exam" for 127.0.0.1 at 2016-12-09 21:38:24 -0500
Processing by IndexController#search as HTML
  Parameters: {"search"=>"Exam"}
  Rendering index/search.html.erb within layouts/application
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies" WHERE (name LIKE '%Exam%')[0m
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/search.html.erb within layouts/application (3.9ms)
  Rendered layouts/_header.html.erb (4.0ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 18ms (Views: 16.2ms | ActiveRecord: 0.2ms)
  [1m[35m (2.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:38:24 UTC], ["updated_at", 2016-12-10 02:38:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 02:38:24 UTC], ["updated_at", 2016-12-10 02:38:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/home" for 127.0.0.1 at 2016-12-09 21:38:24 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (9.7ms)
  Rendered layouts/_header.html.erb (3.1ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 20ms (Views: 19.1ms | ActiveRecord: 0.1ms)
  [1m[35m (2.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:38:24 UTC], ["updated_at", 2016-12-10 02:38:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 02:38:24 UTC], ["updated_at", 2016-12-10 02:38:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/ranking/980190963" for 127.0.0.1 at 2016-12-09 21:38:24 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category"=>"980190963"}
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering index/ranking.html.erb within layouts/application
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies" WHERE (category = '980190963')[0m
  Rendered index/ranking.html.erb within layouts/application (3.6ms)
  Rendered layouts/_header.html.erb (5.2ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 18ms (Views: 16.5ms | ActiveRecord: 0.2ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:38:24 UTC], ["updated_at", 2016-12-10 02:38:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 02:38:24 UTC], ["updated_at", 2016-12-10 02:38:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/place/980190963/1" for 127.0.0.1 at 2016-12-09 21:38:24 -0500
Processing by IndexController#place as HTML
  Parameters: {"id"=>"980190963", "no"=>"1"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering index/place.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/place.html.erb within layouts/application (8.5ms)
  Rendered layouts/_header.html.erb (3.9ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 23ms (Views: 20.3ms | ActiveRecord: 0.2ms)
  [1m[35m (2.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:38:25 UTC], ["updated_at", 2016-12-10 02:38:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-10 02:38:25 UTC], ["updated_at", 2016-12-10 02:38:25 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.1ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (3.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:38:25 UTC], ["updated_at", 2016-12-10 02:38:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-10 02:38:25 UTC], ["updated_at", 2016-12-10 02:38:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (29.6ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-10 02:42:19.556385', '2016-12-10 02:42:19.556385', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-10 02:42:19.556385', '2016-12-10 02:42:19.556385', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "share", "like", "city", "created_at", "updated_at", "id") VALUES ('Company-one', 1, 1, 10, 10, 'MyCity', '2016-12-10 02:42:19.611617', '2016-12-10 02:42:19.611617', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "share", "like", "city", "created_at", "updated_at", "id") VALUES ('Company-two', 2, 2, 20, 20, 'MyCity', '2016-12-10 02:42:19.611617', '2016-12-10 02:42:19.611617', 298486374)[0m
  [1m[36mFixture Delete (1.2ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-10 02:42:19.613852', '2016-12-10 02:42:19.613852', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-10 02:42:19.613852', '2016-12-10 02:42:19.613852', 298486374, 298486374)[0m
  [1m[35m (38.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-10 02:42:19 UTC], ["updated_at", 2016-12-10 02:42:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (3.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:42:19 UTC], ["updated_at", 2016-12-10 02:42:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (4.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:42:19 UTC], ["updated_at", 2016-12-10 02:42:19 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-10 02:42:19 UTC], ["updated_at", 2016-12-10 02:42:19 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.1ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (4.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:42:20 UTC], ["updated_at", 2016-12-10 02:42:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 02:42:20 UTC], ["updated_at", 2016-12-10 02:42:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/place/980190963/1" for 127.0.0.1 at 2016-12-09 21:42:20 -0500
Processing by IndexController#place as HTML
  Parameters: {"id"=>"980190963", "no"=>"1"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering index/place.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/place.html.erb within layouts/application (1529.4ms)
  Rendered layouts/_header.html.erb (5.5ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 1689ms (Views: 1647.5ms | ActiveRecord: 0.2ms)
  [1m[35m (16.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:42:22 UTC], ["updated_at", 2016-12-10 02:42:22 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 02:42:22 UTC], ["updated_at", 2016-12-10 02:42:22 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/about" for 127.0.0.1 at 2016-12-09 21:42:22 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (8.1ms)
  Rendered layouts/_header.html.erb (3.7ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 53ms (Views: 18.6ms | ActiveRecord: 0.0ms)
  [1m[35m (2.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:42:22 UTC], ["updated_at", 2016-12-10 02:42:22 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 02:42:22 UTC], ["updated_at", 2016-12-10 02:42:22 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/home" for 127.0.0.1 at 2016-12-09 21:42:22 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (13.0ms)
  Rendered layouts/_header.html.erb (4.9ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 27ms (Views: 25.7ms | ActiveRecord: 0.1ms)
  [1m[35m (2.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:42:22 UTC], ["updated_at", 2016-12-10 02:42:22 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 02:42:22 UTC], ["updated_at", 2016-12-10 02:42:22 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/ranking/980190963" for 127.0.0.1 at 2016-12-09 21:42:22 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category"=>"980190963"}
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering index/ranking.html.erb within layouts/application
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies" WHERE (category = '980190963')[0m
  Rendered index/ranking.html.erb within layouts/application (9.9ms)
  Rendered layouts/_header.html.erb (4.8ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 56ms (Views: 23.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
IndexControllerTest: test_should_get_search
-------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 02:42:22 UTC], ["updated_at", 2016-12-10 02:42:22 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 02:42:22 UTC], ["updated_at", 2016-12-10 02:42:22 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/search?search=Exam" for 127.0.0.1 at 2016-12-09 21:42:22 -0500
Processing by IndexController#search as HTML
  Parameters: {"search"=>"Exam"}
  Rendering index/search.html.erb within layouts/application
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies" WHERE (name LIKE '%Exam%')[0m
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/search.html.erb within layouts/application (2.4ms)
  Rendered layouts/_header.html.erb (4.0ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 15ms (Views: 13.3ms | ActiveRecord: 0.2ms)
  [1m[35m (3.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-10 03:27:07.511967', '2016-12-10 03:27:07.511967', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-10 03:27:07.511967', '2016-12-10 03:27:07.511967', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "share", "like", "city", "created_at", "updated_at", "id") VALUES ('Company-one', 1, 1, 10, 10, 'MyCity', '2016-12-10 03:27:07.518794', '2016-12-10 03:27:07.518794', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "share", "like", "city", "created_at", "updated_at", "id") VALUES ('Company-two', 2, 2, 20, 20, 'MyCity', '2016-12-10 03:27:07.518794', '2016-12-10 03:27:07.518794', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-10 03:27:07.520867', '2016-12-10 03:27:07.520867', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-10 03:27:07.520867', '2016-12-10 03:27:07.520867', 298486374, 298486374)[0m
  [1m[35m (1.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 03:27:08 UTC], ["updated_at", 2016-12-10 03:27:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (11.6ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 03:27:08 UTC], ["updated_at", 2016-12-10 03:27:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/about" for 127.0.0.1 at 2016-12-09 22:27:08 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (762.8ms)
  Rendered layouts/_header.html.erb (3.1ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 808ms (Views: 775.6ms | ActiveRecord: 0.0ms)
  [1m[35m (1.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 03:27:08 UTC], ["updated_at", 2016-12-10 03:27:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 03:27:08 UTC], ["updated_at", 2016-12-10 03:27:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/home" for 127.0.0.1 at 2016-12-09 22:27:08 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (13.1ms)
  Rendered layouts/_header.html.erb (3.9ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 25ms (Views: 23.9ms | ActiveRecord: 0.1ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 03:27:09 UTC], ["updated_at", 2016-12-10 03:27:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 03:27:09 UTC], ["updated_at", 2016-12-10 03:27:09 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/place/980190963/1" for 127.0.0.1 at 2016-12-09 22:27:09 -0500
Processing by IndexController#place as HTML
  Parameters: {"id"=>"980190963", "no"=>"1"}
  [1m[36mCompany Load (0.2ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering index/place.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/place.html.erb within layouts/application (10.7ms)
  Rendered layouts/_header.html.erb (5.5ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 68ms (Views: 26.4ms | ActiveRecord: 0.3ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 03:27:09 UTC], ["updated_at", 2016-12-10 03:27:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 03:27:09 UTC], ["updated_at", 2016-12-10 03:27:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/ranking/980190963" for 127.0.0.1 at 2016-12-09 22:27:09 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category"=>"980190963"}
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering index/ranking.html.erb within layouts/application
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies" WHERE (category = '980190963')[0m
  Rendered index/ranking.html.erb within layouts/application (4.3ms)
  Rendered layouts/_header.html.erb (6.4ms)
  Rendered layouts/_footer.html.erb (0.9ms)
Completed 200 OK in 61ms (Views: 21.1ms | ActiveRecord: 0.2ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
IndexControllerTest: test_should_get_search
-------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 03:27:09 UTC], ["updated_at", 2016-12-10 03:27:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 03:27:09 UTC], ["updated_at", 2016-12-10 03:27:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/search?search=Exam&search_select=1" for 127.0.0.1 at 2016-12-09 22:27:09 -0500
Processing by IndexController#search as HTML
  Parameters: {"search"=>"Exam", "search_select"=>"1"}
  Rendering index/search.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered index/search.html.erb within layouts/application (5.0ms)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.1ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.9ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-10 03:27:09 UTC], ["updated_at", 2016-12-10 03:27:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 03:27:09 UTC], ["updated_at", 2016-12-10 03:27:09 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-10 03:27:09 UTC], ["updated_at", 2016-12-10 03:27:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.3ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (7.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 03:27:09 UTC], ["updated_at", 2016-12-10 03:27:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (36.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-10 03:28:11.690251', '2016-12-10 03:28:11.690251', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-10 03:28:11.690251', '2016-12-10 03:28:11.690251', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "share", "like", "city", "created_at", "updated_at", "id") VALUES ('Company-one', 1, 1, 10, 10, 'MyCity', '2016-12-10 03:28:11.694718', '2016-12-10 03:28:11.694718', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "share", "like", "city", "created_at", "updated_at", "id") VALUES ('Company-two', 2, 2, 20, 20, 'MyCity', '2016-12-10 03:28:11.694718', '2016-12-10 03:28:11.694718', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-10 03:28:11.696705', '2016-12-10 03:28:11.696705', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-10 03:28:11.696705', '2016-12-10 03:28:11.696705', 298486374, 298486374)[0m
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-10 03:28:11 UTC], ["updated_at", 2016-12-10 03:28:11 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 03:28:12 UTC], ["updated_at", 2016-12-10 03:28:12 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 03:28:12 UTC], ["updated_at", 2016-12-10 03:28:12 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/place/980190963/1" for 127.0.0.1 at 2016-12-09 22:28:12 -0500
Processing by IndexController#place as HTML
  Parameters: {"id"=>"980190963", "no"=>"1"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering index/place.html.erb within layouts/application
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/place.html.erb within layouts/application (315.8ms)
  Rendered layouts/_header.html.erb (3.0ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 340ms (Views: 328.4ms | ActiveRecord: 0.2ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 03:28:12 UTC], ["updated_at", 2016-12-10 03:28:12 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 03:28:12 UTC], ["updated_at", 2016-12-10 03:28:12 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/ranking/980190963" for 127.0.0.1 at 2016-12-09 22:28:12 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category"=>"980190963"}
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering index/ranking.html.erb within layouts/application
  [1m[36mCompany Load (0.3ms)[0m  [1m[34mSELECT "companies".* FROM "companies" WHERE (category = '980190963')[0m
  Rendered index/ranking.html.erb within layouts/application (4.2ms)
  Rendered layouts/_header.html.erb (4.7ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 21ms (Views: 17.6ms | ActiveRecord: 0.6ms)
  [1m[35m (2.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
IndexControllerTest: test_should_get_search
-------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 03:28:12 UTC], ["updated_at", 2016-12-10 03:28:12 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 03:28:12 UTC], ["updated_at", 2016-12-10 03:28:12 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/search?search=Exam&search_select=980190963" for 127.0.0.1 at 2016-12-09 22:28:12 -0500
Processing by IndexController#search as HTML
  Parameters: {"search"=>"Exam", "search_select"=>"980190963"}
  Rendering index/search.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/search.html.erb within layouts/application (1.8ms)
  Rendered layouts/_header.html.erb (4.5ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 15ms (Views: 13.9ms | ActiveRecord: 0.1ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 03:28:12 UTC], ["updated_at", 2016-12-10 03:28:12 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 03:28:12 UTC], ["updated_at", 2016-12-10 03:28:12 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/home" for 127.0.0.1 at 2016-12-09 22:28:12 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (23.0ms)
  Rendered layouts/_header.html.erb (4.3ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 37ms (Views: 35.3ms | ActiveRecord: 0.1ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 03:28:12 UTC], ["updated_at", 2016-12-10 03:28:12 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 03:28:12 UTC], ["updated_at", 2016-12-10 03:28:12 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/about" for 127.0.0.1 at 2016-12-09 22:28:12 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (10.1ms)
  Rendered layouts/_header.html.erb (4.4ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 23ms (Views: 21.8ms | ActiveRecord: 0.0ms)
  [1m[35m (3.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 03:28:12 UTC], ["updated_at", 2016-12-10 03:28:12 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-10 03:28:12 UTC], ["updated_at", 2016-12-10 03:28:12 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.1ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 03:28:12 UTC], ["updated_at", 2016-12-10 03:28:12 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-10 03:29:06.427964', '2016-12-10 03:29:06.427964', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-10 03:29:06.427964', '2016-12-10 03:29:06.427964', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "share", "like", "city", "created_at", "updated_at", "id") VALUES ('Company-one', 1, 1, 10, 10, 'MyCity', '2016-12-10 03:29:06.432211', '2016-12-10 03:29:06.432211', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "share", "like", "city", "created_at", "updated_at", "id") VALUES ('Company-two', 2, 2, 20, 20, 'MyCity', '2016-12-10 03:29:06.432211', '2016-12-10 03:29:06.432211', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-10 03:29:06.434590', '2016-12-10 03:29:06.434590', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-10 03:29:06.434590', '2016-12-10 03:29:06.434590', 298486374, 298486374)[0m
  [1m[35m (2.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-10 03:29:06 UTC], ["updated_at", 2016-12-10 03:29:06 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 03:29:06 UTC], ["updated_at", 2016-12-10 03:29:06 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-10 03:29:06 UTC], ["updated_at", 2016-12-10 03:29:06 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.1ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (2.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 03:29:06 UTC], ["updated_at", 2016-12-10 03:29:06 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (2.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 03:29:06 UTC], ["updated_at", 2016-12-10 03:29:06 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 03:29:06 UTC], ["updated_at", 2016-12-10 03:29:06 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/about" for 127.0.0.1 at 2016-12-09 22:29:06 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (311.3ms)
  Rendered layouts/_header.html.erb (3.3ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 334ms (Views: 324.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
IndexControllerTest: test_should_get_search
-------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 03:29:07 UTC], ["updated_at", 2016-12-10 03:29:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 03:29:07 UTC], ["updated_at", 2016-12-10 03:29:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/search?search=Exam&search_select=980190963" for 127.0.0.1 at 2016-12-09 22:29:07 -0500
Processing by IndexController#search as HTML
  Parameters: {"search"=>"Exam", "search_select"=>"980190963"}
  Rendering index/search.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/search.html.erb within layouts/application (2.3ms)
  Rendered layouts/_header.html.erb (4.1ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 15ms (Views: 13.8ms | ActiveRecord: 0.1ms)
  [1m[35m (2.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 03:29:07 UTC], ["updated_at", 2016-12-10 03:29:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 03:29:07 UTC], ["updated_at", 2016-12-10 03:29:07 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/home" for 127.0.0.1 at 2016-12-09 22:29:07 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (14.9ms)
  Rendered layouts/_header.html.erb (6.4ms)
  Rendered layouts/_footer.html.erb (0.9ms)
Completed 200 OK in 30ms (Views: 28.7ms | ActiveRecord: 0.1ms)
  [1m[35m (2.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 03:29:07 UTC], ["updated_at", 2016-12-10 03:29:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 03:29:07 UTC], ["updated_at", 2016-12-10 03:29:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/ranking/980190963" for 127.0.0.1 at 2016-12-09 22:29:07 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category"=>"980190963"}
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering index/ranking.html.erb within layouts/application
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies" WHERE (category = '980190963')[0m
  Rendered index/ranking.html.erb within layouts/application (4.7ms)
  Rendered layouts/_header.html.erb (4.4ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 18ms (Views: 16.2ms | ActiveRecord: 0.2ms)
  [1m[35m (2.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-10 03:29:07 UTC], ["updated_at", 2016-12-10 03:29:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-10 03:29:07 UTC], ["updated_at", 2016-12-10 03:29:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/place/980190963/1" for 127.0.0.1 at 2016-12-09 22:29:07 -0500
Processing by IndexController#place as HTML
  Parameters: {"id"=>"980190963", "no"=>"1"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering index/place.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/place.html.erb within layouts/application (7.3ms)
  Rendered layouts/_header.html.erb (4.5ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 22ms (Views: 19.7ms | ActiveRecord: 0.2ms)
  [1m[35m (2.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (1.5ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-11 12:51:54.349861', '2016-12-11 12:51:54.349861', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-11 12:51:54.349861', '2016-12-11 12:51:54.349861', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "share", "like", "city", "created_at", "updated_at", "id") VALUES ('Company-one', 1, 1, 10, 10, 'MyCity', '2016-12-11 12:51:54.381124', '2016-12-11 12:51:54.381124', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "share", "like", "city", "created_at", "updated_at", "id") VALUES ('Company-two', 2, 2, 20, 20, 'MyCity', '2016-12-11 12:51:54.381124', '2016-12-11 12:51:54.381124', 298486374)[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-11 12:51:54.386953', '2016-12-11 12:51:54.386953', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-11 12:51:54.386953', '2016-12-11 12:51:54.386953', 298486374, 298486374)[0m
  [1m[35m (18.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-11 12:51:54 UTC], ["updated_at", 2016-12-11 12:51:54 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-11 12:51:54 UTC], ["updated_at", 2016-12-11 12:51:54 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-11 12:51:54 UTC], ["updated_at", 2016-12-11 12:51:54 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.1ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-11 12:51:54 UTC], ["updated_at", 2016-12-11 12:51:54 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-11 12:51:55 UTC], ["updated_at", 2016-12-11 12:51:55 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-11 12:51:55 UTC], ["updated_at", 2016-12-11 12:51:55 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/ranking/980190963" for 127.0.0.1 at 2016-12-11 07:51:55 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category"=>"980190963"}
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering index/ranking.html.erb within layouts/application
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies" WHERE (category = '980190963')[0m
  Rendered index/ranking.html.erb within layouts/application (9052.9ms)
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 9149ms (Views: 9117.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-11 12:52:04 UTC], ["updated_at", 2016-12-11 12:52:04 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-11 12:52:04 UTC], ["updated_at", 2016-12-11 12:52:04 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/place/980190963/1" for 127.0.0.1 at 2016-12-11 07:52:04 -0500
Processing by IndexController#place as HTML
  Parameters: {"id"=>"980190963", "no"=>"1"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering index/place.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/place.html.erb within layouts/application (6.2ms)
  Rendered layouts/_header.html.erb (3.3ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 43ms (Views: 16.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
IndexControllerTest: test_should_get_search
-------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-11 12:52:04 UTC], ["updated_at", 2016-12-11 12:52:04 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-11 12:52:04 UTC], ["updated_at", 2016-12-11 12:52:04 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/search?search=Exam&search_select=980190963" for 127.0.0.1 at 2016-12-11 07:52:04 -0500
Processing by IndexController#search as HTML
  Parameters: {"search"=>"Exam", "search_select"=>"980190963"}
  Rendering index/search.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/search.html.erb within layouts/application (131.2ms)
  Rendered layouts/_header.html.erb (2.5ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 169ms (Views: 140.2ms | ActiveRecord: 0.1ms)
  [1m[35m (19.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-11 12:52:04 UTC], ["updated_at", 2016-12-11 12:52:04 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-11 12:52:04 UTC], ["updated_at", 2016-12-11 12:52:04 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/about" for 127.0.0.1 at 2016-12-11 07:52:04 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (8.3ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 42ms (Views: 19.2ms | ActiveRecord: 0.0ms)
  [1m[35m (2.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-11 12:52:04 UTC], ["updated_at", 2016-12-11 12:52:04 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-11 12:52:04 UTC], ["updated_at", 2016-12-11 12:52:04 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/home" for 127.0.0.1 at 2016-12-11 07:52:04 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (11.1ms)
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 30ms (Views: 21.2ms | ActiveRecord: 0.1ms)
  [1m[35m (2.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.9ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-11 14:31:41.714560', '2016-12-11 14:31:41.714560', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-11 14:31:41.714560', '2016-12-11 14:31:41.714560', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "share", "like", "city", "created_at", "updated_at", "id") VALUES ('Company-one', 1, 1, 10, 10, 'MyCity', '2016-12-11 14:31:41.720574', '2016-12-11 14:31:41.720574', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "share", "like", "city", "created_at", "updated_at", "id") VALUES ('Company-two', 2, 2, 20, 20, 'MyCity', '2016-12-11 14:31:41.720574', '2016-12-11 14:31:41.720574', 298486374)[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-11 14:31:41.722368', '2016-12-11 14:31:41.722368', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-11 14:31:41.722368', '2016-12-11 14:31:41.722368', 298486374, 298486374)[0m
  [1m[35m (10.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-11 14:31:41 UTC], ["updated_at", 2016-12-11 14:31:41 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (16.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-11 14:31:41 UTC], ["updated_at", 2016-12-11 14:31:41 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (2.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-11 14:31:41 UTC], ["updated_at", 2016-12-11 14:31:41 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-11 14:31:41 UTC], ["updated_at", 2016-12-11 14:31:41 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.1ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (2.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.9ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-12 14:00:28.283993', '2016-12-12 14:00:28.283993', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-12 14:00:28.283993', '2016-12-12 14:00:28.283993', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "share", "like", "city", "created_at", "updated_at", "id") VALUES ('Company-one', 1, 1, 10, 10, 'MyCity', '2016-12-12 14:00:28.311719', '2016-12-12 14:00:28.311719', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "share", "like", "city", "created_at", "updated_at", "id") VALUES ('Company-two', 2, 2, 20, 20, 'MyCity', '2016-12-12 14:00:28.311719', '2016-12-12 14:00:28.311719', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-12 14:00:28.314969', '2016-12-12 14:00:28.314969', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-12 14:00:28.314969', '2016-12-12 14:00:28.314969', 298486374, 298486374)[0m
  [1m[35m (5.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-12 14:00:28 UTC], ["updated_at", 2016-12-12 14:00:28 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-12 14:00:28 UTC], ["updated_at", 2016-12-12 14:00:28 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (2.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-12 14:00:28 UTC], ["updated_at", 2016-12-12 14:00:28 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-12 14:00:28 UTC], ["updated_at", 2016-12-12 14:00:28 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.1ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "categories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "companies" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "category" integer, "subcategory" integer, "city" varchar, "share" integer, "like" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "sub_categories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" text, "category_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE  INDEX "index_sub_categories_on_category_id_and_created_at" ON "sub_categories" ("category_id", "created_at")[0m
  [1m[35m (0.2ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_sub_categories_on_category_id_and_created_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_sub_categories_on_category_id_and_created_at' AND type='index'
[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE  INDEX "index_sub_categories_on_category_id" ON "sub_categories" ("category_id")[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (2.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20161208195733')[0m
  [1m[35m (1.8ms)[0m  [1m[32mINSERT INTO schema_migrations (version) VALUES ('20161208181218'), ('20161208193054');

[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-12-16 19:42:13 UTC], ["updated_at", 2016-12-16 19:42:13 UTC]]
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-16 19:42:13.821927', '2016-12-16 19:42:13.821927', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-16 19:42:13.821927', '2016-12-16 19:42:13.821927', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "share", "like", "city", "created_at", "updated_at", "id") VALUES ('Company-one', 1, 1, 10, 10, 'MyCity', '2016-12-16 19:42:13.826407', '2016-12-16 19:42:13.826407', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "share", "like", "city", "created_at", "updated_at", "id") VALUES ('Company-two', 2, 2, 20, 20, 'MyCity', '2016-12-16 19:42:13.826407', '2016-12-16 19:42:13.826407', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-16 19:42:13.828566', '2016-12-16 19:42:13.828566', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-16 19:42:13.828566', '2016-12-16 19:42:13.828566', 298486374, 298486374)[0m
  [1m[35m (4.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-16 19:42:14 UTC], ["updated_at", 2016-12-16 19:42:14 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-16 19:42:14 UTC], ["updated_at", 2016-12-16 19:42:14 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/ranking/980190963" for 127.0.0.1 at 2016-12-16 14:42:14 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category"=>"980190963"}
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies" WHERE (category = '980190963')[0m
  Rendering index/ranking.html.erb within layouts/application
  Rendered index/ranking.html.erb within layouts/application (10919.6ms)
  Rendered layouts/_header.html.erb (5.0ms)
  Rendered layouts/_footer.html.erb (0.9ms)
Completed 200 OK in 12354ms (Views: 11025.6ms | ActiveRecord: 0.2ms)
  [1m[35m (20.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-16 19:42:26 UTC], ["updated_at", 2016-12-16 19:42:26 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-16 19:42:26 UTC], ["updated_at", 2016-12-16 19:42:26 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/home" for 127.0.0.1 at 2016-12-16 14:42:26 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (12.3ms)
  Rendered layouts/_header.html.erb (3.2ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 45ms (Views: 23.0ms | ActiveRecord: 0.1ms)
  [1m[35m (5.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
IndexControllerTest: test_should_get_search
-------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-16 19:42:26 UTC], ["updated_at", 2016-12-16 19:42:26 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-16 19:42:26 UTC], ["updated_at", 2016-12-16 19:42:26 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/search?search=Exam&search_select=980190963" for 127.0.0.1 at 2016-12-16 14:42:26 -0500
Processing by IndexController#search as HTML
  Parameters: {"search"=>"Exam", "search_select"=>"980190963"}
  Rendering index/search.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/search.html.erb within layouts/application (5.1ms)
  Rendered layouts/_header.html.erb (3.4ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 17ms (Views: 15.0ms | ActiveRecord: 0.1ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-16 19:42:26 UTC], ["updated_at", 2016-12-16 19:42:26 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-16 19:42:26 UTC], ["updated_at", 2016-12-16 19:42:26 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/about" for 127.0.0.1 at 2016-12-16 14:42:26 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (6.3ms)
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 19ms (Views: 17.6ms | ActiveRecord: 0.0ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-16 19:42:27 UTC], ["updated_at", 2016-12-16 19:42:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-16 19:42:27 UTC], ["updated_at", 2016-12-16 19:42:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/place/980190963/1" for 127.0.0.1 at 2016-12-16 14:42:27 -0500
Processing by IndexController#place as HTML
  Parameters: {"id"=>"980190963", "no"=>"1"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering index/place.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/place.html.erb within layouts/application (5.9ms)
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 1198ms (Views: 14.9ms | ActiveRecord: 0.1ms)
  [1m[35m (2.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CompaniesControllerTest: test_should_destroy_company
----------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started DELETE "/companies/980190962" for 127.0.0.1 at 2016-12-16 14:42:28 -0500
Processing by CompaniesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "companies" WHERE "companies"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_create_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started POST "/companies" for 127.0.0.1 at 2016-12-16 14:42:28 -0500
Processing by CompaniesController#create as HTML
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompaniesControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/new" for 127.0.0.1 at 2016-12-16 14:42:28 -0500
Processing by CompaniesController#new as HTML
  Rendering companies/new.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (28.1ms)
  Rendered companies/new.html.erb within layouts/application (29.8ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 41ms (Views: 39.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CompaniesControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/980190962/edit" for 127.0.0.1 at 2016-12-16 14:42:28 -0500
Processing by CompaniesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/edit.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (1.8ms)
  Rendered companies/edit.html.erb within layouts/application (3.4ms)
  Rendered layouts/_header.html.erb (3.2ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 14ms (Views: 12.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_update_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/companies/980190962" for 127.0.0.1 at 2016-12-16 14:42:28 -0500
Processing by CompaniesController#update as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Completed 400 Bad Request in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CompaniesControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies" for 127.0.0.1 at 2016-12-16 14:42:28 -0500
Processing by CompaniesController#index as HTML
  Rendering companies/index.html.erb within layouts/application
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies"[0m
  Rendered companies/index.html.erb within layouts/application (1.8ms)
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 12ms (Views: 10.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CompaniesControllerTest: test_should_show_company
-------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/980190962" for 127.0.0.1 at 2016-12-16 14:42:28 -0500
Processing by CompaniesController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/show.html.erb within layouts/application
  Rendered companies/show.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (3.2ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 12ms (Views: 10.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-16 19:42:28 UTC], ["updated_at", 2016-12-16 19:42:28 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-16 19:42:28 UTC], ["updated_at", 2016-12-16 19:42:28 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-16 19:42:28 UTC], ["updated_at", 2016-12-16 19:42:28 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.1ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-16 19:42:28 UTC], ["updated_at", 2016-12-16 19:42:28 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.8ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-16 19:48:43.892188', '2016-12-16 19:48:43.892188', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-16 19:48:43.892188', '2016-12-16 19:48:43.892188', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "share", "like", "city", "created_at", "updated_at", "id") VALUES ('Company-one', 1, 1, 10, 10, 'MyCity', '2016-12-16 19:48:43.922928', '2016-12-16 19:48:43.922928', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "share", "like", "city", "created_at", "updated_at", "id") VALUES ('Company-two', 2, 2, 20, 20, 'MyCity', '2016-12-16 19:48:43.922928', '2016-12-16 19:48:43.922928', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-16 19:48:43.963105', '2016-12-16 19:48:43.963105', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-16 19:48:43.963105', '2016-12-16 19:48:43.963105', 298486374, 298486374)[0m
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-16 19:48:43 UTC], ["updated_at", 2016-12-16 19:48:43 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-16 19:48:44 UTC], ["updated_at", 2016-12-16 19:48:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-16 19:48:44 UTC], ["updated_at", 2016-12-16 19:48:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.3ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CompaniesControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mCompany Load (0.2ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies" for 127.0.0.1 at 2016-12-16 14:48:44 -0500
Processing by CompaniesController#index as HTML
  Rendering companies/index.html.erb within layouts/application
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies"[0m
  Rendered companies/index.html.erb within layouts/application (6.9ms)
  Rendered layouts/_header.html.erb (4.8ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 401ms (Views: 390.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CompaniesControllerTest: test_should_show_company
-------------------------------------------------
  [1m[36mCompany Load (0.2ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/980190962" for 127.0.0.1 at 2016-12-16 14:48:44 -0500
Processing by CompaniesController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/show.html.erb within layouts/application
  Rendered companies/show.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (4.1ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 15ms (Views: 12.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompaniesControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/new" for 127.0.0.1 at 2016-12-16 14:48:44 -0500
Processing by CompaniesController#new as HTML
  Rendering companies/new.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (10.4ms)
  Rendered companies/new.html.erb within layouts/application (12.1ms)
  Rendered layouts/_header.html.erb (3.8ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 24ms (Views: 22.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_create_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started POST "/companies" for 127.0.0.1 at 2016-12-16 14:48:44 -0500
Processing by CompaniesController#create as HTML
  Parameters: {"company"=>{"name"=>"Company-one", "city"=>"MyCity", "category"=>"1"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Company-one"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering companies/new.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (3.2ms)
  Rendered companies/new.html.erb within layouts/application (5.0ms)
  Rendered layouts/_header.html.erb (5.6ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 26ms (Views: 19.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CompaniesControllerTest: test_should_destroy_company
----------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started DELETE "/companies/980190962" for 127.0.0.1 at 2016-12-16 14:48:44 -0500
Processing by CompaniesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "companies" WHERE "companies"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CompaniesControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/980190962/edit" for 127.0.0.1 at 2016-12-16 14:48:44 -0500
Processing by CompaniesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/edit.html.erb within layouts/application
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (4.5ms)
  Rendered companies/edit.html.erb within layouts/application (7.0ms)
  Rendered layouts/_header.html.erb (5.6ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 24ms (Views: 21.5ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_update_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/companies/980190962" for 127.0.0.1 at 2016-12-16 14:48:44 -0500
Processing by CompaniesController#update as HTML
  Parameters: {"company"=>{"name"=>"Company-one", "city"=>"MyCity", "category"=>"1"}, "id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Company-one"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies/980190962
Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-16 19:48:44 UTC], ["updated_at", 2016-12-16 19:48:44 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-16 19:48:44 UTC], ["updated_at", 2016-12-16 19:48:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-16 19:48:44 UTC], ["updated_at", 2016-12-16 19:48:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/place/980190963/1" for 127.0.0.1 at 2016-12-16 14:48:44 -0500
Processing by IndexController#place as HTML
  Parameters: {"id"=>"980190963", "no"=>"1"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering index/place.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/place.html.erb within layouts/application (8.2ms)
  Rendered layouts/_header.html.erb (4.1ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 2617ms (Views: 19.5ms | ActiveRecord: 0.2ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-16 19:48:47 UTC], ["updated_at", 2016-12-16 19:48:47 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-16 19:48:47 UTC], ["updated_at", 2016-12-16 19:48:47 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/ranking/980190963" for 127.0.0.1 at 2016-12-16 14:48:47 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category"=>"980190963"}
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies" WHERE (category = '980190963')[0m
  Rendering index/ranking.html.erb within layouts/application
  Rendered index/ranking.html.erb within layouts/application (6.7ms)
  Rendered layouts/_header.html.erb (3.8ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 1086ms (Views: 17.4ms | ActiveRecord: 0.2ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
IndexControllerTest: test_should_get_search
-------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-16 19:48:48 UTC], ["updated_at", 2016-12-16 19:48:48 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-16 19:48:48 UTC], ["updated_at", 2016-12-16 19:48:48 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/search?search=Exam&search_select=980190963" for 127.0.0.1 at 2016-12-16 14:48:48 -0500
Processing by IndexController#search as HTML
  Parameters: {"search"=>"Exam", "search_select"=>"980190963"}
  Rendering index/search.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/search.html.erb within layouts/application (7.1ms)
  Rendered layouts/_header.html.erb (3.5ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 20ms (Views: 17.7ms | ActiveRecord: 0.1ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-16 19:48:48 UTC], ["updated_at", 2016-12-16 19:48:48 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-16 19:48:48 UTC], ["updated_at", 2016-12-16 19:48:48 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/about" for 127.0.0.1 at 2016-12-16 14:48:48 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (11.2ms)
  Rendered layouts/_header.html.erb (6.5ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 30ms (Views: 28.2ms | ActiveRecord: 0.0ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-16 19:48:48 UTC], ["updated_at", 2016-12-16 19:48:48 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-16 19:48:48 UTC], ["updated_at", 2016-12-16 19:48:48 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/home" for 127.0.0.1 at 2016-12-16 14:48:48 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (18.7ms)
  Rendered layouts/_header.html.erb (4.8ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 34ms (Views: 31.5ms | ActiveRecord: 0.1ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.8ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-16 19:51:30.071701', '2016-12-16 19:51:30.071701', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-16 19:51:30.071701', '2016-12-16 19:51:30.071701', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "share", "like", "city", "created_at", "updated_at", "id") VALUES ('Company-one', 1, 1, 10, 10, 'MyCity', '2016-12-16 19:51:30.077082', '2016-12-16 19:51:30.077082', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "share", "like", "city", "created_at", "updated_at", "id") VALUES ('Company-two', 2, 2, 20, 20, 'MyCity', '2016-12-16 19:51:30.077082', '2016-12-16 19:51:30.077082', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-16 19:51:30.079163', '2016-12-16 19:51:30.079163', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-16 19:51:30.079163', '2016-12-16 19:51:30.079163', 298486374, 298486374)[0m
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CompaniesControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mCompany Load (0.2ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies" for 127.0.0.1 at 2016-12-16 14:51:30 -0500
Processing by CompaniesController#index as HTML
  Rendering companies/index.html.erb within layouts/application
  [1m[36mCompany Load (0.2ms)[0m  [1m[34mSELECT "companies".* FROM "companies"[0m
  Rendered companies/index.html.erb within layouts/application (6.6ms)
  Rendered layouts/_header.html.erb (3.5ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 404ms (Views: 393.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_create_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started POST "/companies" for 127.0.0.1 at 2016-12-16 14:51:30 -0500
Processing by CompaniesController#create as HTML
  Parameters: {"company"=>{"name"=>"Company-one", "city"=>"MyCity", "category"=>"1"}}
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Company-one"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering companies/new.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (13.5ms)
  Rendered companies/new.html.erb within layouts/application (16.0ms)
  Rendered layouts/_header.html.erb (3.7ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 52ms (Views: 29.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompaniesControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/new" for 127.0.0.1 at 2016-12-16 14:51:30 -0500
Processing by CompaniesController#new as HTML
  Rendering companies/new.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (2.9ms)
  Rendered companies/new.html.erb within layouts/application (4.6ms)
  Rendered layouts/_header.html.erb (4.3ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 19ms (Views: 16.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_update_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/companies/980190962" for 127.0.0.1 at 2016-12-16 14:51:30 -0500
Processing by CompaniesController#update as HTML
  Parameters: {"company"=>{"name"=>"Company-one", "city"=>"MyCity", "category"=>"1"}, "id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Company-one"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies/980190962
Completed 302 Found in 7ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CompaniesControllerTest: test_should_show_company
-------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/980190962" for 127.0.0.1 at 2016-12-16 14:51:30 -0500
Processing by CompaniesController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/show.html.erb within layouts/application
  Rendered companies/show.html.erb within layouts/application (1.6ms)
  Rendered layouts/_header.html.erb (4.9ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 19ms (Views: 16.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CompaniesControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/980190962/edit" for 127.0.0.1 at 2016-12-16 14:51:30 -0500
Processing by CompaniesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/edit.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (2.9ms)
  Rendered companies/edit.html.erb within layouts/application (4.8ms)
  Rendered layouts/_header.html.erb (6.7ms)
  Rendered layouts/_footer.html.erb (0.9ms)
Completed 200 OK in 22ms (Views: 19.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CompaniesControllerTest: test_should_destroy_company
----------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started DELETE "/companies/980190962" for 127.0.0.1 at 2016-12-16 14:51:30 -0500
Processing by CompaniesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "companies" WHERE "companies"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-16 19:51:30 UTC], ["updated_at", 2016-12-16 19:51:30 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-16 19:51:30 UTC], ["updated_at", 2016-12-16 19:51:30 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/about" for 127.0.0.1 at 2016-12-16 14:51:30 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (10.5ms)
  Rendered layouts/_header.html.erb (4.6ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 25ms (Views: 23.6ms | ActiveRecord: 0.0ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-16 19:51:30 UTC], ["updated_at", 2016-12-16 19:51:30 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-16 19:51:30 UTC], ["updated_at", 2016-12-16 19:51:30 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/place/980190963/1" for 127.0.0.1 at 2016-12-16 14:51:30 -0500
Processing by IndexController#place as HTML
  Parameters: {"id"=>"980190963", "no"=>"1"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering index/place.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/place.html.erb within layouts/application (12.1ms)
  Rendered layouts/_header.html.erb (11.9ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 2519ms (Views: 54.5ms | ActiveRecord: 0.2ms)
  [1m[35m (2.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
IndexControllerTest: test_should_get_search
-------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-16 19:51:33 UTC], ["updated_at", 2016-12-16 19:51:33 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-16 19:51:33 UTC], ["updated_at", 2016-12-16 19:51:33 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/search?search=Exam&search_select=980190963" for 127.0.0.1 at 2016-12-16 14:51:33 -0500
Processing by IndexController#search as HTML
  Parameters: {"search"=>"Exam", "search_select"=>"980190963"}
  Rendering index/search.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/search.html.erb within layouts/application (5.8ms)
  Rendered layouts/_header.html.erb (3.9ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 18ms (Views: 16.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-16 19:51:33 UTC], ["updated_at", 2016-12-16 19:51:33 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-16 19:51:33 UTC], ["updated_at", 2016-12-16 19:51:33 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/ranking/980190963" for 127.0.0.1 at 2016-12-16 14:51:33 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category"=>"980190963"}
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies" WHERE (category = '980190963')[0m
  Rendering index/ranking.html.erb within layouts/application
  Rendered index/ranking.html.erb within layouts/application (7.9ms)
  Rendered layouts/_header.html.erb (3.8ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 1715ms (Views: 21.6ms | ActiveRecord: 0.1ms)
  [1m[35m (1.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-16 19:51:35 UTC], ["updated_at", 2016-12-16 19:51:35 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-16 19:51:35 UTC], ["updated_at", 2016-12-16 19:51:35 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/home" for 127.0.0.1 at 2016-12-16 14:51:35 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (11.9ms)
  Rendered layouts/_header.html.erb (3.3ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 24ms (Views: 21.9ms | ActiveRecord: 0.1ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-16 19:51:35 UTC], ["updated_at", 2016-12-16 19:51:35 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-16 19:51:35 UTC], ["updated_at", 2016-12-16 19:51:35 UTC]]
  [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-16 19:51:35 UTC], ["updated_at", 2016-12-16 19:51:35 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.1ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-16 19:51:35 UTC], ["updated_at", 2016-12-16 19:51:35 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (15.4ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (1.0ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-16 19:58:41.296961', '2016-12-16 19:58:41.296961', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-16 19:58:41.296961', '2016-12-16 19:58:41.296961', 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "share", "like", "city", "created_at", "updated_at", "id") VALUES ('Company-one', 1, 1, 10, 10, 'MyCity', '2016-12-16 19:58:41.321646', '2016-12-16 19:58:41.321646', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "share", "like", "city", "created_at", "updated_at", "id") VALUES ('Company-two', 2, 2, 20, 20, 'MyCity', '2016-12-16 19:58:41.321646', '2016-12-16 19:58:41.321646', 298486374)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-16 19:58:41.325812', '2016-12-16 19:58:41.325812', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-16 19:58:41.325812', '2016-12-16 19:58:41.325812', 298486374, 298486374)[0m
  [1m[35m (15.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CompaniesControllerTest: test_should_destroy_company
----------------------------------------------------
  [1m[36mCompany Load (0.2ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started DELETE "/companies/980190962" for 127.0.0.1 at 2016-12-16 14:58:41 -0500
Processing by CompaniesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "companies" WHERE "companies"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies
Completed 302 Found in 18ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_create_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started POST "/companies" for 127.0.0.1 at 2016-12-16 14:58:41 -0500
Processing by CompaniesController#create as HTML
  Parameters: {"company"=>{"name"=>"Company-one", "city"=>"MyCity", "category"=>"1"}}
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Company-one"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering companies/new.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (41.3ms)
  Rendered companies/new.html.erb within layouts/application (46.8ms)
  Rendered layouts/_header.html.erb (5.2ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 2055ms (Views: 1973.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CompaniesControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies" for 127.0.0.1 at 2016-12-16 14:58:43 -0500
Processing by CompaniesController#index as HTML
  Rendering companies/index.html.erb within layouts/application
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies"[0m
  Rendered companies/index.html.erb within layouts/application (1.9ms)
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 13ms (Views: 10.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CompaniesControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mCompany Load (0.2ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/980190962/edit" for 127.0.0.1 at 2016-12-16 14:58:43 -0500
Processing by CompaniesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/edit.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (2.1ms)
  Rendered companies/edit.html.erb within layouts/application (3.6ms)
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 14ms (Views: 12.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CompaniesControllerTest: test_should_show_company
-------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/980190962" for 127.0.0.1 at 2016-12-16 14:58:43 -0500
Processing by CompaniesController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/show.html.erb within layouts/application
  Rendered companies/show.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 12ms (Views: 10.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_update_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/companies/980190962" for 127.0.0.1 at 2016-12-16 14:58:43 -0500
Processing by CompaniesController#update as HTML
  Parameters: {"company"=>{"name"=>"Company-one", "city"=>"MyCity", "category"=>"1"}, "id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Company-one"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies/980190962
Completed 302 Found in 5ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompaniesControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/new" for 127.0.0.1 at 2016-12-16 14:58:43 -0500
Processing by CompaniesController#new as HTML
  Rendering companies/new.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (2.2ms)
  Rendered companies/new.html.erb within layouts/application (3.7ms)
  Rendered layouts/_header.html.erb (3.0ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 15ms (Views: 13.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-16 19:58:43 UTC], ["updated_at", 2016-12-16 19:58:43 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-16 19:58:44 UTC], ["updated_at", 2016-12-16 19:58:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-16 19:58:44 UTC], ["updated_at", 2016-12-16 19:58:44 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-16 19:58:44 UTC], ["updated_at", 2016-12-16 19:58:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.1ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-16 19:58:44 UTC], ["updated_at", 2016-12-16 19:58:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-16 19:58:44 UTC], ["updated_at", 2016-12-16 19:58:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/about" for 127.0.0.1 at 2016-12-16 14:58:44 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (6.5ms)
  Rendered layouts/_header.html.erb (3.0ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 53ms (Views: 18.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-16 19:58:44 UTC], ["updated_at", 2016-12-16 19:58:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-16 19:58:44 UTC], ["updated_at", 2016-12-16 19:58:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/ranking/980190963" for 127.0.0.1 at 2016-12-16 14:58:44 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category"=>"980190963"}
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies" WHERE (category = '980190963')[0m
  Rendering index/ranking.html.erb within layouts/application
  Rendered index/ranking.html.erb within layouts/application (4.2ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 2014ms (Views: 12.7ms | ActiveRecord: 0.1ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
IndexControllerTest: test_should_get_search
-------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-16 19:58:46 UTC], ["updated_at", 2016-12-16 19:58:46 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-16 19:58:46 UTC], ["updated_at", 2016-12-16 19:58:46 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/search?search=Exam&search_select=980190963" for 127.0.0.1 at 2016-12-16 14:58:46 -0500
Processing by IndexController#search as HTML
  Parameters: {"search"=>"Exam", "search_select"=>"980190963"}
  Rendering index/search.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/search.html.erb within layouts/application (3.8ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 14ms (Views: 11.9ms | ActiveRecord: 0.1ms)
  [1m[35m (13.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-16 19:58:46 UTC], ["updated_at", 2016-12-16 19:58:46 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-16 19:58:46 UTC], ["updated_at", 2016-12-16 19:58:46 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/home" for 127.0.0.1 at 2016-12-16 14:58:46 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (26.0ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 36ms (Views: 34.2ms | ActiveRecord: 0.4ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-16 19:58:46 UTC], ["updated_at", 2016-12-16 19:58:46 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-16 19:58:46 UTC], ["updated_at", 2016-12-16 19:58:46 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/place/980190963/1" for 127.0.0.1 at 2016-12-16 14:58:46 -0500
Processing by IndexController#place as HTML
  Parameters: {"id"=>"980190963", "no"=>"1"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering index/place.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/place.html.erb within layouts/application (5.8ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 1137ms (Views: 15.1ms | ActiveRecord: 0.1ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (23.9ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-16 20:01:04.405901', '2016-12-16 20:01:04.405901', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-16 20:01:04.405901', '2016-12-16 20:01:04.405901', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "city", "category", "subcategory", "share", "like", "created_at", "updated_at", "id") VALUES ('Company-one', 'MyCity1', 1, 1, 10, 10, '2016-12-16 20:01:04.455080', '2016-12-16 20:01:04.455080', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "companies" ("name", "city", "category", "subcategory", "share", "like", "created_at", "updated_at", "id") VALUES ('Company-two', 'MyCity2', 2, 2, 20, 20, '2016-12-16 20:01:04.455080', '2016-12-16 20:01:04.455080', 298486374)[0m
  [1m[36mFixture Delete (22.5ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-16 20:01:04.457225', '2016-12-16 20:01:04.457225', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-16 20:01:04.457225', '2016-12-16 20:01:04.457225', 298486374, 298486374)[0m
  [1m[35m (8.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_create_company
---------------------------------------------------
  [1m[36mCompany Load (0.2ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started POST "/companies" for 127.0.0.1 at 2016-12-16 15:01:04 -0500
Processing by CompaniesController#create as HTML
  Parameters: {"company"=>{"name"=>"Company-one", "city"=>"MyCity1", "category"=>"1"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Company-one"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering companies/new.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (31.0ms)
  Rendered companies/new.html.erb within layouts/application (36.2ms)
  Rendered layouts/_header.html.erb (5.9ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 1873ms (Views: 1811.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CompaniesControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies" for 127.0.0.1 at 2016-12-16 15:01:06 -0500
Processing by CompaniesController#index as HTML
  Rendering companies/index.html.erb within layouts/application
  [1m[36mCompany Load (0.2ms)[0m  [1m[34mSELECT "companies".* FROM "companies"[0m
  Rendered companies/index.html.erb within layouts/application (2.7ms)
  Rendered layouts/_header.html.erb (4.8ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 18ms (Views: 16.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CompaniesControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/980190962/edit" for 127.0.0.1 at 2016-12-16 15:01:06 -0500
Processing by CompaniesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/edit.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (3.1ms)
  Rendered companies/edit.html.erb within layouts/application (5.0ms)
  Rendered layouts/_header.html.erb (7.2ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 34ms (Views: 20.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CompaniesControllerTest: test_should_show_company
-------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/980190962" for 127.0.0.1 at 2016-12-16 15:01:06 -0500
Processing by CompaniesController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/show.html.erb within layouts/application
  Rendered companies/show.html.erb within layouts/application (1.8ms)
  Rendered layouts/_header.html.erb (5.2ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 18ms (Views: 15.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_update_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/companies/980190962" for 127.0.0.1 at 2016-12-16 15:01:06 -0500
Processing by CompaniesController#update as HTML
  Parameters: {"company"=>{"name"=>"Company-one", "city"=>"MyCity1", "category"=>"1"}, "id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Company-one"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies/980190962
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CompaniesControllerTest: test_should_destroy_company
----------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started DELETE "/companies/980190962" for 127.0.0.1 at 2016-12-16 15:01:06 -0500
Processing by CompaniesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "companies" WHERE "companies"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompaniesControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/new" for 127.0.0.1 at 2016-12-16 15:01:06 -0500
Processing by CompaniesController#new as HTML
  Rendering companies/new.html.erb within layouts/application
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (4.4ms)
  Rendered companies/new.html.erb within layouts/application (6.5ms)
  Rendered layouts/_header.html.erb (4.3ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 21ms (Views: 19.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-16 20:01:06 UTC], ["updated_at", 2016-12-16 20:01:06 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (2.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-16 20:01:06 UTC], ["updated_at", 2016-12-16 20:01:06 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-16 20:01:06 UTC], ["updated_at", 2016-12-16 20:01:06 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.1ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (15.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-16 20:01:07 UTC], ["updated_at", 2016-12-16 20:01:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (62.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-16 20:01:07 UTC], ["updated_at", 2016-12-16 20:01:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-16 20:01:07 UTC], ["updated_at", 2016-12-16 20:01:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/about" for 127.0.0.1 at 2016-12-16 15:01:07 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (16.6ms)
  Rendered layouts/_header.html.erb (4.3ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 49ms (Views: 30.3ms | ActiveRecord: 0.0ms)
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-16 20:01:07 UTC], ["updated_at", 2016-12-16 20:01:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-16 20:01:07 UTC], ["updated_at", 2016-12-16 20:01:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/home" for 127.0.0.1 at 2016-12-16 15:01:07 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (14.9ms)
  Rendered layouts/_header.html.erb (5.2ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 30ms (Views: 27.7ms | ActiveRecord: 0.1ms)
  [1m[35m (122.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
IndexControllerTest: test_should_get_search
-------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-16 20:01:07 UTC], ["updated_at", 2016-12-16 20:01:07 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-16 20:01:07 UTC], ["updated_at", 2016-12-16 20:01:07 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/search?search=Exam&search_select=980190963" for 127.0.0.1 at 2016-12-16 15:01:07 -0500
Processing by IndexController#search as HTML
  Parameters: {"search"=>"Exam", "search_select"=>"980190963"}
  Rendering index/search.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/search.html.erb within layouts/application (10.5ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 30ms (Views: 21.1ms | ActiveRecord: 0.1ms)
  [1m[35m (4.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-16 20:01:07 UTC], ["updated_at", 2016-12-16 20:01:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-16 20:01:07 UTC], ["updated_at", 2016-12-16 20:01:07 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/place/980190963/1" for 127.0.0.1 at 2016-12-16 15:01:07 -0500
Processing by IndexController#place as HTML
  Parameters: {"id"=>"980190963", "no"=>"1"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering index/place.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/place.html.erb within layouts/application (6.6ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 1710ms (Views: 15.3ms | ActiveRecord: 0.1ms)
  [1m[35m (1.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-16 20:01:09 UTC], ["updated_at", 2016-12-16 20:01:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-16 20:01:09 UTC], ["updated_at", 2016-12-16 20:01:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/ranking/980190963" for 127.0.0.1 at 2016-12-16 15:01:09 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category"=>"980190963"}
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies" WHERE (category = '980190963')[0m
  Rendering index/ranking.html.erb within layouts/application
  Rendered index/ranking.html.erb within layouts/application (4.1ms)
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 1098ms (Views: 14.3ms | ActiveRecord: 0.1ms)
  [1m[35m (1.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.9ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString1', '2016-12-16 20:02:08.223876', '2016-12-16 20:02:08.223876', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString2', '2016-12-16 20:02:08.223876', '2016-12-16 20:02:08.223876', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "city", "category", "subcategory", "share", "like", "created_at", "updated_at", "id") VALUES ('Company1', 'MyCity1', 1, 1, 10, 10, '2016-12-16 20:02:08.229720', '2016-12-16 20:02:08.229720', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "city", "category", "subcategory", "share", "like", "created_at", "updated_at", "id") VALUES ('Company2', 'MyCity', 2, 2, 20, 20, '2016-12-16 20:02:08.229720', '2016-12-16 20:02:08.229720', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-16 20:02:08.231979', '2016-12-16 20:02:08.231979', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-16 20:02:08.231979', '2016-12-16 20:02:08.231979', 298486374, 298486374)[0m
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-16 20:02:08 UTC], ["updated_at", 2016-12-16 20:02:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-16 20:02:08 UTC], ["updated_at", 2016-12-16 20:02:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.1ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-16 20:02:08 UTC], ["updated_at", 2016-12-16 20:02:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (24.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-16 20:02:08 UTC], ["updated_at", 2016-12-16 20:02:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-16 20:02:08 UTC], ["updated_at", 2016-12-16 20:02:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/place/980190963/1" for 127.0.0.1 at 2016-12-16 15:02:08 -0500
Processing by IndexController#place as HTML
  Parameters: {"id"=>"980190963", "no"=>"1"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering index/place.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/place.html.erb within layouts/application (1383.7ms)
  Rendered layouts/_header.html.erb (4.1ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 3765ms (Views: 1416.7ms | ActiveRecord: 0.2ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-16 20:02:12 UTC], ["updated_at", 2016-12-16 20:02:12 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-16 20:02:12 UTC], ["updated_at", 2016-12-16 20:02:12 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/about" for 127.0.0.1 at 2016-12-16 15:02:12 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (9.2ms)
  Rendered layouts/_header.html.erb (4.2ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 22ms (Views: 20.5ms | ActiveRecord: 0.0ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-16 20:02:12 UTC], ["updated_at", 2016-12-16 20:02:12 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-16 20:02:12 UTC], ["updated_at", 2016-12-16 20:02:12 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/home" for 127.0.0.1 at 2016-12-16 15:02:12 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (13.0ms)
  Rendered layouts/_header.html.erb (3.7ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 26ms (Views: 23.5ms | ActiveRecord: 0.2ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-16 20:02:12 UTC], ["updated_at", 2016-12-16 20:02:12 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-16 20:02:12 UTC], ["updated_at", 2016-12-16 20:02:12 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/ranking/980190963" for 127.0.0.1 at 2016-12-16 15:02:12 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category"=>"980190963"}
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies" WHERE (category = '980190963')[0m
  Rendering index/ranking.html.erb within layouts/application
  Rendered index/ranking.html.erb within layouts/application (6.7ms)
  Rendered layouts/_header.html.erb (6.6ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 1088ms (Views: 21.5ms | ActiveRecord: 0.2ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
IndexControllerTest: test_should_get_search
-------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-16 20:02:13 UTC], ["updated_at", 2016-12-16 20:02:13 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-16 20:02:13 UTC], ["updated_at", 2016-12-16 20:02:13 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/search?search=Exam&search_select=980190963" for 127.0.0.1 at 2016-12-16 15:02:13 -0500
Processing by IndexController#search as HTML
  Parameters: {"search"=>"Exam", "search_select"=>"980190963"}
  Rendering index/search.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/search.html.erb within layouts/application (8.7ms)
  Rendered layouts/_header.html.erb (6.0ms)
  Rendered layouts/_footer.html.erb (1.2ms)
Completed 200 OK in 26ms (Views: 24.0ms | ActiveRecord: 0.1ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CompaniesControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies" for 127.0.0.1 at 2016-12-16 15:02:13 -0500
Processing by CompaniesController#index as HTML
  Rendering companies/index.html.erb within layouts/application
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies"[0m
  Rendered companies/index.html.erb within layouts/application (2.7ms)
  Rendered layouts/_header.html.erb (5.7ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 21ms (Views: 17.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompaniesControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/new" for 127.0.0.1 at 2016-12-16 15:02:13 -0500
Processing by CompaniesController#new as HTML
  Rendering companies/new.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (26.2ms)
  Rendered companies/new.html.erb within layouts/application (27.8ms)
  Rendered layouts/_header.html.erb (6.6ms)
  Rendered layouts/_footer.html.erb (1.2ms)
Completed 200 OK in 46ms (Views: 44.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CompaniesControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/980190962/edit" for 127.0.0.1 at 2016-12-16 15:02:13 -0500
Processing by CompaniesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/edit.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (3.9ms)
  Rendered companies/edit.html.erb within layouts/application (5.9ms)
  Rendered layouts/_header.html.erb (4.0ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 25ms (Views: 22.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_create_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started POST "/companies" for 127.0.0.1 at 2016-12-16 15:02:13 -0500
Processing by CompaniesController#create as HTML
  Parameters: {"company"=>{"name"=>"Company1", "city"=>"MyCity1", "category"=>"1"}}
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Company1"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering companies/new.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (2.7ms)
  Rendered companies/new.html.erb within layouts/application (4.6ms)
  Rendered layouts/_header.html.erb (4.4ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 21ms (Views: 17.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_update_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/companies/980190962" for 127.0.0.1 at 2016-12-16 15:02:13 -0500
Processing by CompaniesController#update as HTML
  Parameters: {"company"=>{"name"=>"Company1", "city"=>"MyCity1", "category"=>"1"}, "id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Company1"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies/980190962
Completed 302 Found in 5ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CompaniesControllerTest: test_should_show_company
-------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/980190962" for 127.0.0.1 at 2016-12-16 15:02:13 -0500
Processing by CompaniesController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/show.html.erb within layouts/application
  Rendered companies/show.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (4.5ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 17ms (Views: 15.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CompaniesControllerTest: test_should_destroy_company
----------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started DELETE "/companies/980190962" for 127.0.0.1 at 2016-12-16 15:02:13 -0500
Processing by CompaniesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.2ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "companies" WHERE "companies"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-16 20:02:13 UTC], ["updated_at", 2016-12-16 20:02:13 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString1', '2016-12-16 20:03:58.592684', '2016-12-16 20:03:58.592684', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString2', '2016-12-16 20:03:58.592684', '2016-12-16 20:03:58.592684', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company1', 1, 1, 'MyCity1', 10, 10, '2016-12-16 20:03:58.598744', '2016-12-16 20:03:58.598744', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company2', 2, 2, 'MyCity2', 20, 20, '2016-12-16 20:03:58.598744', '2016-12-16 20:03:58.598744', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-16 20:03:58.600992', '2016-12-16 20:03:58.600992', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-16 20:03:58.600992', '2016-12-16 20:03:58.600992', 298486374, 298486374)[0m
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
IndexControllerTest: test_should_get_search
-------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-16 20:03:58 UTC], ["updated_at", 2016-12-16 20:03:58 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-16 20:03:58 UTC], ["updated_at", 2016-12-16 20:03:58 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/search?search=Exam&search_select=980190963" for 127.0.0.1 at 2016-12-16 15:03:58 -0500
Processing by IndexController#search as HTML
  Parameters: {"search"=>"Exam", "search_select"=>"980190963"}
  Rendering index/search.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/search.html.erb within layouts/application (1455.8ms)
  Rendered layouts/_header.html.erb (6.6ms)
  Rendered layouts/_footer.html.erb (1.4ms)
Completed 200 OK in 1506ms (Views: 1495.8ms | ActiveRecord: 0.1ms)
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-16 20:04:00 UTC], ["updated_at", 2016-12-16 20:04:00 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-16 20:04:00 UTC], ["updated_at", 2016-12-16 20:04:00 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/about" for 127.0.0.1 at 2016-12-16 15:04:00 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (11.7ms)
  Rendered layouts/_header.html.erb (6.6ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 54ms (Views: 27.9ms | ActiveRecord: 0.0ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.9ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-16 20:04:00 UTC], ["updated_at", 2016-12-16 20:04:00 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-16 20:04:00 UTC], ["updated_at", 2016-12-16 20:04:00 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/home" for 127.0.0.1 at 2016-12-16 15:04:00 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (17.8ms)
  Rendered layouts/_header.html.erb (10.7ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 39ms (Views: 36.9ms | ActiveRecord: 0.1ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-16 20:04:00 UTC], ["updated_at", 2016-12-16 20:04:00 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-16 20:04:00 UTC], ["updated_at", 2016-12-16 20:04:00 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/ranking/980190963" for 127.0.0.1 at 2016-12-16 15:04:00 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category"=>"980190963"}
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies" WHERE (category = '980190963')[0m
  Rendering index/ranking.html.erb within layouts/application
  Rendered index/ranking.html.erb within layouts/application (7.7ms)
  Rendered layouts/_header.html.erb (12.1ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 1746ms (Views: 27.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-16 20:04:02 UTC], ["updated_at", 2016-12-16 20:04:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-16 20:04:02 UTC], ["updated_at", 2016-12-16 20:04:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/place/980190963/1" for 127.0.0.1 at 2016-12-16 15:04:02 -0500
Processing by IndexController#place as HTML
  Parameters: {"id"=>"980190963", "no"=>"1"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering index/place.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/place.html.erb within layouts/application (14.4ms)
  Rendered layouts/_header.html.erb (3.6ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 1093ms (Views: 24.7ms | ActiveRecord: 0.2ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-16 20:04:03 UTC], ["updated_at", 2016-12-16 20:04:03 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CompaniesControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mCompany Load (0.2ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies" for 127.0.0.1 at 2016-12-16 15:04:03 -0500
Processing by CompaniesController#index as HTML
  Rendering companies/index.html.erb within layouts/application
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies"[0m
  Rendered companies/index.html.erb within layouts/application (2.3ms)
  Rendered layouts/_header.html.erb (5.1ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 17ms (Views: 15.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompaniesControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/new" for 127.0.0.1 at 2016-12-16 15:04:03 -0500
Processing by CompaniesController#new as HTML
  Rendering companies/new.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (37.4ms)
  Rendered companies/new.html.erb within layouts/application (39.1ms)
  Rendered layouts/_header.html.erb (4.1ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 52ms (Views: 50.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CompaniesControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mCompany Load (0.2ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/980190962/edit" for 127.0.0.1 at 2016-12-16 15:04:03 -0500
Processing by CompaniesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/edit.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (3.2ms)
  Rendered companies/edit.html.erb within layouts/application (5.4ms)
  Rendered layouts/_header.html.erb (4.9ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 21ms (Views: 18.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CompaniesControllerTest: test_should_show_company
-------------------------------------------------
  [1m[36mCompany Load (0.2ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/980190962" for 127.0.0.1 at 2016-12-16 15:04:03 -0500
Processing by CompaniesController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/show.html.erb within layouts/application
  Rendered companies/show.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (10.2ms)
  Rendered layouts/_footer.html.erb (0.9ms)
Completed 200 OK in 25ms (Views: 22.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_create_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started POST "/companies" for 127.0.0.1 at 2016-12-16 15:04:03 -0500
Processing by CompaniesController#create as HTML
  Parameters: {"company"=>{"name"=>"Company1", "city"=>"MyCity1", "category"=>"1"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Company1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering companies/new.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (3.4ms)
  Rendered companies/new.html.erb within layouts/application (5.2ms)
  Rendered layouts/_header.html.erb (6.4ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 25ms (Views: 20.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_update_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/companies/980190962" for 127.0.0.1 at 2016-12-16 15:04:03 -0500
Processing by CompaniesController#update as HTML
  Parameters: {"company"=>{"name"=>"Company1", "city"=>"MyCity1", "category"=>"1"}, "id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Company1"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CompaniesControllerTest: test_should_destroy_company
----------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started DELETE "/companies/980190962" for 127.0.0.1 at 2016-12-16 15:04:03 -0500
Processing by CompaniesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "companies" WHERE "companies"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-16 20:04:03 UTC], ["updated_at", 2016-12-16 20:04:03 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-16 20:04:03 UTC], ["updated_at", 2016-12-16 20:04:03 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.1ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-16 20:04:03 UTC], ["updated_at", 2016-12-16 20:04:03 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.8ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString1', '2016-12-16 20:06:51.630442', '2016-12-16 20:06:51.630442', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString2', '2016-12-16 20:06:51.630442', '2016-12-16 20:06:51.630442', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company1', 1, 1, 'MyCity1', 10, 10, '2016-12-16 20:06:51.636090', '2016-12-16 20:06:51.636090', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company2', 2, 2, 'MyCity2', 20, 20, '2016-12-16 20:06:51.636090', '2016-12-16 20:06:51.636090', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-16 20:06:51.638250', '2016-12-16 20:06:51.638250', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-16 20:06:51.638250', '2016-12-16 20:06:51.638250', 298486374, 298486374)[0m
  [1m[35m (21.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-16 20:06:51 UTC], ["updated_at", 2016-12-16 20:06:51 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompaniesControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mCompany Load (0.2ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/new" for 127.0.0.1 at 2016-12-16 15:06:51 -0500
Processing by CompaniesController#new as HTML
  Rendering companies/new.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (13.2ms)
  Rendered companies/new.html.erb within layouts/application (15.9ms)
  Rendered layouts/_header.html.erb (24.7ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 439ms (Views: 428.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CompaniesControllerTest: test_should_destroy_company
----------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started DELETE "/companies/980190962" for 127.0.0.1 at 2016-12-16 15:06:52 -0500
Processing by CompaniesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "companies" WHERE "companies"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies
Completed 302 Found in 16ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CompaniesControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mCompany Load (0.2ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/980190962/edit" for 127.0.0.1 at 2016-12-16 15:06:52 -0500
Processing by CompaniesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/edit.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (2.7ms)
  Rendered companies/edit.html.erb within layouts/application (4.7ms)
  Rendered layouts/_header.html.erb (5.7ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 20ms (Views: 18.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CompaniesControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies" for 127.0.0.1 at 2016-12-16 15:06:52 -0500
Processing by CompaniesController#index as HTML
  Rendering companies/index.html.erb within layouts/application
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies"[0m
  Rendered companies/index.html.erb within layouts/application (2.6ms)
  Rendered layouts/_header.html.erb (5.3ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 17ms (Views: 15.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_update_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/companies/980190962" for 127.0.0.1 at 2016-12-16 15:06:52 -0500
Processing by CompaniesController#update as HTML
  Parameters: {"company"=>{"name"=>"Company1", "city"=>"MyCity1", "category"=>"1"}, "id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Company1"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies/980190962
Completed 302 Found in 7ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CompaniesControllerTest: test_should_show_company
-------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/980190962" for 127.0.0.1 at 2016-12-16 15:06:52 -0500
Processing by CompaniesController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/show.html.erb within layouts/application
  Rendered companies/show.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (11.1ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 24ms (Views: 21.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_create_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started POST "/companies" for 127.0.0.1 at 2016-12-16 15:06:52 -0500
Processing by CompaniesController#create as HTML
  Parameters: {"company"=>{"name"=>"ExampleCompany", "city"=>"Mycity", "category"=>"1"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "ExampleCompany"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "ExampleCompany"], ["category", 1], ["city", "Mycity"], ["created_at", 2016-12-16 20:06:52 UTC], ["updated_at", 2016-12-16 20:06:52 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies/980190963
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" ORDER BY "companies"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-16 20:06:52 UTC], ["updated_at", 2016-12-16 20:06:52 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-16 20:06:52 UTC], ["updated_at", 2016-12-16 20:06:52 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/about" for 127.0.0.1 at 2016-12-16 15:06:52 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (10.1ms)
  Rendered layouts/_header.html.erb (4.0ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 42ms (Views: 25.2ms | ActiveRecord: 0.0ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-16 20:06:52 UTC], ["updated_at", 2016-12-16 20:06:52 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-16 20:06:52 UTC], ["updated_at", 2016-12-16 20:06:52 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/home" for 127.0.0.1 at 2016-12-16 15:06:52 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (15.5ms)
  Rendered layouts/_header.html.erb (4.3ms)
  Rendered layouts/_footer.html.erb (1.3ms)
Completed 200 OK in 30ms (Views: 27.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-16 20:06:52 UTC], ["updated_at", 2016-12-16 20:06:52 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-16 20:06:52 UTC], ["updated_at", 2016-12-16 20:06:52 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/place/980190963/1" for 127.0.0.1 at 2016-12-16 15:06:52 -0500
Processing by IndexController#place as HTML
  Parameters: {"id"=>"980190963", "no"=>"1"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering index/place.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/place.html.erb within layouts/application (9.6ms)
  Rendered layouts/_header.html.erb (4.1ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 2550ms (Views: 20.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-16 20:06:55 UTC], ["updated_at", 2016-12-16 20:06:55 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-16 20:06:55 UTC], ["updated_at", 2016-12-16 20:06:55 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/ranking/980190963" for 127.0.0.1 at 2016-12-16 15:06:55 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category"=>"980190963"}
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies" WHERE (category = '980190963')[0m
  Rendering index/ranking.html.erb within layouts/application
  Rendered index/ranking.html.erb within layouts/application (7.3ms)
  Rendered layouts/_header.html.erb (5.5ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 1092ms (Views: 21.2ms | ActiveRecord: 0.1ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
IndexControllerTest: test_should_get_search
-------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-16 20:06:56 UTC], ["updated_at", 2016-12-16 20:06:56 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-16 20:06:56 UTC], ["updated_at", 2016-12-16 20:06:56 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/search?search=Exam&search_select=980190963" for 127.0.0.1 at 2016-12-16 15:06:56 -0500
Processing by IndexController#search as HTML
  Parameters: {"search"=>"Exam", "search_select"=>"980190963"}
  Rendering index/search.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/search.html.erb within layouts/application (7.6ms)
  Rendered layouts/_header.html.erb (3.5ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 21ms (Views: 19.6ms | ActiveRecord: 0.1ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-16 20:06:56 UTC], ["updated_at", 2016-12-16 20:06:56 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-16 20:06:56 UTC], ["updated_at", 2016-12-16 20:06:56 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.1ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (20.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-16 20:06:56 UTC], ["updated_at", 2016-12-16 20:06:56 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (27.0ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString1', '2016-12-18 08:42:57.220412', '2016-12-18 08:42:57.220412', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString2', '2016-12-18 08:42:57.220412', '2016-12-18 08:42:57.220412', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company1', 1, 1, 'MyCity1', 10, 10, '2016-12-18 08:42:57.253252', '2016-12-18 08:42:57.253252', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company2', 2, 2, 'MyCity2', 20, 20, '2016-12-18 08:42:57.253252', '2016-12-18 08:42:57.253252', 298486374)[0m
  [1m[36mFixture Delete (1.1ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-18 08:42:57.255414', '2016-12-18 08:42:57.255414', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-18 08:42:57.255414', '2016-12-18 08:42:57.255414', 298486374, 298486374)[0m
  [1m[35m (53.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-18 08:42:57 UTC], ["updated_at", 2016-12-18 08:42:57 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-18 08:42:57 UTC], ["updated_at", 2016-12-18 08:42:57 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-18 08:42:57 UTC], ["updated_at", 2016-12-18 08:42:57 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.1ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-18 08:42:57 UTC], ["updated_at", 2016-12-18 08:42:57 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-18 08:42:57 UTC], ["updated_at", 2016-12-18 08:42:57 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/about" for 127.0.0.1 at 2016-12-18 03:42:57 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (1483.2ms)
  Rendered layouts/_header.html.erb (6.8ms)
  Rendered layouts/_footer.html.erb (1.1ms)
Completed 200 OK in 1559ms (Views: 1548.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-18 08:42:59 UTC], ["updated_at", 2016-12-18 08:42:59 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-18 08:42:59 UTC], ["updated_at", 2016-12-18 08:42:59 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/home" for 127.0.0.1 at 2016-12-18 03:42:59 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (13.6ms)
  Rendered layouts/_header.html.erb (3.8ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 26ms (Views: 24.4ms | ActiveRecord: 0.1ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
IndexControllerTest: test_should_get_search
-------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-18 08:42:59 UTC], ["updated_at", 2016-12-18 08:42:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-18 08:42:59 UTC], ["updated_at", 2016-12-18 08:42:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/search?search=Exam&search_select=980190963" for 127.0.0.1 at 2016-12-18 03:42:59 -0500
Processing by IndexController#search as HTML
  Parameters: {"search"=>"Exam", "search_select"=>"980190963"}
  Rendering index/search.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/search.html.erb within layouts/application (7.3ms)
  Rendered layouts/_header.html.erb (5.3ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 29ms (Views: 20.4ms | ActiveRecord: 0.1ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-18 08:42:59 UTC], ["updated_at", 2016-12-18 08:42:59 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (19.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-18 08:42:59 UTC], ["updated_at", 2016-12-18 08:42:59 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/place/980190963/1" for 127.0.0.1 at 2016-12-18 03:42:59 -0500
Processing by IndexController#place as HTML
  Parameters: {"id"=>"980190963", "no"=>"1"}
  [1m[36mCompany Load (0.2ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering index/place.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/place.html.erb within layouts/application (10.5ms)
  Rendered layouts/_header.html.erb (4.2ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 3386ms (Views: 23.6ms | ActiveRecord: 0.2ms)
  [1m[35m (9.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-18 08:43:02 UTC], ["updated_at", 2016-12-18 08:43:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-18 08:43:02 UTC], ["updated_at", 2016-12-18 08:43:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/ranking/980190963" for 127.0.0.1 at 2016-12-18 03:43:02 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category"=>"980190963"}
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies" WHERE (category = '980190963') ORDER BY id ASC[0m
  Rendering index/ranking.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/ranking.html.erb within layouts/application (9.6ms)
  Rendered layouts/_header.html.erb (5.2ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 1842ms (Views: 25.7ms | ActiveRecord: 0.2ms)
  [1m[35m (17.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-18 08:43:04 UTC], ["updated_at", 2016-12-18 08:43:04 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompaniesControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/new" for 127.0.0.1 at 2016-12-18 03:43:04 -0500
Processing by CompaniesController#new as HTML
  Rendering companies/new.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (47.3ms)
  Rendered companies/new.html.erb within layouts/application (49.6ms)
  Rendered layouts/_header.html.erb (4.8ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 69ms (Views: 63.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CompaniesControllerTest: test_should_show_company
-------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/980190962" for 127.0.0.1 at 2016-12-18 03:43:05 -0500
Processing by CompaniesController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/show.html.erb within layouts/application
  Rendered companies/show.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (3.6ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 35ms (Views: 13.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CompaniesControllerTest: test_should_destroy_company
----------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started DELETE "/companies/980190962" for 127.0.0.1 at 2016-12-18 03:43:05 -0500
Processing by CompaniesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "companies" WHERE "companies"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CompaniesControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/980190962/edit" for 127.0.0.1 at 2016-12-18 03:43:05 -0500
Processing by CompaniesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/edit.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (2.3ms)
  Rendered companies/edit.html.erb within layouts/application (4.0ms)
  Rendered layouts/_header.html.erb (3.3ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 23ms (Views: 16.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_create_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started POST "/companies" for 127.0.0.1 at 2016-12-18 03:43:05 -0500
Processing by CompaniesController#create as HTML
  Parameters: {"company"=>{"name"=>"ExampleCompany", "city"=>"Mycity", "category"=>"1"}}
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "ExampleCompany"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "ExampleCompany"], ["category", 1], ["city", "Mycity"], ["created_at", 2016-12-18 08:43:05 UTC], ["updated_at", 2016-12-18 08:43:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" ORDER BY "companies"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CompaniesControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies" for 127.0.0.1 at 2016-12-18 03:43:05 -0500
Processing by CompaniesController#index as HTML
  Rendering companies/index.html.erb within layouts/application
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies"[0m
  Rendered companies/index.html.erb within layouts/application (2.3ms)
  Rendered layouts/_header.html.erb (3.4ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 29ms (Views: 14.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_update_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/companies/980190962" for 127.0.0.1 at 2016-12-18 03:43:05 -0500
Processing by CompaniesController#update as HTML
  Parameters: {"company"=>{"name"=>"Company1", "city"=>"MyCity1", "category"=>"1"}, "id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Company1"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.2ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString1', '2016-12-19 00:16:07.502600', '2016-12-19 00:16:07.502600', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString2', '2016-12-19 00:16:07.502600', '2016-12-19 00:16:07.502600', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company1', 1, 1, 'MyCity1', 10, 10, '2016-12-19 00:16:07.508986', '2016-12-19 00:16:07.508986', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company2', 2, 2, 'MyCity2', 20, 20, '2016-12-19 00:16:07.508986', '2016-12-19 00:16:07.508986', 298486374)[0m
  [1m[36mFixture Delete (1.1ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-19 00:16:07.511161', '2016-12-19 00:16:07.511161', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-19 00:16:07.511161', '2016-12-19 00:16:07.511161', 298486374, 298486374)[0m
  [1m[35m (24.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-19 00:16:07 UTC], ["updated_at", 2016-12-19 00:16:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 00:16:08 UTC], ["updated_at", 2016-12-19 00:16:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 00:16:08 UTC], ["updated_at", 2016-12-19 00:16:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/about" for 127.0.0.1 at 2016-12-18 19:16:08 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (8783.2ms)
  Rendered layouts/_header.html.erb (3.1ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 8832ms (Views: 8821.6ms | ActiveRecord: 0.0ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
IndexControllerTest: test_should_get_search
-------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 00:16:17 UTC], ["updated_at", 2016-12-19 00:16:17 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 00:16:17 UTC], ["updated_at", 2016-12-19 00:16:17 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/search?search=Exam&search_select=980190963" for 127.0.0.1 at 2016-12-18 19:16:17 -0500
Processing by IndexController#search as HTML
  Parameters: {"search"=>"Exam", "search_select"=>"980190963"}
  Rendering index/search.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/search.html.erb within layouts/application (30.5ms)
  Rendered layouts/_header.html.erb (3.6ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 62ms (Views: 41.1ms | ActiveRecord: 0.1ms)
  [1m[35m (2.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 00:16:17 UTC], ["updated_at", 2016-12-19 00:16:17 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 00:16:17 UTC], ["updated_at", 2016-12-19 00:16:17 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/ranking/980190963" for 127.0.0.1 at 2016-12-18 19:16:17 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category"=>"980190963"}
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies" WHERE (category = '980190963') ORDER BY id ASC[0m
  Rendering index/ranking.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/ranking.html.erb within layouts/application (5.2ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 5972ms (Views: 12.9ms | ActiveRecord: 0.2ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 00:16:23 UTC], ["updated_at", 2016-12-19 00:16:23 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 00:16:23 UTC], ["updated_at", 2016-12-19 00:16:23 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/home" for 127.0.0.1 at 2016-12-18 19:16:23 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (9.7ms)
  Rendered layouts/_header.html.erb (3.1ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 60ms (Views: 19.5ms | ActiveRecord: 0.1ms)
  [1m[35m (1.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 00:16:23 UTC], ["updated_at", 2016-12-19 00:16:23 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 00:16:23 UTC], ["updated_at", 2016-12-19 00:16:23 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/place/980190963/1" for 127.0.0.1 at 2016-12-18 19:16:23 -0500
Processing by IndexController#place as HTML
  Parameters: {"id"=>"980190963", "no"=>"1"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering index/place.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/place.html.erb within layouts/application (5.8ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 3604ms (Views: 13.4ms | ActiveRecord: 0.2ms)
  [1m[35m (1.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompaniesControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/new" for 127.0.0.1 at 2016-12-18 19:16:27 -0500
Processing by CompaniesController#new as HTML
  Rendering companies/new.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (40.2ms)
  Rendered companies/new.html.erb within layouts/application (42.3ms)
  Rendered layouts/_header.html.erb (3.4ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 62ms (Views: 53.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_update_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/companies/980190962" for 127.0.0.1 at 2016-12-18 19:16:27 -0500
Processing by CompaniesController#update as HTML
  Parameters: {"company"=>{"name"=>"Company1", "city"=>"MyCity1", "category"=>"1"}, "id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Company1"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CompaniesControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies" for 127.0.0.1 at 2016-12-18 19:16:27 -0500
Processing by CompaniesController#index as HTML
  Rendering companies/index.html.erb within layouts/application
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies"[0m
  Rendered companies/index.html.erb within layouts/application (1.9ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 34ms (Views: 9.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_create_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started POST "/companies" for 127.0.0.1 at 2016-12-18 19:16:27 -0500
Processing by CompaniesController#create as HTML
  Parameters: {"company"=>{"name"=>"ExampleCompany", "city"=>"Mycity", "category"=>"1"}}
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "ExampleCompany"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "ExampleCompany"], ["category", 1], ["city", "Mycity"], ["created_at", 2016-12-19 00:16:27 UTC], ["updated_at", 2016-12-19 00:16:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" ORDER BY "companies"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CompaniesControllerTest: test_should_show_company
-------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/980190962" for 127.0.0.1 at 2016-12-18 19:16:27 -0500
Processing by CompaniesController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/show.html.erb within layouts/application
  Rendered companies/show.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (3.1ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 18ms (Views: 9.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CompaniesControllerTest: test_should_destroy_company
----------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started DELETE "/companies/980190962" for 127.0.0.1 at 2016-12-18 19:16:27 -0500
Processing by CompaniesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.2ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "companies" WHERE "companies"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CompaniesControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/980190962/edit" for 127.0.0.1 at 2016-12-18 19:16:27 -0500
Processing by CompaniesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/edit.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (2.1ms)
  Rendered companies/edit.html.erb within layouts/application (3.8ms)
  Rendered layouts/_header.html.erb (3.3ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 15ms (Views: 12.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 00:16:27 UTC], ["updated_at", 2016-12-19 00:16:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-19 00:16:27 UTC], ["updated_at", 2016-12-19 00:16:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.1ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (1.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 00:16:27 UTC], ["updated_at", 2016-12-19 00:16:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString1', '2016-12-19 00:16:49.424468', '2016-12-19 00:16:49.424468', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString2', '2016-12-19 00:16:49.424468', '2016-12-19 00:16:49.424468', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company1', 1, 1, 'MyCity1', 10, 10, '2016-12-19 00:16:49.454864', '2016-12-19 00:16:49.454864', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company2', 2, 2, 'MyCity2', 20, 20, '2016-12-19 00:16:49.454864', '2016-12-19 00:16:49.454864', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-19 00:16:49.457660', '2016-12-19 00:16:49.457660', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-19 00:16:49.457660', '2016-12-19 00:16:49.457660', 298486374, 298486374)[0m
  [1m[35m (2.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 00:16:49 UTC], ["updated_at", 2016-12-19 00:16:49 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-19 00:16:49 UTC], ["updated_at", 2016-12-19 00:16:49 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.1ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 00:16:49 UTC], ["updated_at", 2016-12-19 00:16:49 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CompaniesControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mCompany Load (0.2ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies" for 127.0.0.1 at 2016-12-18 19:16:49 -0500
Processing by CompaniesController#index as HTML
  Rendering companies/index.html.erb within layouts/application
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies"[0m
  Rendered companies/index.html.erb within layouts/application (6.6ms)
  Rendered layouts/_header.html.erb (853.2ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 892ms (Views: 882.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CompaniesControllerTest: test_should_show_company
-------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/980190962" for 127.0.0.1 at 2016-12-18 19:16:50 -0500
Processing by CompaniesController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/show.html.erb within layouts/application
  Rendered companies/show.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (6.8ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 18ms (Views: 15.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompaniesControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/new" for 127.0.0.1 at 2016-12-18 19:16:50 -0500
Processing by CompaniesController#new as HTML
  Rendering companies/new.html.erb within layouts/application
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (13.7ms)
  Rendered companies/new.html.erb within layouts/application (15.8ms)
  Rendered layouts/_header.html.erb (5.9ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 30ms (Views: 27.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CompaniesControllerTest: test_should_destroy_company
----------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started DELETE "/companies/980190962" for 127.0.0.1 at 2016-12-18 19:16:50 -0500
Processing by CompaniesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "companies" WHERE "companies"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies
Completed 302 Found in 3ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CompaniesControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/980190962/edit" for 127.0.0.1 at 2016-12-18 19:16:50 -0500
Processing by CompaniesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/edit.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (3.8ms)
  Rendered companies/edit.html.erb within layouts/application (6.1ms)
  Rendered layouts/_header.html.erb (6.1ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 20ms (Views: 17.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_create_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started POST "/companies" for 127.0.0.1 at 2016-12-18 19:16:50 -0500
Processing by CompaniesController#create as HTML
  Parameters: {"company"=>{"name"=>"ExampleCompany", "city"=>"Mycity", "category"=>"1"}}
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "ExampleCompany"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "ExampleCompany"], ["category", 1], ["city", "Mycity"], ["created_at", 2016-12-19 00:16:50 UTC], ["updated_at", 2016-12-19 00:16:50 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies/980190963
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[36mCompany Load (0.3ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" ORDER BY "companies"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_update_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/companies/980190962" for 127.0.0.1 at 2016-12-18 19:16:50 -0500
Processing by CompaniesController#update as HTML
  Parameters: {"company"=>{"name"=>"Company1", "city"=>"MyCity1", "category"=>"1"}, "id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Company1"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies/980190962
Completed 302 Found in 5ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 00:16:50 UTC], ["updated_at", 2016-12-19 00:16:50 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 00:16:50 UTC], ["updated_at", 2016-12-19 00:16:50 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/ranking/980190963" for 127.0.0.1 at 2016-12-18 19:16:50 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category"=>"980190963"}
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies" WHERE (category = '980190963') ORDER BY id ASC[0m
  Rendering index/ranking.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/ranking.html.erb within layouts/application (7.3ms)
  Rendered layouts/_header.html.erb (4.8ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 2529ms (Views: 17.8ms | ActiveRecord: 0.3ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 00:16:53 UTC], ["updated_at", 2016-12-19 00:16:53 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 00:16:53 UTC], ["updated_at", 2016-12-19 00:16:53 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/home" for 127.0.0.1 at 2016-12-18 19:16:53 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (18.6ms)
  Rendered layouts/_header.html.erb (3.9ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 29ms (Views: 27.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 00:16:53 UTC], ["updated_at", 2016-12-19 00:16:53 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 00:16:53 UTC], ["updated_at", 2016-12-19 00:16:53 UTC]]
  [1m[35m (9.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/place/980190963/1" for 127.0.0.1 at 2016-12-18 19:16:53 -0500
Processing by IndexController#place as HTML
  Parameters: {"id"=>"980190963", "no"=>"1"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering index/place.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/place.html.erb within layouts/application (8.1ms)
  Rendered layouts/_header.html.erb (3.9ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 2468ms (Views: 17.1ms | ActiveRecord: 0.1ms)
  [1m[35m (2.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 00:16:56 UTC], ["updated_at", 2016-12-19 00:16:56 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 00:16:56 UTC], ["updated_at", 2016-12-19 00:16:56 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/about" for 127.0.0.1 at 2016-12-18 19:16:56 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (10.6ms)
  Rendered layouts/_header.html.erb (4.1ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 62ms (Views: 22.5ms | ActiveRecord: 0.0ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
IndexControllerTest: test_should_get_search
-------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 00:16:56 UTC], ["updated_at", 2016-12-19 00:16:56 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 00:16:56 UTC], ["updated_at", 2016-12-19 00:16:56 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/search?search=Exam&search_select=980190963" for 127.0.0.1 at 2016-12-18 19:16:56 -0500
Processing by IndexController#search as HTML
  Parameters: {"search"=>"Exam", "search_select"=>"980190963"}
  Rendering index/search.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/search.html.erb within layouts/application (7.2ms)
  Rendered layouts/_header.html.erb (5.0ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 19ms (Views: 17.4ms | ActiveRecord: 0.1ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-19 00:16:56 UTC], ["updated_at", 2016-12-19 00:16:56 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (5.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.9ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString1', '2016-12-19 00:19:39.772420', '2016-12-19 00:19:39.772420', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString2', '2016-12-19 00:19:39.772420', '2016-12-19 00:19:39.772420', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company1', 1, 1, 'MyCity1', 10, 10, '2016-12-19 00:19:39.777697', '2016-12-19 00:19:39.777697', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company2', 2, 2, 'MyCity2', 20, 20, '2016-12-19 00:19:39.777697', '2016-12-19 00:19:39.777697', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-19 00:19:39.780114', '2016-12-19 00:19:39.780114', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-19 00:19:39.780114', '2016-12-19 00:19:39.780114', 298486374, 298486374)[0m
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 00:19:39 UTC], ["updated_at", 2016-12-19 00:19:39 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 00:19:39 UTC], ["updated_at", 2016-12-19 00:19:39 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/about" for 127.0.0.1 at 2016-12-18 19:19:39 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (405.2ms)
  Rendered layouts/_header.html.erb (5.4ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 431ms (Views: 420.8ms | ActiveRecord: 0.0ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 00:19:40 UTC], ["updated_at", 2016-12-19 00:19:40 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 00:19:40 UTC], ["updated_at", 2016-12-19 00:19:40 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/home" for 127.0.0.1 at 2016-12-18 19:19:40 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (9.8ms)
  Rendered layouts/_header.html.erb (3.2ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 20ms (Views: 18.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
IndexControllerTest: test_should_get_search
-------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 00:19:40 UTC], ["updated_at", 2016-12-19 00:19:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 00:19:40 UTC], ["updated_at", 2016-12-19 00:19:40 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/search?search=Exam&search_select=980190963" for 127.0.0.1 at 2016-12-18 19:19:40 -0500
Processing by IndexController#search as HTML
  Parameters: {"search"=>"Exam", "search_select"=>"980190963"}
  Rendering index/search.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/search.html.erb within layouts/application (5.9ms)
  Rendered layouts/_header.html.erb (3.1ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 15ms (Views: 13.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 00:19:40 UTC], ["updated_at", 2016-12-19 00:19:40 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 00:19:40 UTC], ["updated_at", 2016-12-19 00:19:40 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/place/980190963/1" for 127.0.0.1 at 2016-12-18 19:19:40 -0500
Processing by IndexController#place as HTML
  Parameters: {"id"=>"980190963", "no"=>"1"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering index/place.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/place.html.erb within layouts/application (6.2ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 2197ms (Views: 13.9ms | ActiveRecord: 0.2ms)
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 00:19:42 UTC], ["updated_at", 2016-12-19 00:19:42 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 00:19:42 UTC], ["updated_at", 2016-12-19 00:19:42 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/ranking/980190963" for 127.0.0.1 at 2016-12-18 19:19:42 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category"=>"980190963"}
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies" WHERE (category = '980190963') ORDER BY id ASC[0m
  Rendering index/ranking.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/ranking.html.erb within layouts/application (5.1ms)
  Rendered layouts/_header.html.erb (3.3ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 1367ms (Views: 13.3ms | ActiveRecord: 0.2ms)
  [1m[35m (2.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-19 00:19:44 UTC], ["updated_at", 2016-12-19 00:19:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 00:19:44 UTC], ["updated_at", 2016-12-19 00:19:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-19 00:19:44 UTC], ["updated_at", 2016-12-19 00:19:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.1ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 00:19:44 UTC], ["updated_at", 2016-12-19 00:19:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CompaniesControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/980190962/edit" for 127.0.0.1 at 2016-12-18 19:19:44 -0500
Processing by CompaniesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/edit.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (9.0ms)
  Rendered companies/edit.html.erb within layouts/application (10.6ms)
  Rendered layouts/_header.html.erb (3.1ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 21ms (Views: 18.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CompaniesControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies" for 127.0.0.1 at 2016-12-18 19:19:44 -0500
Processing by CompaniesController#index as HTML
  Rendering companies/index.html.erb within layouts/application
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies"[0m
  Rendered companies/index.html.erb within layouts/application (1.8ms)
  Rendered layouts/_header.html.erb (3.3ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 11ms (Views: 9.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CompaniesControllerTest: test_should_destroy_company
----------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started DELETE "/companies/980190962" for 127.0.0.1 at 2016-12-18 19:19:44 -0500
Processing by CompaniesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "companies" WHERE "companies"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_create_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started POST "/companies" for 127.0.0.1 at 2016-12-18 19:19:44 -0500
Processing by CompaniesController#create as HTML
  Parameters: {"company"=>{"name"=>"ExampleCompany", "city"=>"Mycity", "category"=>"1"}}
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "ExampleCompany"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "ExampleCompany"], ["category", 1], ["city", "Mycity"], ["created_at", 2016-12-19 00:19:44 UTC], ["updated_at", 2016-12-19 00:19:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" ORDER BY "companies"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CompaniesControllerTest: test_should_show_company
-------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/980190962" for 127.0.0.1 at 2016-12-18 19:19:44 -0500
Processing by CompaniesController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/show.html.erb within layouts/application
  Rendered companies/show.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (21.7ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 29ms (Views: 27.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompaniesControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/new" for 127.0.0.1 at 2016-12-18 19:19:44 -0500
Processing by CompaniesController#new as HTML
  Rendering companies/new.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (2.5ms)
  Rendered companies/new.html.erb within layouts/application (4.4ms)
  Rendered layouts/_header.html.erb (3.9ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 15ms (Views: 13.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_update_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/companies/980190962" for 127.0.0.1 at 2016-12-18 19:19:44 -0500
Processing by CompaniesController#update as HTML
  Parameters: {"company"=>{"name"=>"Company1", "city"=>"MyCity1", "category"=>"1"}, "id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Company1"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString1', '2016-12-19 03:55:54.869714', '2016-12-19 03:55:54.869714', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString2', '2016-12-19 03:55:54.869714', '2016-12-19 03:55:54.869714', 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company1', 1, 1, 'MyCity1', 10, 10, '2016-12-19 03:55:54.876370', '2016-12-19 03:55:54.876370', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company2', 2, 2, 'MyCity2', 20, 20, '2016-12-19 03:55:54.876370', '2016-12-19 03:55:54.876370', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-19 03:55:54.878379', '2016-12-19 03:55:54.878379', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-19 03:55:54.878379', '2016-12-19 03:55:54.878379', 298486374, 298486374)[0m
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 03:55:55 UTC], ["updated_at", 2016-12-19 03:55:55 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 03:55:55 UTC], ["updated_at", 2016-12-19 03:55:55 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/about" for 127.0.0.1 at 2016-12-18 22:55:55 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (440.8ms)
  Rendered layouts/_header.html.erb (5.1ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 464ms (Views: 453.8ms | ActiveRecord: 0.0ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 03:55:55 UTC], ["updated_at", 2016-12-19 03:55:55 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 03:55:55 UTC], ["updated_at", 2016-12-19 03:55:55 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/home" for 127.0.0.1 at 2016-12-18 22:55:55 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (11.8ms)
  Rendered layouts/_header.html.erb (3.6ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 22ms (Views: 20.3ms | ActiveRecord: 0.1ms)
  [1m[35m (2.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 03:55:55 UTC], ["updated_at", 2016-12-19 03:55:55 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 03:55:55 UTC], ["updated_at", 2016-12-19 03:55:55 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/place/980190963/1" for 127.0.0.1 at 2016-12-18 22:55:55 -0500
Processing by IndexController#place as HTML
  Parameters: {"id"=>"980190963", "no"=>"1"}
  [1m[36mCompany Load (0.2ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering index/place.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/place.html.erb within layouts/application (6.3ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 2541ms (Views: 13.9ms | ActiveRecord: 0.3ms)
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (2.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 03:55:58 UTC], ["updated_at", 2016-12-19 03:55:58 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 03:55:58 UTC], ["updated_at", 2016-12-19 03:55:58 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/ranking/980190963" for 127.0.0.1 at 2016-12-18 22:55:58 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category"=>"980190963"}
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies" WHERE (category = '980190963') ORDER BY id ASC[0m
  Rendering index/ranking.html.erb within layouts/application
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/ranking.html.erb within layouts/application (26.8ms)
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 849ms (Views: 34.7ms | ActiveRecord: 0.3ms)
  [1m[35m (2.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
IndexControllerTest: test_should_get_search
-------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 03:55:59 UTC], ["updated_at", 2016-12-19 03:55:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 03:55:59 UTC], ["updated_at", 2016-12-19 03:55:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/search?search=Exam&search_select=980190963" for 127.0.0.1 at 2016-12-18 22:55:59 -0500
Processing by IndexController#search as HTML
  Parameters: {"search"=>"Exam", "search_select"=>"980190963"}
  Rendering index/search.html.erb within layouts/application
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/search.html.erb within layouts/application (4.1ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 13ms (Views: 11.5ms | ActiveRecord: 0.0ms)
  [1m[35m (2.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 03:55:59 UTC], ["updated_at", 2016-12-19 03:55:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-19 03:55:59 UTC], ["updated_at", 2016-12-19 03:55:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.1ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 03:55:59 UTC], ["updated_at", 2016-12-19 03:55:59 UTC]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (2.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-19 03:55:59 UTC], ["updated_at", 2016-12-19 03:55:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (2.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompaniesControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/new" for 127.0.0.1 at 2016-12-18 22:55:59 -0500
Processing by CompaniesController#new as HTML
  Rendering companies/new.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (9.1ms)
  Rendered companies/new.html.erb within layouts/application (11.0ms)
  Rendered layouts/_header.html.erb (3.4ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 21ms (Views: 19.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CompaniesControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/980190962/edit" for 127.0.0.1 at 2016-12-18 22:55:59 -0500
Processing by CompaniesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/edit.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (1.9ms)
  Rendered companies/edit.html.erb within layouts/application (3.6ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 13ms (Views: 11.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CompaniesControllerTest: test_should_destroy_company
----------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started DELETE "/companies/980190962" for 127.0.0.1 at 2016-12-18 22:55:59 -0500
Processing by CompaniesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "companies" WHERE "companies"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[35m (3.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_update_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/companies/980190962" for 127.0.0.1 at 2016-12-18 22:55:59 -0500
Processing by CompaniesController#update as HTML
  Parameters: {"company"=>{"name"=>"Company1", "city"=>"MyCity1", "category"=>"1"}, "id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Company1"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CompaniesControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies" for 127.0.0.1 at 2016-12-18 22:55:59 -0500
Processing by CompaniesController#index as HTML
  Rendering companies/index.html.erb within layouts/application
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies"[0m
  Rendered companies/index.html.erb within layouts/application (1.8ms)
  Rendered layouts/_header.html.erb (3.4ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 11ms (Views: 9.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_create_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started POST "/companies" for 127.0.0.1 at 2016-12-18 22:55:59 -0500
Processing by CompaniesController#create as HTML
  Parameters: {"company"=>{"name"=>"ExampleCompany", "city"=>"Mycity", "category"=>"1"}}
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "ExampleCompany"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "ExampleCompany"], ["category", 1], ["city", "Mycity"], ["created_at", 2016-12-19 03:55:59 UTC], ["updated_at", 2016-12-19 03:55:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" ORDER BY "companies"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (29.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CompaniesControllerTest: test_should_show_company
-------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/980190962" for 127.0.0.1 at 2016-12-18 22:55:59 -0500
Processing by CompaniesController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/show.html.erb within layouts/application
  Rendered companies/show.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (3.2ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 11ms (Views: 8.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString1', '2016-12-19 03:56:56.727108', '2016-12-19 03:56:56.727108', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString2', '2016-12-19 03:56:56.727108', '2016-12-19 03:56:56.727108', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company1', 1, 1, 'MyCity1', 10, 10, '2016-12-19 03:56:56.731950', '2016-12-19 03:56:56.731950', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company2', 2, 2, 'MyCity2', 20, 20, '2016-12-19 03:56:56.731950', '2016-12-19 03:56:56.731950', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-19 03:56:56.734361', '2016-12-19 03:56:56.734361', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-19 03:56:56.734361', '2016-12-19 03:56:56.734361', 298486374, 298486374)[0m
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 03:56:56 UTC], ["updated_at", 2016-12-19 03:56:56 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-19 03:56:56 UTC], ["updated_at", 2016-12-19 03:56:56 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.1ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 03:56:56 UTC], ["updated_at", 2016-12-19 03:56:56 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (3.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-19 03:56:56 UTC], ["updated_at", 2016-12-19 03:56:56 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (3.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 03:56:56 UTC], ["updated_at", 2016-12-19 03:56:56 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 03:56:56 UTC], ["updated_at", 2016-12-19 03:56:56 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/ranking/980190963" for 127.0.0.1 at 2016-12-18 22:56:56 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category"=>"980190963"}
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies" WHERE (category = '980190963') ORDER BY id ASC[0m
  Rendering index/ranking.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/ranking.html.erb within layouts/application (309.1ms)
  Rendered layouts/_header.html.erb (5.5ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 1450ms (Views: 323.2ms | ActiveRecord: 0.3ms)
  [1m[35m (4.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 03:56:58 UTC], ["updated_at", 2016-12-19 03:56:58 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 03:56:58 UTC], ["updated_at", 2016-12-19 03:56:58 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/place/980190963/1" for 127.0.0.1 at 2016-12-18 22:56:58 -0500
Processing by IndexController#place as HTML
  Parameters: {"id"=>"980190963", "no"=>"1"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering index/place.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/place.html.erb within layouts/application (11.1ms)
  Rendered layouts/_header.html.erb (5.3ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 839ms (Views: 22.1ms | ActiveRecord: 0.2ms)
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (2.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 03:56:59 UTC], ["updated_at", 2016-12-19 03:56:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 03:56:59 UTC], ["updated_at", 2016-12-19 03:56:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/about" for 127.0.0.1 at 2016-12-18 22:56:59 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (11.4ms)
  Rendered layouts/_header.html.erb (5.5ms)
  Rendered layouts/_footer.html.erb (0.9ms)
Completed 200 OK in 24ms (Views: 22.9ms | ActiveRecord: 0.0ms)
  [1m[35m (2.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 03:56:59 UTC], ["updated_at", 2016-12-19 03:56:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 03:56:59 UTC], ["updated_at", 2016-12-19 03:56:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/home" for 127.0.0.1 at 2016-12-18 22:56:59 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (15.4ms)
  Rendered layouts/_header.html.erb (4.6ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 27ms (Views: 25.8ms | ActiveRecord: 0.1ms)
  [1m[35m (2.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
IndexControllerTest: test_should_get_search
-------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 03:56:59 UTC], ["updated_at", 2016-12-19 03:56:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 03:56:59 UTC], ["updated_at", 2016-12-19 03:56:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/search?search=Exam&search_select=980190963" for 127.0.0.1 at 2016-12-18 22:56:59 -0500
Processing by IndexController#search as HTML
  Parameters: {"search"=>"Exam", "search_select"=>"980190963"}
  Rendering index/search.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/search.html.erb within layouts/application (5.4ms)
  Rendered layouts/_header.html.erb (4.3ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 16ms (Views: 14.9ms | ActiveRecord: 0.1ms)
  [1m[35m (2.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CompaniesControllerTest: test_should_destroy_company
----------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started DELETE "/companies/980190962" for 127.0.0.1 at 2016-12-18 22:56:59 -0500
Processing by CompaniesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "companies" WHERE "companies"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[35m (3.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CompaniesControllerTest: test_should_show_company
-------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/980190962" for 127.0.0.1 at 2016-12-18 22:56:59 -0500
Processing by CompaniesController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/show.html.erb within layouts/application
  Rendered companies/show.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (4.9ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 13ms (Views: 11.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompaniesControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/new" for 127.0.0.1 at 2016-12-18 22:56:59 -0500
Processing by CompaniesController#new as HTML
  Rendering companies/new.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (13.3ms)
  Rendered companies/new.html.erb within layouts/application (14.9ms)
  Rendered layouts/_header.html.erb (4.1ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 25ms (Views: 23.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CompaniesControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies" for 127.0.0.1 at 2016-12-18 22:56:59 -0500
Processing by CompaniesController#index as HTML
  Rendering companies/index.html.erb within layouts/application
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies"[0m
  Rendered companies/index.html.erb within layouts/application (2.0ms)
  Rendered layouts/_header.html.erb (3.3ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 11ms (Views: 9.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_create_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started POST "/companies" for 127.0.0.1 at 2016-12-18 22:56:59 -0500
Processing by CompaniesController#create as HTML
  Parameters: {"company"=>{"name"=>"ExampleCompany", "city"=>"Mycity", "category"=>"1"}}
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "ExampleCompany"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "ExampleCompany"], ["category", 1], ["city", "Mycity"], ["created_at", 2016-12-19 03:56:59 UTC], ["updated_at", 2016-12-19 03:56:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" ORDER BY "companies"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (3.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_update_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/companies/980190962" for 127.0.0.1 at 2016-12-18 22:56:59 -0500
Processing by CompaniesController#update as HTML
  Parameters: {"company"=>{"name"=>"Company1", "city"=>"MyCity1", "category"=>"1"}, "id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Company1"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CompaniesControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/980190962/edit" for 127.0.0.1 at 2016-12-18 22:56:59 -0500
Processing by CompaniesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/edit.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (2.5ms)
  Rendered companies/edit.html.erb within layouts/application (4.1ms)
  Rendered layouts/_header.html.erb (3.2ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 13ms (Views: 11.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString1', '2016-12-19 03:58:23.600464', '2016-12-19 03:58:23.600464', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString2', '2016-12-19 03:58:23.600464', '2016-12-19 03:58:23.600464', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company1', 1, 1, 'MyCity1', 10, 10, '2016-12-19 03:58:23.604550', '2016-12-19 03:58:23.604550', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company2', 2, 2, 'MyCity2', 20, 20, '2016-12-19 03:58:23.604550', '2016-12-19 03:58:23.604550', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-19 03:58:23.606805', '2016-12-19 03:58:23.606805', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-19 03:58:23.606805', '2016-12-19 03:58:23.606805', 298486374, 298486374)[0m
  [1m[35m (2.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_create_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started POST "/companies" for 127.0.0.1 at 2016-12-18 22:58:23 -0500
Processing by CompaniesController#create as HTML
  Parameters: {"company"=>{"name"=>"ExampleCompany", "city"=>"Mycity", "category"=>"1"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "ExampleCompany"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "ExampleCompany"], ["category", 1], ["city", "Mycity"], ["created_at", 2016-12-19 03:58:23 UTC], ["updated_at", 2016-12-19 03:58:23 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies/980190963
Completed 302 Found in 17ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" ORDER BY "companies"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CompaniesControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/980190962/edit" for 127.0.0.1 at 2016-12-18 22:58:23 -0500
Processing by CompaniesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/edit.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (8.2ms)
  Rendered companies/edit.html.erb within layouts/application (10.7ms)
  Rendered layouts/_header.html.erb (359.4ms)
  Rendered layouts/_footer.html.erb (2.3ms)
Completed 200 OK in 385ms (Views: 381.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompaniesControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/new" for 127.0.0.1 at 2016-12-18 22:58:24 -0500
Processing by CompaniesController#new as HTML
  Rendering companies/new.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (2.3ms)
  Rendered companies/new.html.erb within layouts/application (4.0ms)
  Rendered layouts/_header.html.erb (3.4ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 13ms (Views: 12.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CompaniesControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies" for 127.0.0.1 at 2016-12-18 22:58:24 -0500
Processing by CompaniesController#index as HTML
  Rendering companies/index.html.erb within layouts/application
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies"[0m
  Rendered companies/index.html.erb within layouts/application (1.7ms)
  Rendered layouts/_header.html.erb (3.2ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 11ms (Views: 9.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_update_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/companies/980190962" for 127.0.0.1 at 2016-12-18 22:58:24 -0500
Processing by CompaniesController#update as HTML
  Parameters: {"company"=>{"name"=>"Company1", "city"=>"MyCity1", "category"=>"1"}, "id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Company1"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CompaniesControllerTest: test_should_show_company
-------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/980190962" for 127.0.0.1 at 2016-12-18 22:58:24 -0500
Processing by CompaniesController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/show.html.erb within layouts/application
  Rendered companies/show.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (3.2ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 10ms (Views: 8.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CompaniesControllerTest: test_should_destroy_company
----------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started DELETE "/companies/980190962" for 127.0.0.1 at 2016-12-18 22:58:24 -0500
Processing by CompaniesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "companies" WHERE "companies"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[35m (3.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 03:58:24 UTC], ["updated_at", 2016-12-19 03:58:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-19 03:58:24 UTC], ["updated_at", 2016-12-19 03:58:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.1ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (2.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 03:58:24 UTC], ["updated_at", 2016-12-19 03:58:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (3.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-19 03:58:24 UTC], ["updated_at", 2016-12-19 03:58:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (2.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 03:58:24 UTC], ["updated_at", 2016-12-19 03:58:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 03:58:24 UTC], ["updated_at", 2016-12-19 03:58:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/about" for 127.0.0.1 at 2016-12-18 22:58:24 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (6.1ms)
  Rendered layouts/_header.html.erb (3.1ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 15ms (Views: 14.0ms | ActiveRecord: 0.0ms)
  [1m[35m (2.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 03:58:24 UTC], ["updated_at", 2016-12-19 03:58:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 03:58:24 UTC], ["updated_at", 2016-12-19 03:58:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/home" for 127.0.0.1 at 2016-12-18 22:58:24 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (8.6ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 17ms (Views: 16.1ms | ActiveRecord: 0.1ms)
  [1m[35m (4.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 03:58:24 UTC], ["updated_at", 2016-12-19 03:58:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 03:58:24 UTC], ["updated_at", 2016-12-19 03:58:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/place/980190963/1" for 127.0.0.1 at 2016-12-18 22:58:24 -0500
Processing by IndexController#place as HTML
  Parameters: {"id"=>"980190963", "no"=>"1"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering index/place.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/place.html.erb within layouts/application (6.8ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 1543ms (Views: 14.6ms | ActiveRecord: 0.1ms)
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (4.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
IndexControllerTest: test_should_get_search
-------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 03:58:26 UTC], ["updated_at", 2016-12-19 03:58:26 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 03:58:26 UTC], ["updated_at", 2016-12-19 03:58:26 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/search?search=Exam&search_select=980190963" for 127.0.0.1 at 2016-12-18 22:58:26 -0500
Processing by IndexController#search as HTML
  Parameters: {"search"=>"Exam", "search_select"=>"980190963"}
  Rendering index/search.html.erb within layouts/application
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/search.html.erb within layouts/application (4.2ms)
  Rendered layouts/_header.html.erb (4.3ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 14ms (Views: 13.2ms | ActiveRecord: 0.0ms)
  [1m[35m (5.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 03:58:26 UTC], ["updated_at", 2016-12-19 03:58:26 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 03:58:26 UTC], ["updated_at", 2016-12-19 03:58:26 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/ranking/980190963" for 127.0.0.1 at 2016-12-18 22:58:26 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category"=>"980190963"}
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies" WHERE (category = '980190963') ORDER BY id ASC[0m
  Rendering index/ranking.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/ranking.html.erb within layouts/application (4.8ms)
  Rendered layouts/_header.html.erb (3.0ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 883ms (Views: 13.1ms | ActiveRecord: 0.3ms)
  [1m[35m (4.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString1', '2016-12-19 03:59:02.605670', '2016-12-19 03:59:02.605670', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString2', '2016-12-19 03:59:02.605670', '2016-12-19 03:59:02.605670', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company1', 1, 1, 'MyCity1', 10, 10, '2016-12-19 03:59:02.611124', '2016-12-19 03:59:02.611124', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company2', 2, 2, 'MyCity2', 20, 20, '2016-12-19 03:59:02.611124', '2016-12-19 03:59:02.611124', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-19 03:59:02.613263', '2016-12-19 03:59:02.613263', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-19 03:59:02.613263', '2016-12-19 03:59:02.613263', 298486374, 298486374)[0m
  [1m[35m (1.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-19 03:59:02 UTC], ["updated_at", 2016-12-19 03:59:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (3.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 03:59:02 UTC], ["updated_at", 2016-12-19 03:59:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-19 03:59:02 UTC], ["updated_at", 2016-12-19 03:59:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.1ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (2.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 03:59:02 UTC], ["updated_at", 2016-12-19 03:59:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (2.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CompaniesControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mCompany Load (0.2ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies" for 127.0.0.1 at 2016-12-18 22:59:02 -0500
Processing by CompaniesController#index as HTML
  Rendering companies/index.html.erb within layouts/application
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies"[0m
  Rendered companies/index.html.erb within layouts/application (5.4ms)
  Rendered layouts/_header.html.erb (322.2ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 345ms (Views: 335.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CompaniesControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/980190962/edit" for 127.0.0.1 at 2016-12-18 22:59:03 -0500
Processing by CompaniesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/edit.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (12.6ms)
  Rendered companies/edit.html.erb within layouts/application (15.0ms)
  Rendered layouts/_header.html.erb (5.6ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 28ms (Views: 25.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_create_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started POST "/companies" for 127.0.0.1 at 2016-12-18 22:59:03 -0500
Processing by CompaniesController#create as HTML
  Parameters: {"company"=>{"name"=>"ExampleCompany", "city"=>"Mycity", "category"=>"1"}}
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "ExampleCompany"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "ExampleCompany"], ["category", 1], ["city", "Mycity"], ["created_at", 2016-12-19 03:59:03 UTC], ["updated_at", 2016-12-19 03:59:03 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" ORDER BY "companies"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (3.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_update_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/companies/980190962" for 127.0.0.1 at 2016-12-18 22:59:03 -0500
Processing by CompaniesController#update as HTML
  Parameters: {"company"=>{"name"=>"Company1", "city"=>"MyCity1", "category"=>"1"}, "id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Company1"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies/980190962
Completed 302 Found in 6ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CompaniesControllerTest: test_should_destroy_company
----------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (4.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started DELETE "/companies/980190962" for 127.0.0.1 at 2016-12-18 22:59:03 -0500
Processing by CompaniesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "companies" WHERE "companies"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[35m (3.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CompaniesControllerTest: test_should_show_company
-------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/980190962" for 127.0.0.1 at 2016-12-18 22:59:03 -0500
Processing by CompaniesController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/show.html.erb within layouts/application
  Rendered companies/show.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (4.9ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 13ms (Views: 11.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompaniesControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/new" for 127.0.0.1 at 2016-12-18 22:59:03 -0500
Processing by CompaniesController#new as HTML
  Rendering companies/new.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (3.1ms)
  Rendered companies/new.html.erb within layouts/application (5.0ms)
  Rendered layouts/_header.html.erb (4.5ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 16ms (Views: 14.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 03:59:03 UTC], ["updated_at", 2016-12-19 03:59:03 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 03:59:03 UTC], ["updated_at", 2016-12-19 03:59:03 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/ranking/980190963" for 127.0.0.1 at 2016-12-18 22:59:03 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category"=>"980190963"}
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies" WHERE (category = '980190963') ORDER BY id ASC[0m
  Rendering index/ranking.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/ranking.html.erb within layouts/application (5.0ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 833ms (Views: 13.0ms | ActiveRecord: 0.2ms)
  [1m[35m (2.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 03:59:04 UTC], ["updated_at", 2016-12-19 03:59:04 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 03:59:04 UTC], ["updated_at", 2016-12-19 03:59:04 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/about" for 127.0.0.1 at 2016-12-18 22:59:04 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (6.3ms)
  Rendered layouts/_header.html.erb (3.5ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 16ms (Views: 14.6ms | ActiveRecord: 0.0ms)
  [1m[35m (5.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 03:59:04 UTC], ["updated_at", 2016-12-19 03:59:04 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 03:59:04 UTC], ["updated_at", 2016-12-19 03:59:04 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/home" for 127.0.0.1 at 2016-12-18 22:59:04 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (9.0ms)
  Rendered layouts/_header.html.erb (3.0ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 18ms (Views: 16.6ms | ActiveRecord: 0.1ms)
  [1m[35m (4.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 03:59:04 UTC], ["updated_at", 2016-12-19 03:59:04 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 03:59:04 UTC], ["updated_at", 2016-12-19 03:59:04 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/place/980190963/1" for 127.0.0.1 at 2016-12-18 22:59:04 -0500
Processing by IndexController#place as HTML
  Parameters: {"id"=>"980190963", "no"=>"1"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering index/place.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/place.html.erb within layouts/application (6.4ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 825ms (Views: 14.7ms | ActiveRecord: 0.1ms)
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (2.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
IndexControllerTest: test_should_get_search
-------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 03:59:05 UTC], ["updated_at", 2016-12-19 03:59:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 03:59:05 UTC], ["updated_at", 2016-12-19 03:59:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/search?search=Exam&search_select=980190963" for 127.0.0.1 at 2016-12-18 22:59:05 -0500
Processing by IndexController#search as HTML
  Parameters: {"search"=>"Exam", "search_select"=>"980190963"}
  Rendering index/search.html.erb within layouts/application
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/search.html.erb within layouts/application (4.1ms)
  Rendered layouts/_header.html.erb (3.6ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 14ms (Views: 12.5ms | ActiveRecord: 0.0ms)
  [1m[35m (2.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString1', '2016-12-19 04:00:58.355877', '2016-12-19 04:00:58.355877', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString2', '2016-12-19 04:00:58.355877', '2016-12-19 04:00:58.355877', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company1', 1, 1, 'MyCity1', 10, 10, '2016-12-19 04:00:58.360173', '2016-12-19 04:00:58.360173', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company2', 2, 2, 'MyCity2', 20, 20, '2016-12-19 04:00:58.360173', '2016-12-19 04:00:58.360173', 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-19 04:00:58.362450', '2016-12-19 04:00:58.362450', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-19 04:00:58.362450', '2016-12-19 04:00:58.362450', 298486374, 298486374)[0m
  [1m[35m (2.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 04:00:58 UTC], ["updated_at", 2016-12-19 04:00:58 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-19 04:00:58 UTC], ["updated_at", 2016-12-19 04:00:58 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.1ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (1.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 04:00:58 UTC], ["updated_at", 2016-12-19 04:00:58 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 04:00:58 UTC], ["updated_at", 2016-12-19 04:00:58 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 04:00:58 UTC], ["updated_at", 2016-12-19 04:00:58 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/place/980190963/1" for 127.0.0.1 at 2016-12-18 23:00:58 -0500
Processing by IndexController#place as HTML
  Parameters: {"id"=>"980190963", "no"=>"1"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering index/place.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/place.html.erb within layouts/application (364.7ms)
  Rendered layouts/_header.html.erb (3.0ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 2561ms (Views: 376.0ms | ActiveRecord: 0.2ms)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 04:01:01 UTC], ["updated_at", 2016-12-19 04:01:01 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 04:01:01 UTC], ["updated_at", 2016-12-19 04:01:01 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/ranking/980190963" for 127.0.0.1 at 2016-12-18 23:01:01 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category"=>"980190963"}
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies" WHERE (category = '980190963') ORDER BY id ASC[0m
  Rendering index/ranking.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/ranking.html.erb within layouts/application (4.9ms)
  Rendered layouts/_header.html.erb (3.0ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 1506ms (Views: 13.0ms | ActiveRecord: 0.2ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
IndexControllerTest: test_should_get_search
-------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 04:01:02 UTC], ["updated_at", 2016-12-19 04:01:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 04:01:02 UTC], ["updated_at", 2016-12-19 04:01:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/search?search=Exam&search_select=980190963" for 127.0.0.1 at 2016-12-18 23:01:02 -0500
Processing by IndexController#search as HTML
  Parameters: {"search"=>"Exam", "search_select"=>"980190963"}
  Rendering index/search.html.erb within layouts/application
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/search.html.erb within layouts/application (4.4ms)
  Rendered layouts/_header.html.erb (3.0ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 13ms (Views: 12.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 04:01:02 UTC], ["updated_at", 2016-12-19 04:01:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 04:01:02 UTC], ["updated_at", 2016-12-19 04:01:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/about" for 127.0.0.1 at 2016-12-18 23:01:02 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (5.9ms)
  Rendered layouts/_header.html.erb (3.2ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 15ms (Views: 14.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 04:01:02 UTC], ["updated_at", 2016-12-19 04:01:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 04:01:02 UTC], ["updated_at", 2016-12-19 04:01:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/home" for 127.0.0.1 at 2016-12-18 23:01:02 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (9.0ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 18ms (Views: 16.5ms | ActiveRecord: 0.1ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_update_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/companies/980190962" for 127.0.0.1 at 2016-12-18 23:01:02 -0500
Processing by CompaniesController#update as HTML
  Parameters: {"company"=>{"name"=>"Company1", "city"=>"MyCity1", "category"=>"1"}, "id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Company1"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies/980190962
Completed 302 Found in 5ms (ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_create_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started POST "/companies" for 127.0.0.1 at 2016-12-18 23:01:02 -0500
Processing by CompaniesController#create as HTML
  Parameters: {"company"=>{"name"=>"ExampleCompany", "city"=>"Mycity", "category"=>"1"}}
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "ExampleCompany"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "ExampleCompany"], ["category", 1], ["city", "Mycity"], ["created_at", 2016-12-19 04:01:02 UTC], ["updated_at", 2016-12-19 04:01:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" ORDER BY "companies"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompaniesControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/new" for 127.0.0.1 at 2016-12-18 23:01:02 -0500
Processing by CompaniesController#new as HTML
  Rendering companies/new.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (28.4ms)
  Rendered companies/new.html.erb within layouts/application (29.9ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 39ms (Views: 37.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CompaniesControllerTest: test_should_destroy_company
----------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started DELETE "/companies/980190962" for 127.0.0.1 at 2016-12-18 23:01:02 -0500
Processing by CompaniesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "companies" WHERE "companies"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CompaniesControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies" for 127.0.0.1 at 2016-12-18 23:01:02 -0500
Processing by CompaniesController#index as HTML
  Rendering companies/index.html.erb within layouts/application
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies"[0m
  Rendered companies/index.html.erb within layouts/application (1.8ms)
  Rendered layouts/_header.html.erb (3.2ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 11ms (Views: 9.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CompaniesControllerTest: test_should_show_company
-------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/980190962" for 127.0.0.1 at 2016-12-18 23:01:02 -0500
Processing by CompaniesController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/show.html.erb within layouts/application
  Rendered companies/show.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (3.2ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 11ms (Views: 8.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CompaniesControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/980190962/edit" for 127.0.0.1 at 2016-12-18 23:01:02 -0500
Processing by CompaniesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/edit.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (1.9ms)
  Rendered companies/edit.html.erb within layouts/application (3.5ms)
  Rendered layouts/_header.html.erb (3.6ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 14ms (Views: 12.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-19 04:01:02 UTC], ["updated_at", 2016-12-19 04:01:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString1', '2016-12-19 15:44:12.969890', '2016-12-19 15:44:12.969890', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString2', '2016-12-19 15:44:12.969890', '2016-12-19 15:44:12.969890', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company1', 1, 1, 'MyCity1', 10, 10, '2016-12-19 15:44:12.997140', '2016-12-19 15:44:12.997140', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company2', 2, 2, 'MyCity2', 20, 20, '2016-12-19 15:44:12.997140', '2016-12-19 15:44:12.997140', 298486374)[0m
  [1m[36mFixture Delete (1.1ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-19 15:44:13.000461', '2016-12-19 15:44:13.000461', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-19 15:44:13.000461', '2016-12-19 15:44:13.000461', 298486374, 298486374)[0m
  [1m[35m (23.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 15:44:13 UTC], ["updated_at", 2016-12-19 15:44:13 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-19 15:44:13 UTC], ["updated_at", 2016-12-19 15:44:13 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.2ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (1.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 15:44:13 UTC], ["updated_at", 2016-12-19 15:44:13 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (2.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 15:44:13 UTC], ["updated_at", 2016-12-19 15:44:13 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 15:44:13 UTC], ["updated_at", 2016-12-19 15:44:13 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/home" for 127.0.0.1 at 2016-12-19 10:44:13 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (10042.2ms)
  Rendered layouts/_header.html.erb (3.4ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 10107ms (Views: 10096.1ms | ActiveRecord: 0.2ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 15:44:23 UTC], ["updated_at", 2016-12-19 15:44:23 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 15:44:23 UTC], ["updated_at", 2016-12-19 15:44:23 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/Example%20Category/Example%20Company" for 127.0.0.1 at 2016-12-19 10:44:23 -0500
Processing by IndexController#place as HTML
  Parameters: {"category"=>"Example Category", "company"=>"Example Company"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering index/place.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/place.html.erb within layouts/application (6.2ms)
  Rendered layouts/_header.html.erb (2.7ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 2389ms (Views: 14.6ms | ActiveRecord: 0.4ms)
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (1.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 15:44:26 UTC], ["updated_at", 2016-12-19 15:44:26 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 15:44:26 UTC], ["updated_at", 2016-12-19 15:44:26 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/about" for 127.0.0.1 at 2016-12-19 10:44:26 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (5.9ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 42ms (Views: 14.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 15:44:26 UTC], ["updated_at", 2016-12-19 15:44:26 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 15:44:26 UTC], ["updated_at", 2016-12-19 15:44:26 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/ranking/Example%20Category" for 127.0.0.1 at 2016-12-19 10:44:26 -0500
Processing by IndexController#place as HTML
  Parameters: {"category"=>"ranking", "company"=>"Example Category"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (2.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
IndexControllerTest: test_should_get_search
-------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 15:44:26 UTC], ["updated_at", 2016-12-19 15:44:26 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 15:44:26 UTC], ["updated_at", 2016-12-19 15:44:26 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/search?search=Exam&search_select=980190963" for 127.0.0.1 at 2016-12-19 10:44:26 -0500
Processing by IndexController#search as HTML
  Parameters: {"search"=>"Exam", "search_select"=>"980190963"}
  Rendering index/search.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/search.html.erb within layouts/application (4.7ms)
  Rendered layouts/_header.html.erb (3.2ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 14ms (Views: 12.8ms | ActiveRecord: 0.1ms)
  [1m[35m (1.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-19 15:44:26 UTC], ["updated_at", 2016-12-19 15:44:26 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (45.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompaniesControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/new" for 127.0.0.1 at 2016-12-19 10:44:26 -0500
Processing by IndexController#place as HTML
  Parameters: {"category"=>"companies", "company"=>"new"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "new"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CompaniesControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/980190962/edit" for 127.0.0.1 at 2016-12-19 10:44:26 -0500
Processing by CompaniesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/edit.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (45.1ms)
  Rendered companies/edit.html.erb within layouts/application (51.0ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 66ms (Views: 58.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_create_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started POST "/companies" for 127.0.0.1 at 2016-12-19 10:44:26 -0500
Processing by CompaniesController#create as HTML
  Parameters: {"company"=>{"name"=>"ExampleCompany", "city"=>"Mycity", "category"=>"1"}}
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "ExampleCompany"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "ExampleCompany"], ["category", 1], ["city", "Mycity"], ["created_at", 2016-12-19 15:44:26 UTC], ["updated_at", 2016-12-19 15:44:26 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[36mCompany Load (0.2ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" ORDER BY "companies"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CompaniesControllerTest: test_should_show_company
-------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/980190962" for 127.0.0.1 at 2016-12-19 10:44:26 -0500
Processing by IndexController#place as HTML
  Parameters: {"category"=>"companies", "company"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "980190962"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CompaniesControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies" for 127.0.0.1 at 2016-12-19 10:44:26 -0500
Processing by CompaniesController#index as HTML
  Rendering companies/index.html.erb within layouts/application
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies"[0m
  Rendered companies/index.html.erb within layouts/application (2.0ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 34ms (Views: 10.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CompaniesControllerTest: test_should_destroy_company
----------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started DELETE "/companies/980190962" for 127.0.0.1 at 2016-12-19 10:44:26 -0500
Processing by CompaniesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "companies" WHERE "companies"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies
Completed 302 Found in 2ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[35m (26.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_update_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/companies/980190962" for 127.0.0.1 at 2016-12-19 10:44:26 -0500
Processing by CompaniesController#update as HTML
  Parameters: {"company"=>{"name"=>"Company1", "city"=>"MyCity1", "category"=>"1"}, "id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Company1"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString1', '2016-12-19 15:50:01.266709', '2016-12-19 15:50:01.266709', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString2', '2016-12-19 15:50:01.266709', '2016-12-19 15:50:01.266709', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company1', 1, 1, 'MyCity1', 10, 10, '2016-12-19 15:50:01.271641', '2016-12-19 15:50:01.271641', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company2', 2, 2, 'MyCity2', 20, 20, '2016-12-19 15:50:01.271641', '2016-12-19 15:50:01.271641', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-19 15:50:01.273916', '2016-12-19 15:50:01.273916', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-19 15:50:01.273916', '2016-12-19 15:50:01.273916', 298486374, 298486374)[0m
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-19 15:50:01 UTC], ["updated_at", 2016-12-19 15:50:01 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_create_company
---------------------------------------------------
  [1m[36mCompany Load (0.2ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started POST "/companies" for 127.0.0.1 at 2016-12-19 10:50:01 -0500
Processing by CompaniesController#create as HTML
  Parameters: {"company"=>{"name"=>"ExampleCompany", "city"=>"Mycity", "category"=>"1"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "ExampleCompany"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "ExampleCompany"], ["category", 1], ["city", "Mycity"], ["created_at", 2016-12-19 15:50:01 UTC], ["updated_at", 2016-12-19 15:50:01 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies/980190963
Completed 302 Found in 14ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" ORDER BY "companies"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CompaniesControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies" for 127.0.0.1 at 2016-12-19 10:50:01 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category"=>"companies"}
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "companies"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompaniesControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/new" for 127.0.0.1 at 2016-12-19 10:50:01 -0500
Processing by IndexController#place as HTML
  Parameters: {"category"=>"companies", "company"=>"new"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "new"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_update_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/companies/980190962" for 127.0.0.1 at 2016-12-19 10:50:01 -0500
Processing by CompaniesController#update as HTML
  Parameters: {"company"=>{"name"=>"Company1", "city"=>"MyCity1", "category"=>"1"}, "id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Company1"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies/980190962
Completed 302 Found in 5ms (ActiveRecord: 0.2ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CompaniesControllerTest: test_should_show_company
-------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/980190962" for 127.0.0.1 at 2016-12-19 10:50:01 -0500
Processing by IndexController#place as HTML
  Parameters: {"category"=>"companies", "company"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "980190962"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CompaniesControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/980190962/edit" for 127.0.0.1 at 2016-12-19 10:50:01 -0500
Processing by CompaniesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/edit.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (8.7ms)
  Rendered companies/edit.html.erb within layouts/application (11.5ms)
  Rendered layouts/_header.html.erb (370.6ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 393ms (Views: 390.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CompaniesControllerTest: test_should_destroy_company
----------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started DELETE "/companies/980190962" for 127.0.0.1 at 2016-12-19 10:50:01 -0500
Processing by CompaniesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "companies" WHERE "companies"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 15:50:02 UTC], ["updated_at", 2016-12-19 15:50:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-19 15:50:02 UTC], ["updated_at", 2016-12-19 15:50:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.1ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (1.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 15:50:02 UTC], ["updated_at", 2016-12-19 15:50:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 15:50:02 UTC], ["updated_at", 2016-12-19 15:50:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 15:50:02 UTC], ["updated_at", 2016-12-19 15:50:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/about" for 127.0.0.1 at 2016-12-19 10:50:02 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (6.3ms)
  Rendered layouts/_header.html.erb (3.3ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 16ms (Views: 14.9ms | ActiveRecord: 0.0ms)
  [1m[35m (36.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 15:50:02 UTC], ["updated_at", 2016-12-19 15:50:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 15:50:02 UTC], ["updated_at", 2016-12-19 15:50:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/Example%20Category/Example%20Company" for 127.0.0.1 at 2016-12-19 10:50:02 -0500
Processing by IndexController#place as HTML
  Parameters: {"category"=>"Example Category", "company"=>"Example Company"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering index/place.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/place.html.erb within layouts/application (6.7ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 1465ms (Views: 14.3ms | ActiveRecord: 0.2ms)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
IndexControllerTest: test_should_get_search
-------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 15:50:03 UTC], ["updated_at", 2016-12-19 15:50:03 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 15:50:03 UTC], ["updated_at", 2016-12-19 15:50:03 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/search?search=Exam&search_select=980190963" for 127.0.0.1 at 2016-12-19 10:50:03 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"search"=>"Exam", "search_select"=>"980190963", "category"=>"search"}
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "search"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 15:50:03 UTC], ["updated_at", 2016-12-19 15:50:03 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 15:50:03 UTC], ["updated_at", 2016-12-19 15:50:03 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/home" for 127.0.0.1 at 2016-12-19 10:50:03 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (10.6ms)
  Rendered layouts/_header.html.erb (3.0ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 20ms (Views: 18.7ms | ActiveRecord: 0.1ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 15:50:03 UTC], ["updated_at", 2016-12-19 15:50:03 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 15:50:03 UTC], ["updated_at", 2016-12-19 15:50:03 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/Example%20Category" for 127.0.0.1 at 2016-12-19 10:50:03 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category"=>"Example Category"}
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies" WHERE (category = 980190963) ORDER BY id ASC[0m
  Rendering index/ranking.html.erb within layouts/application
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/ranking.html.erb within layouts/application (4.9ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 948ms (Views: 12.9ms | ActiveRecord: 0.2ms)
  [1m[35m (2.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString1', '2016-12-19 15:51:49.204961', '2016-12-19 15:51:49.204961', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString2', '2016-12-19 15:51:49.204961', '2016-12-19 15:51:49.204961', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company1', 1, 1, 'MyCity1', 10, 10, '2016-12-19 15:51:49.211355', '2016-12-19 15:51:49.211355', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company2', 2, 2, 'MyCity2', 20, 20, '2016-12-19 15:51:49.211355', '2016-12-19 15:51:49.211355', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-19 15:51:49.213616', '2016-12-19 15:51:49.213616', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-19 15:51:49.213616', '2016-12-19 15:51:49.213616', 298486374, 298486374)[0m
  [1m[35m (2.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-19 15:51:49 UTC], ["updated_at", 2016-12-19 15:51:49 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CompaniesControllerTest: test_should_show_company
-------------------------------------------------
  [1m[36mCompany Load (0.2ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/980190962" for 127.0.0.1 at 2016-12-19 10:51:49 -0500
Processing by IndexController#place as HTML
  Parameters: {"category"=>"companies", "company"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "980190962"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.1ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CompaniesControllerTest: test_should_destroy_company
----------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started DELETE "/companies/980190962" for 127.0.0.1 at 2016-12-19 10:51:49 -0500
Processing by CompaniesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "companies" WHERE "companies"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CompaniesControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies" for 127.0.0.1 at 2016-12-19 10:51:49 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category"=>"companies"}
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "companies"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_create_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started POST "/companies" for 127.0.0.1 at 2016-12-19 10:51:49 -0500
Processing by CompaniesController#create as HTML
  Parameters: {"company"=>{"name"=>"ExampleCompany", "city"=>"Mycity", "category"=>"1"}}
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "ExampleCompany"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "ExampleCompany"], ["category", 1], ["city", "Mycity"], ["created_at", 2016-12-19 15:51:49 UTC], ["updated_at", 2016-12-19 15:51:49 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" ORDER BY "companies"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CompaniesControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/980190962/edit" for 127.0.0.1 at 2016-12-19 10:51:49 -0500
Processing by CompaniesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/edit.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (11.3ms)
  Rendered companies/edit.html.erb within layouts/application (14.4ms)
  Rendered layouts/_header.html.erb (321.7ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 347ms (Views: 345.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_update_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/companies/980190962" for 127.0.0.1 at 2016-12-19 10:51:49 -0500
Processing by CompaniesController#update as HTML
  Parameters: {"company"=>{"name"=>"Company1", "city"=>"MyCity1", "category"=>"1"}, "id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Company1"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies/980190962
Completed 302 Found in 5ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompaniesControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/new" for 127.0.0.1 at 2016-12-19 10:51:49 -0500
Processing by IndexController#place as HTML
  Parameters: {"category"=>"companies", "company"=>"new"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "new"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["id", 10], ["name", "Example Category"], ["created_at", 2016-12-19 15:51:49 UTC], ["updated_at", 2016-12-19 15:51:49 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "companies" ("id", "name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["id", 10], ["name", "Example Company"], ["category", 10], ["city", "SF"], ["created_at", 2016-12-19 15:51:49 UTC], ["updated_at", 2016-12-19 15:51:49 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/about" for 127.0.0.1 at 2016-12-19 10:51:49 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (12.8ms)
  Rendered layouts/_header.html.erb (5.9ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 27ms (Views: 25.4ms | ActiveRecord: 0.0ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["id", 10], ["name", "Example Category"], ["created_at", 2016-12-19 15:51:49 UTC], ["updated_at", 2016-12-19 15:51:49 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("id", "name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["id", 10], ["name", "Example Company"], ["category", 10], ["city", "SF"], ["created_at", 2016-12-19 15:51:49 UTC], ["updated_at", 2016-12-19 15:51:49 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/Example%20Category/Example%20Company" for 127.0.0.1 at 2016-12-19 10:51:49 -0500
Processing by IndexController#place as HTML
  Parameters: {"category"=>"Example Category", "company"=>"Example Company"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  Rendering index/place.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  Rendered index/place.html.erb within layouts/application (16.2ms)
  Rendered layouts/_header.html.erb (4.5ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 2064ms (Views: 26.2ms | ActiveRecord: 0.5ms)
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["id", 10], ["name", "Example Category"], ["created_at", 2016-12-19 15:51:52 UTC], ["updated_at", 2016-12-19 15:51:52 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("id", "name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["id", 10], ["name", "Example Company"], ["category", 10], ["city", "SF"], ["created_at", 2016-12-19 15:51:52 UTC], ["updated_at", 2016-12-19 15:51:52 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/Example%20Category" for 127.0.0.1 at 2016-12-19 10:51:52 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category"=>"Example Category"}
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies" WHERE (category = 10) ORDER BY id ASC[0m
  Rendering index/ranking.html.erb within layouts/application
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  Rendered index/ranking.html.erb within layouts/application (14.7ms)
  Rendered layouts/_header.html.erb (4.2ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 957ms (Views: 24.2ms | ActiveRecord: 0.2ms)
  [1m[35m (2.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["id", 10], ["name", "Example Category"], ["created_at", 2016-12-19 15:51:52 UTC], ["updated_at", 2016-12-19 15:51:52 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "companies" ("id", "name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["id", 10], ["name", "Example Company"], ["category", 10], ["city", "SF"], ["created_at", 2016-12-19 15:51:52 UTC], ["updated_at", 2016-12-19 15:51:52 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/home" for 127.0.0.1 at 2016-12-19 10:51:52 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (13.6ms)
  Rendered layouts/_header.html.erb (10.8ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 31ms (Views: 29.7ms | ActiveRecord: 0.1ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
IndexControllerTest: test_should_get_search
-------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("id", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["id", 10], ["name", "Example Category"], ["created_at", 2016-12-19 15:51:53 UTC], ["updated_at", 2016-12-19 15:51:53 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "companies" ("id", "name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["id", 10], ["name", "Example Company"], ["category", 10], ["city", "SF"], ["created_at", 2016-12-19 15:51:53 UTC], ["updated_at", 2016-12-19 15:51:53 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/search?search=Exam&search_select=10" for 127.0.0.1 at 2016-12-19 10:51:53 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"search"=>"Exam", "search_select"=>"10", "category"=>"search"}
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "search"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (3.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 15:51:53 UTC], ["updated_at", 2016-12-19 15:51:53 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-19 15:51:53 UTC], ["updated_at", 2016-12-19 15:51:53 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.1ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 15:51:53 UTC], ["updated_at", 2016-12-19 15:51:53 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString1', '2016-12-19 16:02:10.401341', '2016-12-19 16:02:10.401341', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString2', '2016-12-19 16:02:10.401341', '2016-12-19 16:02:10.401341', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company1', 1, 1, 'MyCity1', 10, 10, '2016-12-19 16:02:10.406140', '2016-12-19 16:02:10.406140', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company2', 2, 2, 'MyCity2', 20, 20, '2016-12-19 16:02:10.406140', '2016-12-19 16:02:10.406140', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-19 16:02:10.417290', '2016-12-19 16:02:10.417290', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-19 16:02:10.417290', '2016-12-19 16:02:10.417290', 298486374, 298486374)[0m
  [1m[35m (1.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-19 16:02:10 UTC], ["updated_at", 2016-12-19 16:02:10 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 16:02:10 UTC], ["updated_at", 2016-12-19 16:02:10 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-19 16:02:10 UTC], ["updated_at", 2016-12-19 16:02:10 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.1ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 16:02:10 UTC], ["updated_at", 2016-12-19 16:02:10 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 16:02:10 UTC], ["updated_at", 2016-12-19 16:02:10 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 16:02:10 UTC], ["updated_at", 2016-12-19 16:02:10 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/about" for 127.0.0.1 at 2016-12-19 11:02:10 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (378.0ms)
  Rendered layouts/_header.html.erb (3.3ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 401ms (Views: 391.0ms | ActiveRecord: 0.0ms)
  [1m[35m (20.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 16:02:11 UTC], ["updated_at", 2016-12-19 16:02:11 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 16:02:11 UTC], ["updated_at", 2016-12-19 16:02:11 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/home" for 127.0.0.1 at 2016-12-19 11:02:11 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (9.8ms)
  Rendered layouts/_header.html.erb (3.3ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 19ms (Views: 17.9ms | ActiveRecord: 0.1ms)
  [1m[35m (2.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 16:02:11 UTC], ["updated_at", 2016-12-19 16:02:11 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 16:02:11 UTC], ["updated_at", 2016-12-19 16:02:11 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/Example%20Category/Example%20Company" for 127.0.0.1 at 2016-12-19 11:02:11 -0500
Processing by IndexController#place as HTML
  Parameters: {"category"=>"Example Category", "company"=>"Example Company"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering index/place.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/place.html.erb within layouts/application (8.2ms)
  Rendered layouts/_header.html.erb (3.1ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 1515ms (Views: 16.2ms | ActiveRecord: 0.3ms)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (2.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 16:02:12 UTC], ["updated_at", 2016-12-19 16:02:12 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 16:02:12 UTC], ["updated_at", 2016-12-19 16:02:12 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/Example%20Category" for 127.0.0.1 at 2016-12-19 11:02:12 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category"=>"Example Category"}
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.1ms)
  [1m[35m (2.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
IndexControllerTest: test_should_get_search
-------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 16:02:12 UTC], ["updated_at", 2016-12-19 16:02:12 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 16:02:12 UTC], ["updated_at", 2016-12-19 16:02:12 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/search?search=Exam&search_select=980190963" for 127.0.0.1 at 2016-12-19 11:02:12 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"search"=>"Exam", "search_select"=>"980190963", "category"=>"search"}
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "search"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (2.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_create_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started POST "/companies" for 127.0.0.1 at 2016-12-19 11:02:12 -0500
Processing by CompaniesController#create as HTML
  Parameters: {"company"=>{"name"=>"ExampleCompany", "city"=>"Mycity", "category"=>"1"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "ExampleCompany"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "ExampleCompany"], ["category", 1], ["city", "Mycity"], ["created_at", 2016-12-19 16:02:12 UTC], ["updated_at", 2016-12-19 16:02:12 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" ORDER BY "companies"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CompaniesControllerTest: test_should_destroy_company
----------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started DELETE "/companies/980190962" for 127.0.0.1 at 2016-12-19 11:02:12 -0500
Processing by CompaniesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "companies" WHERE "companies"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CompaniesControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies" for 127.0.0.1 at 2016-12-19 11:02:12 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category"=>"companies"}
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "companies"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CompaniesControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/980190962/edit" for 127.0.0.1 at 2016-12-19 11:02:12 -0500
Processing by CompaniesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/edit.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (7.9ms)
  Rendered companies/edit.html.erb within layouts/application (9.7ms)
  Rendered layouts/_header.html.erb (3.9ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 21ms (Views: 18.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CompaniesControllerTest: test_should_show_company
-------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/980190962" for 127.0.0.1 at 2016-12-19 11:02:12 -0500
Processing by IndexController#place as HTML
  Parameters: {"category"=>"companies", "company"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "980190962"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_update_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/companies/980190962" for 127.0.0.1 at 2016-12-19 11:02:12 -0500
Processing by CompaniesController#update as HTML
  Parameters: {"company"=>{"name"=>"Company1", "city"=>"MyCity1", "category"=>"1"}, "id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Company1"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompaniesControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/new" for 127.0.0.1 at 2016-12-19 11:02:12 -0500
Processing by IndexController#place as HTML
  Parameters: {"category"=>"companies", "company"=>"new"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "new"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString1', '2016-12-19 16:02:56.552014', '2016-12-19 16:02:56.552014', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString2', '2016-12-19 16:02:56.552014', '2016-12-19 16:02:56.552014', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company1', 1, 1, 'MyCity1', 10, 10, '2016-12-19 16:02:56.558270', '2016-12-19 16:02:56.558270', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company2', 2, 2, 'MyCity2', 20, 20, '2016-12-19 16:02:56.558270', '2016-12-19 16:02:56.558270', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-19 16:02:56.561046', '2016-12-19 16:02:56.561046', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-19 16:02:56.561046', '2016-12-19 16:02:56.561046', 298486374, 298486374)[0m
  [1m[35m (2.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 16:02:56 UTC], ["updated_at", 2016-12-19 16:02:56 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 16:02:56 UTC], ["updated_at", 2016-12-19 16:02:56 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-19 16:02:56 UTC], ["updated_at", 2016-12-19 16:02:56 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.1ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 16:02:56 UTC], ["updated_at", 2016-12-19 16:02:56 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 16:02:56 UTC], ["updated_at", 2016-12-19 16:02:56 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/Example%20Category/Example%20Company" for 127.0.0.1 at 2016-12-19 11:02:56 -0500
Processing by IndexController#place as HTML
  Parameters: {"category"=>"Example Category", "company"=>"Example Company"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.1ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 16:02:56 UTC], ["updated_at", 2016-12-19 16:02:56 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 16:02:56 UTC], ["updated_at", 2016-12-19 16:02:56 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/about" for 127.0.0.1 at 2016-12-19 11:02:56 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (369.3ms)
  Rendered layouts/_header.html.erb (4.4ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 384ms (Views: 382.1ms | ActiveRecord: 0.0ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 16:02:57 UTC], ["updated_at", 2016-12-19 16:02:57 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 16:02:57 UTC], ["updated_at", 2016-12-19 16:02:57 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/home" for 127.0.0.1 at 2016-12-19 11:02:57 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (16.2ms)
  Rendered layouts/_header.html.erb (3.4ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 27ms (Views: 25.6ms | ActiveRecord: 0.1ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 16:02:57 UTC], ["updated_at", 2016-12-19 16:02:57 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 16:02:57 UTC], ["updated_at", 2016-12-19 16:02:57 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/Example%20Category" for 127.0.0.1 at 2016-12-19 11:02:57 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category"=>"Example Category"}
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.1ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
IndexControllerTest: test_should_get_search
-------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 16:02:57 UTC], ["updated_at", 2016-12-19 16:02:57 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 16:02:57 UTC], ["updated_at", 2016-12-19 16:02:57 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/search?search=Exam&search_select=980190963" for 127.0.0.1 at 2016-12-19 11:02:57 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"search"=>"Exam", "search_select"=>"980190963", "category"=>"search"}
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "search"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CompaniesControllerTest: test_should_destroy_company
----------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started DELETE "/companies/980190962" for 127.0.0.1 at 2016-12-19 11:02:57 -0500
Processing by CompaniesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "companies" WHERE "companies"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_create_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started POST "/companies" for 127.0.0.1 at 2016-12-19 11:02:57 -0500
Processing by CompaniesController#create as HTML
  Parameters: {"company"=>{"name"=>"ExampleCompany", "city"=>"Mycity", "category"=>"1"}}
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "ExampleCompany"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "ExampleCompany"], ["category", 1], ["city", "Mycity"], ["created_at", 2016-12-19 16:02:57 UTC], ["updated_at", 2016-12-19 16:02:57 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" ORDER BY "companies"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompaniesControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/new" for 127.0.0.1 at 2016-12-19 11:02:57 -0500
Processing by IndexController#place as HTML
  Parameters: {"category"=>"companies", "company"=>"new"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "new"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CompaniesControllerTest: test_should_show_company
-------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/980190962" for 127.0.0.1 at 2016-12-19 11:02:57 -0500
Processing by IndexController#place as HTML
  Parameters: {"category"=>"companies", "company"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "980190962"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CompaniesControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies" for 127.0.0.1 at 2016-12-19 11:02:57 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category"=>"companies"}
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "companies"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CompaniesControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/980190962/edit" for 127.0.0.1 at 2016-12-19 11:02:57 -0500
Processing by CompaniesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/edit.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (8.5ms)
  Rendered companies/edit.html.erb within layouts/application (10.3ms)
  Rendered layouts/_header.html.erb (3.3ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 22ms (Views: 19.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_update_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/companies/980190962" for 127.0.0.1 at 2016-12-19 11:02:57 -0500
Processing by CompaniesController#update as HTML
  Parameters: {"company"=>{"name"=>"Company1", "city"=>"MyCity1", "category"=>"1"}, "id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Company1"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-19 16:02:57 UTC], ["updated_at", 2016-12-19 16:02:57 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString1', '2016-12-19 16:03:14.431451', '2016-12-19 16:03:14.431451', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString2', '2016-12-19 16:03:14.431451', '2016-12-19 16:03:14.431451', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company1', 1, 1, 'MyCity1', 10, 10, '2016-12-19 16:03:14.437284', '2016-12-19 16:03:14.437284', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company2', 2, 2, 'MyCity2', 20, 20, '2016-12-19 16:03:14.437284', '2016-12-19 16:03:14.437284', 298486374)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-19 16:03:14.439844', '2016-12-19 16:03:14.439844', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-19 16:03:14.439844', '2016-12-19 16:03:14.439844', 298486374, 298486374)[0m
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CompaniesControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mCompany Load (0.2ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies" for 127.0.0.1 at 2016-12-19 11:03:14 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category"=>"companies"}
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "companies"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.1ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CompaniesControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/980190962/edit" for 127.0.0.1 at 2016-12-19 11:03:14 -0500
Processing by CompaniesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/edit.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (14.8ms)
  Rendered companies/edit.html.erb within layouts/application (17.7ms)
  Rendered layouts/_header.html.erb (326.6ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 355ms (Views: 352.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CompaniesControllerTest: test_should_show_company
-------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/980190962" for 127.0.0.1 at 2016-12-19 11:03:14 -0500
Processing by IndexController#place as HTML
  Parameters: {"category"=>"companies", "company"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "980190962"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_create_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started POST "/companies" for 127.0.0.1 at 2016-12-19 11:03:14 -0500
Processing by CompaniesController#create as HTML
  Parameters: {"company"=>{"name"=>"ExampleCompany", "city"=>"Mycity", "category"=>"1"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "ExampleCompany"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "ExampleCompany"], ["category", 1], ["city", "Mycity"], ["created_at", 2016-12-19 16:03:14 UTC], ["updated_at", 2016-12-19 16:03:14 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies/980190963
Completed 302 Found in 19ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" ORDER BY "companies"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (2.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.8ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompaniesControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/new" for 127.0.0.1 at 2016-12-19 11:03:15 -0500
Processing by IndexController#place as HTML
  Parameters: {"category"=>"companies", "company"=>"new"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "new"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CompaniesControllerTest: test_should_destroy_company
----------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started DELETE "/companies/980190962" for 127.0.0.1 at 2016-12-19 11:03:15 -0500
Processing by CompaniesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "companies" WHERE "companies"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[35m (2.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_update_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/companies/980190962" for 127.0.0.1 at 2016-12-19 11:03:15 -0500
Processing by CompaniesController#update as HTML
  Parameters: {"company"=>{"name"=>"Company1", "city"=>"MyCity1", "category"=>"1"}, "id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Company1"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies/980190962
Completed 302 Found in 5ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 16:03:15 UTC], ["updated_at", 2016-12-19 16:03:15 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 16:03:15 UTC], ["updated_at", 2016-12-19 16:03:15 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/Example%20Category/Example%20Company" for 127.0.0.1 at 2016-12-19 11:03:15 -0500
Processing by IndexController#place as HTML
  Parameters: {"category"=>"Example Category", "company"=>"Example Company"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering index/place.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/place.html.erb within layouts/application (11.9ms)
  Rendered layouts/_header.html.erb (5.2ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 2264ms (Views: 23.6ms | ActiveRecord: 0.2ms)
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (2.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 16:03:17 UTC], ["updated_at", 2016-12-19 16:03:17 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 16:03:17 UTC], ["updated_at", 2016-12-19 16:03:17 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/Example%20Category" for 127.0.0.1 at 2016-12-19 11:03:17 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category"=>"Example Category"}
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies" WHERE (category = 980190963) ORDER BY id ASC[0m
  Rendering index/ranking.html.erb within layouts/application
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/ranking.html.erb within layouts/application (9.6ms)
  Rendered layouts/_header.html.erb (12.3ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 989ms (Views: 27.5ms | ActiveRecord: 0.2ms)
  [1m[35m (1.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 16:03:18 UTC], ["updated_at", 2016-12-19 16:03:18 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 16:03:18 UTC], ["updated_at", 2016-12-19 16:03:18 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/home" for 127.0.0.1 at 2016-12-19 11:03:18 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (17.5ms)
  Rendered layouts/_header.html.erb (4.5ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 29ms (Views: 27.4ms | ActiveRecord: 0.2ms)
  [1m[35m (1.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
IndexControllerTest: test_should_get_search
-------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 16:03:18 UTC], ["updated_at", 2016-12-19 16:03:18 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 16:03:18 UTC], ["updated_at", 2016-12-19 16:03:18 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/search?search=Exam&search_select=980190963" for 127.0.0.1 at 2016-12-19 11:03:18 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"search"=>"Exam", "search_select"=>"980190963", "category"=>"search"}
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "search"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 16:03:18 UTC], ["updated_at", 2016-12-19 16:03:18 UTC]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 16:03:18 UTC], ["updated_at", 2016-12-19 16:03:18 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/about" for 127.0.0.1 at 2016-12-19 11:03:18 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (9.2ms)
  Rendered layouts/_header.html.erb (4.2ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 20ms (Views: 18.9ms | ActiveRecord: 0.0ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-19 16:03:18 UTC], ["updated_at", 2016-12-19 16:03:18 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 16:03:18 UTC], ["updated_at", 2016-12-19 16:03:18 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-19 16:03:18 UTC], ["updated_at", 2016-12-19 16:03:18 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.1ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (1.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 16:03:18 UTC], ["updated_at", 2016-12-19 16:03:18 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (2.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString1', '2016-12-19 16:46:55.985109', '2016-12-19 16:46:55.985109', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString2', '2016-12-19 16:46:55.985109', '2016-12-19 16:46:55.985109', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company1', 1, 1, 'MyCity1', 10, 10, '2016-12-19 16:46:55.990576', '2016-12-19 16:46:55.990576', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company2', 2, 2, 'MyCity2', 20, 20, '2016-12-19 16:46:55.990576', '2016-12-19 16:46:55.990576', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-19 16:46:55.993125', '2016-12-19 16:46:55.993125', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-19 16:46:55.993125', '2016-12-19 16:46:55.993125', 298486374, 298486374)[0m
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 16:46:56 UTC], ["updated_at", 2016-12-19 16:46:56 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-19 16:46:56 UTC], ["updated_at", 2016-12-19 16:46:56 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.2ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 16:46:56 UTC], ["updated_at", 2016-12-19 16:46:56 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-19 16:46:56 UTC], ["updated_at", 2016-12-19 16:46:56 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CompaniesControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mCompany Load (0.2ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/980190962/edit" for 127.0.0.1 at 2016-12-19 11:46:56 -0500
Processing by CompaniesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/edit.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (10.8ms)
  Rendered companies/edit.html.erb within layouts/application (38.7ms)
  Rendered layouts/_header.html.erb (592.9ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 721ms (Views: 657.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CompaniesControllerTest: test_should_destroy_company
----------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started DELETE "/companies/980190962" for 127.0.0.1 at 2016-12-19 11:46:57 -0500
Processing by CompaniesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "companies" WHERE "companies"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[35m (11.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CompaniesControllerTest: test_should_show_company
-------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/980190962" for 127.0.0.1 at 2016-12-19 11:46:57 -0500
Processing by IndexController#place as HTML
  Parameters: {"category"=>"companies", "company"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "980190962"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompaniesControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/new" for 127.0.0.1 at 2016-12-19 11:46:57 -0500
Processing by IndexController#place as HTML
  Parameters: {"category"=>"companies", "company"=>"new"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "new"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_update_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/companies/980190962" for 127.0.0.1 at 2016-12-19 11:46:57 -0500
Processing by CompaniesController#update as HTML
  Parameters: {"company"=>{"name"=>"Company1", "city"=>"MyCity1", "category"=>"1"}, "id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Company1"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies/980190962
Completed 302 Found in 5ms (ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CompaniesControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies" for 127.0.0.1 at 2016-12-19 11:46:57 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category"=>"companies"}
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "companies"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_create_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started POST "/companies" for 127.0.0.1 at 2016-12-19 11:46:57 -0500
Processing by CompaniesController#create as HTML
  Parameters: {"company"=>{"name"=>"ExampleCompany", "city"=>"Mycity", "category"=>"1"}}
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "ExampleCompany"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "ExampleCompany"], ["category", 1], ["city", "Mycity"], ["created_at", 2016-12-19 16:46:57 UTC], ["updated_at", 2016-12-19 16:46:57 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" ORDER BY "companies"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 16:46:57 UTC], ["updated_at", 2016-12-19 16:46:57 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 16:46:57 UTC], ["updated_at", 2016-12-19 16:46:57 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/home" for 127.0.0.1 at 2016-12-19 11:46:57 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (10.0ms)
  Rendered layouts/_header.html.erb (3.3ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 20ms (Views: 18.4ms | ActiveRecord: 0.1ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 16:46:57 UTC], ["updated_at", 2016-12-19 16:46:57 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 16:46:57 UTC], ["updated_at", 2016-12-19 16:46:57 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/Example%20Category/Example%20Company" for 127.0.0.1 at 2016-12-19 11:46:57 -0500
Processing by IndexController#place as HTML
  Parameters: {"category"=>"Example Category", "company"=>"Example Company"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering index/place.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/place.html.erb within layouts/application (6.7ms)
  Rendered layouts/_header.html.erb (3.1ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 1321ms (Views: 14.3ms | ActiveRecord: 0.2ms)
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 16:46:58 UTC], ["updated_at", 2016-12-19 16:46:58 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 16:46:58 UTC], ["updated_at", 2016-12-19 16:46:58 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/Example%20Category" for 127.0.0.1 at 2016-12-19 11:46:58 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category"=>"Example Category"}
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies" WHERE (category = 980190963) ORDER BY id ASC[0m
  Rendering index/ranking.html.erb within layouts/application
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/ranking.html.erb within layouts/application (5.3ms)
  Rendered layouts/_header.html.erb (3.1ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 938ms (Views: 12.8ms | ActiveRecord: 0.3ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
IndexControllerTest: test_should_get_search
-------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 16:46:59 UTC], ["updated_at", 2016-12-19 16:46:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 16:46:59 UTC], ["updated_at", 2016-12-19 16:46:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/search?search=Exam&search_select=980190963" for 127.0.0.1 at 2016-12-19 11:46:59 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"search"=>"Exam", "search_select"=>"980190963", "category"=>"search"}
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "search"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 16:46:59 UTC], ["updated_at", 2016-12-19 16:46:59 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 16:46:59 UTC], ["updated_at", 2016-12-19 16:46:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/about" for 127.0.0.1 at 2016-12-19 11:46:59 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (6.3ms)
  Rendered layouts/_header.html.erb (3.1ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 38ms (Views: 14.3ms | ActiveRecord: 0.0ms)
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString1', '2016-12-19 16:58:37.980834', '2016-12-19 16:58:37.980834', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString2', '2016-12-19 16:58:37.980834', '2016-12-19 16:58:37.980834', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company1', 1, 1, 'MyCity1', 10, 10, '2016-12-19 16:58:37.985213', '2016-12-19 16:58:37.985213', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company2', 2, 2, 'MyCity2', 20, 20, '2016-12-19 16:58:37.985213', '2016-12-19 16:58:37.985213', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-19 16:58:37.987302', '2016-12-19 16:58:37.987302', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-19 16:58:37.987302', '2016-12-19 16:58:37.987302', 298486374, 298486374)[0m
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CompaniesControllerTest: test_should_destroy_company
----------------------------------------------------
  [1m[36mCompany Load (0.2ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started DELETE "/companies/980190962" for 127.0.0.1 at 2016-12-19 11:58:38 -0500
Processing by CompaniesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "companies" WHERE "companies"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies
Completed 302 Found in 15ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompaniesControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/new" for 127.0.0.1 at 2016-12-19 11:58:38 -0500
Processing by IndexController#place as HTML
  Parameters: {"category"=>"companies", "company"=>"new"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "new"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CompaniesControllerTest: test_should_show_company
-------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/980190962" for 127.0.0.1 at 2016-12-19 11:58:38 -0500
Processing by IndexController#place as HTML
  Parameters: {"category"=>"companies", "company"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "980190962"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CompaniesControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies" for 127.0.0.1 at 2016-12-19 11:58:38 -0500
Processing by CompaniesController#index as HTML
  Rendering companies/index.html.erb within layouts/application
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies"[0m
  Rendered companies/index.html.erb within layouts/application (3.5ms)
  Rendered layouts/_header.html.erb (357.1ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 372ms (Views: 370.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_create_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started POST "/companies" for 127.0.0.1 at 2016-12-19 11:58:38 -0500
Processing by CompaniesController#create as HTML
  Parameters: {"company"=>{"name"=>"ExampleCompany", "city"=>"Mycity", "category"=>"1"}}
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "ExampleCompany"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "ExampleCompany"], ["category", 1], ["city", "Mycity"], ["created_at", 2016-12-19 16:58:38 UTC], ["updated_at", 2016-12-19 16:58:38 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies/980190963
Completed 302 Found in 15ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" ORDER BY "companies"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CompaniesControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/980190962/edit" for 127.0.0.1 at 2016-12-19 11:58:38 -0500
Processing by CompaniesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/edit.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (23.5ms)
  Rendered companies/edit.html.erb within layouts/application (25.3ms)
  Rendered layouts/_header.html.erb (3.1ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 35ms (Views: 33.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_update_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/companies/980190962" for 127.0.0.1 at 2016-12-19 11:58:38 -0500
Processing by CompaniesController#update as HTML
  Parameters: {"company"=>{"name"=>"Company1", "city"=>"MyCity1", "category"=>"1"}, "id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Company1"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-19 16:58:38 UTC], ["updated_at", 2016-12-19 16:58:38 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 16:58:38 UTC], ["updated_at", 2016-12-19 16:58:38 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-19 16:58:38 UTC], ["updated_at", 2016-12-19 16:58:38 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.1ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 16:58:38 UTC], ["updated_at", 2016-12-19 16:58:38 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 16:58:38 UTC], ["updated_at", 2016-12-19 16:58:38 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 16:58:38 UTC], ["updated_at", 2016-12-19 16:58:38 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/about" for 127.0.0.1 at 2016-12-19 11:58:38 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (6.5ms)
  Rendered layouts/_header.html.erb (3.5ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 16ms (Views: 15.1ms | ActiveRecord: 0.0ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 16:58:38 UTC], ["updated_at", 2016-12-19 16:58:38 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 16:58:38 UTC], ["updated_at", 2016-12-19 16:58:38 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/Example%20Category/Example%20Company" for 127.0.0.1 at 2016-12-19 11:58:38 -0500
Processing by IndexController#place as HTML
  Parameters: {"category"=>"Example Category", "company"=>"Example Company"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering index/place.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/place.html.erb within layouts/application (6.6ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 2027ms (Views: 14.6ms | ActiveRecord: 0.2ms)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 16:58:40 UTC], ["updated_at", 2016-12-19 16:58:40 UTC]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 16:58:40 UTC], ["updated_at", 2016-12-19 16:58:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/home" for 127.0.0.1 at 2016-12-19 11:58:40 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (9.0ms)
  Rendered layouts/_header.html.erb (3.1ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 18ms (Views: 16.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 16:58:40 UTC], ["updated_at", 2016-12-19 16:58:40 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 16:58:40 UTC], ["updated_at", 2016-12-19 16:58:40 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/Top%20Example%20Category" for 127.0.0.1 at 2016-12-19 11:58:40 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category_name"=>"Example Category"}
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
IndexControllerTest: test_should_get_search
-------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 16:58:40 UTC], ["updated_at", 2016-12-19 16:58:40 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 16:58:40 UTC], ["updated_at", 2016-12-19 16:58:40 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/search?search=Exam&search_select=980190963" for 127.0.0.1 at 2016-12-19 11:58:40 -0500
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.8ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString1', '2016-12-19 17:00:35.441075', '2016-12-19 17:00:35.441075', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString2', '2016-12-19 17:00:35.441075', '2016-12-19 17:00:35.441075', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company1', 1, 1, 'MyCity1', 10, 10, '2016-12-19 17:00:35.447252', '2016-12-19 17:00:35.447252', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company2', 2, 2, 'MyCity2', 20, 20, '2016-12-19 17:00:35.447252', '2016-12-19 17:00:35.447252', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-19 17:00:35.449978', '2016-12-19 17:00:35.449978', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-19 17:00:35.449978', '2016-12-19 17:00:35.449978', 298486374, 298486374)[0m
  [1m[35m (83.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 17:00:35 UTC], ["updated_at", 2016-12-19 17:00:35 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 17:00:35 UTC], ["updated_at", 2016-12-19 17:00:35 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (1.6ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-19 17:00:35 UTC], ["updated_at", 2016-12-19 17:00:35 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.1ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 17:00:35 UTC], ["updated_at", 2016-12-19 17:00:35 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 17:00:35 UTC], ["updated_at", 2016-12-19 17:00:35 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/home" for 127.0.0.1 at 2016-12-19 12:00:35 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (325.7ms)
  Rendered layouts/_header.html.erb (5.4ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 350ms (Views: 340.3ms | ActiveRecord: 0.1ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 17:00:36 UTC], ["updated_at", 2016-12-19 17:00:36 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 17:00:36 UTC], ["updated_at", 2016-12-19 17:00:36 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/Top%20Example%20Category" for 127.0.0.1 at 2016-12-19 12:00:36 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category_name"=>"Example Category"}
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 404 Not Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 17:00:36 UTC], ["updated_at", 2016-12-19 17:00:36 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 17:00:36 UTC], ["updated_at", 2016-12-19 17:00:36 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/about" for 127.0.0.1 at 2016-12-19 12:00:36 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (18.5ms)
  Rendered layouts/_header.html.erb (4.5ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 30ms (Views: 29.0ms | ActiveRecord: 0.0ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 17:00:36 UTC], ["updated_at", 2016-12-19 17:00:36 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 17:00:36 UTC], ["updated_at", 2016-12-19 17:00:36 UTC]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/Top%20Example%20Category/Example%20Company" for 127.0.0.1 at 2016-12-19 12:00:36 -0500
Processing by IndexController#place as HTML
  Parameters: {"category"=>"Example Category", "company"=>"Example Company"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering index/place.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/place.html.erb within layouts/application (17.2ms)
  Rendered layouts/_header.html.erb (4.2ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 2156ms (Views: 26.6ms | ActiveRecord: 0.3ms)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
IndexControllerTest: test_should_get_search
-------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 17:00:38 UTC], ["updated_at", 2016-12-19 17:00:38 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 17:00:38 UTC], ["updated_at", 2016-12-19 17:00:38 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/search?search=Exam&search_select=980190963" for 127.0.0.1 at 2016-12-19 12:00:38 -0500
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CompaniesControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies" for 127.0.0.1 at 2016-12-19 12:00:38 -0500
Processing by CompaniesController#index as HTML
  Rendering companies/index.html.erb within layouts/application
  [1m[36mCompany Load (0.2ms)[0m  [1m[34mSELECT "companies".* FROM "companies"[0m
  Rendered companies/index.html.erb within layouts/application (3.1ms)
  Rendered layouts/_header.html.erb (4.3ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 15ms (Views: 12.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CompaniesControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mCompany Load (0.5ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/980190962/edit" for 127.0.0.1 at 2016-12-19 12:00:38 -0500
Processing by CompaniesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/edit.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (9.3ms)
  Rendered companies/edit.html.erb within layouts/application (11.2ms)
  Rendered layouts/_header.html.erb (4.5ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 23ms (Views: 20.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CompaniesControllerTest: test_should_destroy_company
----------------------------------------------------
  [1m[36mCompany Load (0.2ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started DELETE "/companies/980190962" for 127.0.0.1 at 2016-12-19 12:00:38 -0500
Processing by CompaniesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.2ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "companies" WHERE "companies"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompaniesControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/new" for 127.0.0.1 at 2016-12-19 12:00:38 -0500
Processing by CompaniesController#new as HTML
  Rendering companies/new.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (3.2ms)
  Rendered companies/new.html.erb within layouts/application (5.1ms)
  Rendered layouts/_header.html.erb (5.1ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 34ms (Views: 16.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CompaniesControllerTest: test_should_show_company
-------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/companies/980190962" for 127.0.0.1 at 2016-12-19 12:00:38 -0500
Processing by CompaniesController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/show.html.erb within layouts/application
  Rendered companies/show.html.erb within layouts/application (1.4ms)
  Rendered layouts/_header.html.erb (4.6ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 20ms (Views: 12.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_create_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started POST "/companies" for 127.0.0.1 at 2016-12-19 12:00:38 -0500
Processing by CompaniesController#create as HTML
  Parameters: {"company"=>{"name"=>"ExampleCompany", "city"=>"Mycity", "category"=>"1"}}
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "ExampleCompany"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "ExampleCompany"], ["category", 1], ["city", "Mycity"], ["created_at", 2016-12-19 17:00:38 UTC], ["updated_at", 2016-12-19 17:00:38 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" ORDER BY "companies"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_update_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/companies/980190962" for 127.0.0.1 at 2016-12-19 12:00:38 -0500
Processing by CompaniesController#update as HTML
  Parameters: {"company"=>{"name"=>"Company1", "city"=>"MyCity1", "category"=>"1"}, "id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Company1"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/companies/980190962
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-19 17:00:38 UTC], ["updated_at", 2016-12-19 17:00:38 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString1', '2016-12-19 17:08:26.160214', '2016-12-19 17:08:26.160214', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString2', '2016-12-19 17:08:26.160214', '2016-12-19 17:08:26.160214', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company1', 1, 1, 'MyCity1', 10, 10, '2016-12-19 17:08:26.167550', '2016-12-19 17:08:26.167550', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company2', 2, 2, 'MyCity2', 20, 20, '2016-12-19 17:08:26.167550', '2016-12-19 17:08:26.167550', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-19 17:08:26.170570', '2016-12-19 17:08:26.170570', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-19 17:08:26.170570', '2016-12-19 17:08:26.170570', 298486374, 298486374)[0m
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-19 17:08:26 UTC], ["updated_at", 2016-12-19 17:08:26 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 17:08:26 UTC], ["updated_at", 2016-12-19 17:08:26 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-19 17:08:26 UTC], ["updated_at", 2016-12-19 17:08:26 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.2ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (1.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 17:08:26 UTC], ["updated_at", 2016-12-19 17:08:26 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (2.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_create_company
---------------------------------------------------
  [1m[36mCompany Load (0.2ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started POST "/admin/companies" for 127.0.0.1 at 2016-12-19 12:08:26 -0500
Processing by CompaniesController#create as HTML
  Parameters: {"company"=>{"name"=>"ExampleCompany", "city"=>"Mycity", "category"=>"1"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "ExampleCompany"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "ExampleCompany"], ["category", 1], ["city", "Mycity"], ["created_at", 2016-12-19 17:08:26 UTC], ["updated_at", 2016-12-19 17:08:26 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/companies/980190963
Completed 302 Found in 15ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" ORDER BY "companies"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (2.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_update_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/admin/companies/980190962" for 127.0.0.1 at 2016-12-19 12:08:26 -0500
Processing by CompaniesController#update as HTML
  Parameters: {"company"=>{"name"=>"Company1", "city"=>"MyCity1", "category"=>"1"}, "id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Company1"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/companies/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CompaniesControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/admin/companies" for 127.0.0.1 at 2016-12-19 12:08:26 -0500
Processing by IndexController#place as HTML
  Parameters: {"category"=>"admin", "company"=>"companies"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "companies"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompaniesControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/admin/companies/new" for 127.0.0.1 at 2016-12-19 12:08:26 -0500
Processing by CompaniesController#new as HTML
  Rendering companies/new.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (8.9ms)
  Rendered companies/new.html.erb within layouts/application (11.7ms)
  Rendered layouts/_header.html.erb (344.6ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 367ms (Views: 364.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CompaniesControllerTest: test_should_show_company
-------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/admin/companies/980190962" for 127.0.0.1 at 2016-12-19 12:08:26 -0500
Processing by CompaniesController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/show.html.erb within layouts/application
  Rendered companies/show.html.erb within layouts/application (1.2ms)
  Rendered layouts/_header.html.erb (6.4ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 15ms (Views: 13.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CompaniesControllerTest: test_should_destroy_company
----------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started DELETE "/admin/companies/980190962" for 127.0.0.1 at 2016-12-19 12:08:26 -0500
Processing by CompaniesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "companies" WHERE "companies"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/companies
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[35m (3.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CompaniesControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/admin/companies/980190962/edit" for 127.0.0.1 at 2016-12-19 12:08:26 -0500
Processing by CompaniesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/edit.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (3.6ms)
  Rendered companies/edit.html.erb within layouts/application (5.9ms)
  Rendered layouts/_header.html.erb (6.2ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 21ms (Views: 18.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 17:08:26 UTC], ["updated_at", 2016-12-19 17:08:26 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 17:08:26 UTC], ["updated_at", 2016-12-19 17:08:26 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/about" for 127.0.0.1 at 2016-12-19 12:08:26 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (18.8ms)
  Rendered layouts/_header.html.erb (5.6ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 32ms (Views: 30.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 17:08:27 UTC], ["updated_at", 2016-12-19 17:08:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 17:08:27 UTC], ["updated_at", 2016-12-19 17:08:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/home" for 127.0.0.1 at 2016-12-19 12:08:27 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (23.6ms)
  Rendered layouts/_header.html.erb (3.7ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 34ms (Views: 32.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 17:08:27 UTC], ["updated_at", 2016-12-19 17:08:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 17:08:27 UTC], ["updated_at", 2016-12-19 17:08:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/Example%20Category/Example%20Company" for 127.0.0.1 at 2016-12-19 12:08:27 -0500
Processing by IndexController#place as HTML
  Parameters: {"category"=>"Example Category", "company"=>"Example Company"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering index/place.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/place.html.erb within layouts/application (8.7ms)
  Rendered layouts/_header.html.erb (3.9ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 2230ms (Views: 17.6ms | ActiveRecord: 0.2ms)
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 17:08:29 UTC], ["updated_at", 2016-12-19 17:08:29 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 17:08:29 UTC], ["updated_at", 2016-12-19 17:08:29 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/Example%20Category" for 127.0.0.1 at 2016-12-19 12:08:29 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category_name"=>"Example Category"}
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (2.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
IndexControllerTest: test_should_get_search
-------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 17:08:29 UTC], ["updated_at", 2016-12-19 17:08:29 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 17:08:29 UTC], ["updated_at", 2016-12-19 17:08:29 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/search?search=Exam&search_select=980190963" for 127.0.0.1 at 2016-12-19 12:08:29 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"search"=>"Exam", "search_select"=>"980190963", "category_name"=>"search"}
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString1', '2016-12-19 17:15:00.120412', '2016-12-19 17:15:00.120412', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString2', '2016-12-19 17:15:00.120412', '2016-12-19 17:15:00.120412', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company1', 1, 1, 'MyCity1', 10, 10, '2016-12-19 17:15:00.124639', '2016-12-19 17:15:00.124639', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company2', 2, 2, 'MyCity2', 20, 20, '2016-12-19 17:15:00.124639', '2016-12-19 17:15:00.124639', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-19 17:15:00.127140', '2016-12-19 17:15:00.127140', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-19 17:15:00.127140', '2016-12-19 17:15:00.127140', 298486374, 298486374)[0m
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CompaniesControllerTest: test_should_destroy_company
----------------------------------------------------
  [1m[36mCompany Load (0.2ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started DELETE "/admin/companies/980190962" for 127.0.0.1 at 2016-12-19 12:15:00 -0500
Processing by CompaniesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "companies" WHERE "companies"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/companies
Completed 302 Found in 15ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_create_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started POST "/admin/companies" for 127.0.0.1 at 2016-12-19 12:15:00 -0500
Processing by CompaniesController#create as HTML
  Parameters: {"company"=>{"name"=>"ExampleCompany", "city"=>"Mycity", "category"=>"1"}}
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "ExampleCompany"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "ExampleCompany"], ["category", 1], ["city", "Mycity"], ["created_at", 2016-12-19 17:15:00 UTC], ["updated_at", 2016-12-19 17:15:00 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/companies/980190963
Completed 302 Found in 12ms (ActiveRecord: 0.4ms)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" ORDER BY "companies"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CompaniesControllerTest: test_should_show_company
-------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/admin/companies/980190962" for 127.0.0.1 at 2016-12-19 12:15:00 -0500
Processing by CompaniesController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/show.html.erb within layouts/application
  Rendered companies/show.html.erb within layouts/application (2.1ms)
  Rendered layouts/_header.html.erb (368.4ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 381ms (Views: 379.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CompaniesControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/admin/companies/980190962/edit" for 127.0.0.1 at 2016-12-19 12:15:00 -0500
Processing by CompaniesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/edit.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (10.7ms)
  Rendered companies/edit.html.erb within layouts/application (12.4ms)
  Rendered layouts/_header.html.erb (3.1ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 22ms (Views: 20.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompaniesControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/admin/companies/new" for 127.0.0.1 at 2016-12-19 12:15:00 -0500
Processing by CompaniesController#new as HTML
  Rendering companies/new.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (2.3ms)
  Rendered companies/new.html.erb within layouts/application (3.8ms)
  Rendered layouts/_header.html.erb (3.2ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 13ms (Views: 11.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_update_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/admin/companies/980190962" for 127.0.0.1 at 2016-12-19 12:15:00 -0500
Processing by CompaniesController#update as HTML
  Parameters: {"company"=>{"name"=>"Company1", "city"=>"MyCity1", "category"=>"1"}, "id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Company1"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/companies/980190962
Completed 302 Found in 5ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CompaniesControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/admin/companies" for 127.0.0.1 at 2016-12-19 12:15:00 -0500
Processing by CompaniesController#index as HTML
  Rendering companies/index.html.erb within layouts/application
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies"[0m
  Rendered companies/index.html.erb within layouts/application (2.1ms)
  Rendered layouts/_header.html.erb (3.3ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 12ms (Views: 10.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 17:15:00 UTC], ["updated_at", 2016-12-19 17:15:00 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 17:15:00 UTC], ["updated_at", 2016-12-19 17:15:00 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/about" for 127.0.0.1 at 2016-12-19 12:15:00 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (6.5ms)
  Rendered layouts/_header.html.erb (3.4ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 17ms (Views: 15.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 17:15:00 UTC], ["updated_at", 2016-12-19 17:15:00 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 17:15:00 UTC], ["updated_at", 2016-12-19 17:15:00 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/home" for 127.0.0.1 at 2016-12-19 12:15:00 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (9.8ms)
  Rendered layouts/_header.html.erb (3.1ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 19ms (Views: 17.7ms | ActiveRecord: 0.1ms)
  [1m[35m (67.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 17:15:00 UTC], ["updated_at", 2016-12-19 17:15:00 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 17:15:00 UTC], ["updated_at", 2016-12-19 17:15:00 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/Top%20Example%20Category" for 127.0.0.1 at 2016-12-19 12:15:00 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category_name"=>"Example Category"}
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
IndexControllerTest: test_should_get_search
-------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 17:15:00 UTC], ["updated_at", 2016-12-19 17:15:00 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 17:15:00 UTC], ["updated_at", 2016-12-19 17:15:00 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/search?search=Exam&search_select=980190963" for 127.0.0.1 at 2016-12-19 12:15:00 -0500
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 17:15:00 UTC], ["updated_at", 2016-12-19 17:15:00 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 17:15:00 UTC], ["updated_at", 2016-12-19 17:15:00 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/TopExample%20Category/Example%20Company" for 127.0.0.1 at 2016-12-19 12:15:00 -0500
Processing by IndexController#place as HTML
  Parameters: {"category"=>"Example Category", "company"=>"Example Company"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering index/place.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/place.html.erb within layouts/application (6.5ms)
  Rendered layouts/_header.html.erb (3.0ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 1528ms (Views: 14.0ms | ActiveRecord: 0.2ms)
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-19 17:15:02 UTC], ["updated_at", 2016-12-19 17:15:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 17:15:02 UTC], ["updated_at", 2016-12-19 17:15:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-19 17:15:02 UTC], ["updated_at", 2016-12-19 17:15:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.1ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (1.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 17:15:02 UTC], ["updated_at", 2016-12-19 17:15:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString1', '2016-12-19 17:15:45.564604', '2016-12-19 17:15:45.564604', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString2', '2016-12-19 17:15:45.564604', '2016-12-19 17:15:45.564604', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company1', 1, 1, 'MyCity1', 10, 10, '2016-12-19 17:15:45.570325', '2016-12-19 17:15:45.570325', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company2', 2, 2, 'MyCity2', 20, 20, '2016-12-19 17:15:45.570325', '2016-12-19 17:15:45.570325', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-19 17:15:45.572865', '2016-12-19 17:15:45.572865', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-19 17:15:45.572865', '2016-12-19 17:15:45.572865', 298486374, 298486374)[0m
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 17:15:45 UTC], ["updated_at", 2016-12-19 17:15:45 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 17:15:45 UTC], ["updated_at", 2016-12-19 17:15:45 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/about" for 127.0.0.1 at 2016-12-19 12:15:45 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (344.6ms)
  Rendered layouts/_header.html.erb (6.0ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 368ms (Views: 358.6ms | ActiveRecord: 0.0ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
IndexControllerTest: test_should_get_search
-------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 17:15:46 UTC], ["updated_at", 2016-12-19 17:15:46 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 17:15:46 UTC], ["updated_at", 2016-12-19 17:15:46 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/search?search=Exam&search_select=980190963" for 127.0.0.1 at 2016-12-19 12:15:46 -0500
  [1m[35m (1.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 17:15:46 UTC], ["updated_at", 2016-12-19 17:15:46 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 17:15:46 UTC], ["updated_at", 2016-12-19 17:15:46 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/Top%20Example%20Category/Example%20Company" for 127.0.0.1 at 2016-12-19 12:15:46 -0500
Processing by IndexController#place as HTML
  Parameters: {"category"=>"Example Category", "company"=>"Example Company"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering index/place.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/place.html.erb within layouts/application (10.9ms)
  Rendered layouts/_header.html.erb (3.7ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 873ms (Views: 19.5ms | ActiveRecord: 0.4ms)
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (3.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 17:15:47 UTC], ["updated_at", 2016-12-19 17:15:47 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 17:15:47 UTC], ["updated_at", 2016-12-19 17:15:47 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/Top%20Example%20Category" for 127.0.0.1 at 2016-12-19 12:15:47 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category_name"=>"Example Category"}
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (1.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 17:15:47 UTC], ["updated_at", 2016-12-19 17:15:47 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 17:15:47 UTC], ["updated_at", 2016-12-19 17:15:47 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/home" for 127.0.0.1 at 2016-12-19 12:15:47 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (10.3ms)
  Rendered layouts/_header.html.erb (3.1ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 20ms (Views: 18.2ms | ActiveRecord: 0.1ms)
  [1m[35m (3.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-19 17:15:47 UTC], ["updated_at", 2016-12-19 17:15:47 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (6.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 17:15:47 UTC], ["updated_at", 2016-12-19 17:15:47 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-19 17:15:47 UTC], ["updated_at", 2016-12-19 17:15:47 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.1ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 17:15:47 UTC], ["updated_at", 2016-12-19 17:15:47 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (1.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CompaniesControllerTest: test_should_destroy_company
----------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started DELETE "/admin/companies/980190962" for 127.0.0.1 at 2016-12-19 12:15:47 -0500
Processing by CompaniesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "companies" WHERE "companies"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/companies
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompaniesControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/admin/companies/new" for 127.0.0.1 at 2016-12-19 12:15:47 -0500
Processing by CompaniesController#new as HTML
  Rendering companies/new.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (9.1ms)
  Rendered companies/new.html.erb within layouts/application (10.6ms)
  Rendered layouts/_header.html.erb (3.4ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 21ms (Views: 19.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_update_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/admin/companies/980190962" for 127.0.0.1 at 2016-12-19 12:15:47 -0500
Processing by CompaniesController#update as HTML
  Parameters: {"company"=>{"name"=>"Company1", "city"=>"MyCity1", "category"=>"1"}, "id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Company1"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/companies/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CompaniesControllerTest: test_should_show_company
-------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/admin/companies/980190962" for 127.0.0.1 at 2016-12-19 12:15:47 -0500
Processing by CompaniesController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/show.html.erb within layouts/application
  Rendered companies/show.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (3.1ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 10ms (Views: 8.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_create_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started POST "/admin/companies" for 127.0.0.1 at 2016-12-19 12:15:47 -0500
Processing by CompaniesController#create as HTML
  Parameters: {"company"=>{"name"=>"ExampleCompany", "city"=>"Mycity", "category"=>"1"}}
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "ExampleCompany"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "ExampleCompany"], ["category", 1], ["city", "Mycity"], ["created_at", 2016-12-19 17:15:47 UTC], ["updated_at", 2016-12-19 17:15:47 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/companies/980190963
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" ORDER BY "companies"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CompaniesControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/admin/companies" for 127.0.0.1 at 2016-12-19 12:15:47 -0500
Processing by CompaniesController#index as HTML
  Rendering companies/index.html.erb within layouts/application
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies"[0m
  Rendered companies/index.html.erb within layouts/application (1.9ms)
  Rendered layouts/_header.html.erb (3.2ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 11ms (Views: 9.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CompaniesControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/admin/companies/980190962/edit" for 127.0.0.1 at 2016-12-19 12:15:47 -0500
Processing by CompaniesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/edit.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (1.9ms)
  Rendered companies/edit.html.erb within layouts/application (3.5ms)
  Rendered layouts/_header.html.erb (3.3ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 13ms (Views: 11.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString1', '2016-12-19 17:17:47.235584', '2016-12-19 17:17:47.235584', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString2', '2016-12-19 17:17:47.235584', '2016-12-19 17:17:47.235584', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company1', 1, 1, 'MyCity1', 10, 10, '2016-12-19 17:17:47.243428', '2016-12-19 17:17:47.243428', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company2', 2, 2, 'MyCity2', 20, 20, '2016-12-19 17:17:47.243428', '2016-12-19 17:17:47.243428', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-19 17:17:47.246105', '2016-12-19 17:17:47.246105', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-19 17:17:47.246105', '2016-12-19 17:17:47.246105', 298486374, 298486374)[0m
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 17:17:47 UTC], ["updated_at", 2016-12-19 17:17:47 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 17:17:47 UTC], ["updated_at", 2016-12-19 17:17:47 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/about" for 127.0.0.1 at 2016-12-19 12:17:47 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (334.9ms)
  Rendered layouts/_header.html.erb (6.3ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 360ms (Views: 349.8ms | ActiveRecord: 0.0ms)
  [1m[35m (2.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 17:17:47 UTC], ["updated_at", 2016-12-19 17:17:47 UTC]]
  [1m[35m (1.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 17:17:47 UTC], ["updated_at", 2016-12-19 17:17:47 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/Top%20Example%20Category" for 127.0.0.1 at 2016-12-19 12:17:47 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category_name"=>"Example Category"}
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 404 Not Found in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (2.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
IndexControllerTest: test_should_get_search
-------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 17:17:47 UTC], ["updated_at", 2016-12-19 17:17:47 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 17:17:47 UTC], ["updated_at", 2016-12-19 17:17:47 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/search?search=Exam&search_select=980190963" for 127.0.0.1 at 2016-12-19 12:17:47 -0500
Processing by IndexController#search as HTML
  Parameters: {"search"=>"Exam", "search_select"=>"980190963"}
  Rendering index/search.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/search.html.erb within layouts/application (7.4ms)
  Rendered layouts/_header.html.erb (5.7ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 20ms (Views: 18.6ms | ActiveRecord: 0.1ms)
  [1m[35m (1.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 17:17:47 UTC], ["updated_at", 2016-12-19 17:17:47 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 17:17:47 UTC], ["updated_at", 2016-12-19 17:17:47 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/Top%20Example%20Category/Example%20Company" for 127.0.0.1 at 2016-12-19 12:17:47 -0500
Processing by IndexController#place as HTML
  Parameters: {"category"=>"Example Category", "company"=>"Example Company"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering index/place.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/place.html.erb within layouts/application (16.6ms)
  Rendered layouts/_header.html.erb (4.6ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 1654ms (Views: 26.9ms | ActiveRecord: 0.3ms)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (2.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 17:17:49 UTC], ["updated_at", 2016-12-19 17:17:49 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 17:17:49 UTC], ["updated_at", 2016-12-19 17:17:49 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/home" for 127.0.0.1 at 2016-12-19 12:17:49 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (24.1ms)
  Rendered layouts/_header.html.erb (4.5ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 35ms (Views: 33.7ms | ActiveRecord: 0.1ms)
  [1m[35m (2.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-19 17:17:49 UTC], ["updated_at", 2016-12-19 17:17:49 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (2.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CompaniesControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/admin/companies/980190962/edit" for 127.0.0.1 at 2016-12-19 12:17:49 -0500
Processing by CompaniesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/edit.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (10.0ms)
  Rendered companies/edit.html.erb within layouts/application (12.3ms)
  Rendered layouts/_header.html.erb (11.1ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 32ms (Views: 29.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CompaniesControllerTest: test_should_show_company
-------------------------------------------------
  [1m[36mCompany Load (0.2ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/admin/companies/980190962" for 127.0.0.1 at 2016-12-19 12:17:49 -0500
Processing by CompaniesController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/show.html.erb within layouts/application
  Rendered companies/show.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (4.6ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 13ms (Views: 11.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompaniesControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/admin/companies/new" for 127.0.0.1 at 2016-12-19 12:17:49 -0500
Processing by CompaniesController#new as HTML
  Rendering companies/new.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (2.7ms)
  Rendered companies/new.html.erb within layouts/application (4.5ms)
  Rendered layouts/_header.html.erb (4.1ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 16ms (Views: 14.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_update_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/admin/companies/980190962" for 127.0.0.1 at 2016-12-19 12:17:49 -0500
Processing by CompaniesController#update as HTML
  Parameters: {"company"=>{"name"=>"Company1", "city"=>"MyCity1", "category"=>"1"}, "id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Company1"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/companies/980190962
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_create_company
---------------------------------------------------
  [1m[36mCompany Load (0.3ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started POST "/admin/companies" for 127.0.0.1 at 2016-12-19 12:17:49 -0500
Processing by CompaniesController#create as HTML
  Parameters: {"company"=>{"name"=>"ExampleCompany", "city"=>"Mycity", "category"=>"1"}}
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "ExampleCompany"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "ExampleCompany"], ["category", 1], ["city", "Mycity"], ["created_at", 2016-12-19 17:17:49 UTC], ["updated_at", 2016-12-19 17:17:49 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/companies/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" ORDER BY "companies"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (3.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CompaniesControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/admin/companies" for 127.0.0.1 at 2016-12-19 12:17:49 -0500
Processing by CompaniesController#index as HTML
  Rendering companies/index.html.erb within layouts/application
  [1m[36mCompany Load (0.2ms)[0m  [1m[34mSELECT "companies".* FROM "companies"[0m
  Rendered companies/index.html.erb within layouts/application (2.7ms)
  Rendered layouts/_header.html.erb (4.9ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 15ms (Views: 13.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CompaniesControllerTest: test_should_destroy_company
----------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started DELETE "/admin/companies/980190962" for 127.0.0.1 at 2016-12-19 12:17:49 -0500
Processing by CompaniesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "companies" WHERE "companies"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/companies
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[35m (3.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 17:17:49 UTC], ["updated_at", 2016-12-19 17:17:49 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-19 17:17:49 UTC], ["updated_at", 2016-12-19 17:17:49 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.4ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (2.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 17:17:49 UTC], ["updated_at", 2016-12-19 17:17:49 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (2.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (1.0ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString1', '2016-12-19 17:22:07.182667', '2016-12-19 17:22:07.182667', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString2', '2016-12-19 17:22:07.182667', '2016-12-19 17:22:07.182667', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company1', 1, 1, 'MyCity1', 10, 10, '2016-12-19 17:22:07.188567', '2016-12-19 17:22:07.188567', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company2', 2, 2, 'MyCity2', 20, 20, '2016-12-19 17:22:07.188567', '2016-12-19 17:22:07.188567', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-19 17:22:07.191363', '2016-12-19 17:22:07.191363', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-19 17:22:07.191363', '2016-12-19 17:22:07.191363', 298486374, 298486374)[0m
  [1m[35m (2.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CompaniesControllerTest: test_should_show_company
-------------------------------------------------
  [1m[36mCompany Load (0.2ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/admin/companies/980190962" for 127.0.0.1 at 2016-12-19 12:22:07 -0500
Processing by CompaniesController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/show.html.erb within layouts/application
  Rendered companies/show.html.erb within layouts/application (4.4ms)
  Rendered layouts/_header.html.erb (357.5ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 381ms (Views: 369.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_create_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started POST "/admin/companies" for 127.0.0.1 at 2016-12-19 12:22:07 -0500
Processing by CompaniesController#create as HTML
  Parameters: {"company"=>{"name"=>"ExampleCompany", "city"=>"Mycity", "category"=>"1"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "ExampleCompany"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "ExampleCompany"], ["category", 1], ["city", "Mycity"], ["created_at", 2016-12-19 17:22:07 UTC], ["updated_at", 2016-12-19 17:22:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/companies/980190963
Completed 302 Found in 13ms (ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" ORDER BY "companies"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CompaniesControllerTest: test_should_destroy_company
----------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started DELETE "/admin/companies/980190962" for 127.0.0.1 at 2016-12-19 12:22:07 -0500
Processing by CompaniesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "companies" WHERE "companies"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/companies
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_update_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/admin/companies/980190962" for 127.0.0.1 at 2016-12-19 12:22:07 -0500
Processing by CompaniesController#update as HTML
  Parameters: {"company"=>{"name"=>"Company1", "city"=>"MyCity1", "category"=>"1"}, "id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Company1"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/companies/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CompaniesControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/admin/companies/980190962/edit" for 127.0.0.1 at 2016-12-19 12:22:07 -0500
Processing by CompaniesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/edit.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (10.7ms)
  Rendered companies/edit.html.erb within layouts/application (12.5ms)
  Rendered layouts/_header.html.erb (3.3ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 22ms (Views: 20.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CompaniesControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/admin/companies" for 127.0.0.1 at 2016-12-19 12:22:07 -0500
Processing by CompaniesController#index as HTML
  Rendering companies/index.html.erb within layouts/application
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies"[0m
  Rendered companies/index.html.erb within layouts/application (2.0ms)
  Rendered layouts/_header.html.erb (3.4ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 11ms (Views: 9.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompaniesControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/admin/companies/new" for 127.0.0.1 at 2016-12-19 12:22:07 -0500
Processing by CompaniesController#new as HTML
  Rendering companies/new.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (1.9ms)
  Rendered companies/new.html.erb within layouts/application (3.5ms)
  Rendered layouts/_header.html.erb (3.5ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 13ms (Views: 11.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 17:22:07 UTC], ["updated_at", 2016-12-19 17:22:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-19 17:22:07 UTC], ["updated_at", 2016-12-19 17:22:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.1ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (12.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 17:22:07 UTC], ["updated_at", 2016-12-19 17:22:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-19 17:22:07 UTC], ["updated_at", 2016-12-19 17:22:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 17:22:08 UTC], ["updated_at", 2016-12-19 17:22:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 17:22:08 UTC], ["updated_at", 2016-12-19 17:22:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/Top%20Example%20Category/Example%20Company" for 127.0.0.1 at 2016-12-19 12:22:08 -0500
Processing by IndexController#place as HTML
  Parameters: {"category"=>"Example Category", "company"=>"Example Company"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering index/place.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/place.html.erb within layouts/application (6.9ms)
  Rendered layouts/_header.html.erb (3.5ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 1535ms (Views: 15.5ms | ActiveRecord: 0.2ms)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 17:22:09 UTC], ["updated_at", 2016-12-19 17:22:09 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 17:22:09 UTC], ["updated_at", 2016-12-19 17:22:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
IndexControllerTest: test_should_get_search
-------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 17:22:09 UTC], ["updated_at", 2016-12-19 17:22:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 17:22:09 UTC], ["updated_at", 2016-12-19 17:22:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/search?search=Exam&search_select=980190963" for 127.0.0.1 at 2016-12-19 12:22:09 -0500
Processing by IndexController#search as HTML
  Parameters: {"search"=>"Exam", "search_select"=>"980190963"}
  Rendering index/search.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/search.html.erb within layouts/application (4.4ms)
  Rendered layouts/_header.html.erb (4.6ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 15ms (Views: 14.0ms | ActiveRecord: 0.1ms)
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 17:22:09 UTC], ["updated_at", 2016-12-19 17:22:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 17:22:09 UTC], ["updated_at", 2016-12-19 17:22:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/about" for 127.0.0.1 at 2016-12-19 12:22:09 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (6.3ms)
  Rendered layouts/_header.html.erb (3.1ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 15ms (Views: 14.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 17:22:09 UTC], ["updated_at", 2016-12-19 17:22:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 17:22:09 UTC], ["updated_at", 2016-12-19 17:22:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/home" for 127.0.0.1 at 2016-12-19 12:22:09 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (9.4ms)
  Rendered layouts/_header.html.erb (3.2ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 19ms (Views: 17.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString1', '2016-12-19 17:23:04.099255', '2016-12-19 17:23:04.099255', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString2', '2016-12-19 17:23:04.099255', '2016-12-19 17:23:04.099255', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company1', 1, 1, 'MyCity1', 10, 10, '2016-12-19 17:23:04.105160', '2016-12-19 17:23:04.105160', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company2', 2, 2, 'MyCity2', 20, 20, '2016-12-19 17:23:04.105160', '2016-12-19 17:23:04.105160', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-19 17:23:04.107309', '2016-12-19 17:23:04.107309', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-19 17:23:04.107309', '2016-12-19 17:23:04.107309', 298486374, 298486374)[0m
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-19 17:23:04 UTC], ["updated_at", 2016-12-19 17:23:04 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 17:23:04 UTC], ["updated_at", 2016-12-19 17:23:04 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 17:23:04 UTC], ["updated_at", 2016-12-19 17:23:04 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/home" for 127.0.0.1 at 2016-12-19 12:23:04 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (351.4ms)
  Rendered layouts/_header.html.erb (11.2ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 384ms (Views: 374.1ms | ActiveRecord: 0.1ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 17:23:04 UTC], ["updated_at", 2016-12-19 17:23:04 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 17:23:04 UTC], ["updated_at", 2016-12-19 17:23:04 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/Top%20Example%20Category/Example%20Company" for 127.0.0.1 at 2016-12-19 12:23:04 -0500
Processing by IndexController#place as HTML
  Parameters: {"category"=>"Example Category", "company"=>"Example Company"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering index/place.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/place.html.erb within layouts/application (10.0ms)
  Rendered layouts/_header.html.erb (4.8ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 980ms (Views: 21.4ms | ActiveRecord: 0.3ms)
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 17:23:05 UTC], ["updated_at", 2016-12-19 17:23:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 17:23:05 UTC], ["updated_at", 2016-12-19 17:23:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/Top%20Example%20Category" for 127.0.0.1 at 2016-12-19 12:23:05 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category"=>"Example Category"}
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies" WHERE (category = 980190963) ORDER BY id ASC[0m
  Rendering index/ranking.html.erb within layouts/application
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/ranking.html.erb within layouts/application (5.3ms)
  Rendered layouts/_header.html.erb (3.1ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 945ms (Views: 13.0ms | ActiveRecord: 0.2ms)
  [1m[35m (2.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
IndexControllerTest: test_should_get_search
-------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 17:23:06 UTC], ["updated_at", 2016-12-19 17:23:06 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 17:23:06 UTC], ["updated_at", 2016-12-19 17:23:06 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/search?search=Exam&search_select=980190963" for 127.0.0.1 at 2016-12-19 12:23:06 -0500
Processing by IndexController#search as HTML
  Parameters: {"search"=>"Exam", "search_select"=>"980190963"}
  Rendering index/search.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/search.html.erb within layouts/application (4.8ms)
  Rendered layouts/_header.html.erb (3.2ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 14ms (Views: 12.8ms | ActiveRecord: 0.1ms)
  [1m[35m (2.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 17:23:06 UTC], ["updated_at", 2016-12-19 17:23:06 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 17:23:06 UTC], ["updated_at", 2016-12-19 17:23:06 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/about" for 127.0.0.1 at 2016-12-19 12:23:06 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (6.3ms)
  Rendered layouts/_header.html.erb (3.1ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 15ms (Views: 14.2ms | ActiveRecord: 0.0ms)
  [1m[35m (2.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CompaniesControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/admin/companies" for 127.0.0.1 at 2016-12-19 12:23:06 -0500
Processing by CompaniesController#index as HTML
  Rendering companies/index.html.erb within layouts/application
  [1m[36mCompany Load (0.2ms)[0m  [1m[34mSELECT "companies".* FROM "companies"[0m
  Rendered companies/index.html.erb within layouts/application (3.0ms)
  Rendered layouts/_header.html.erb (3.4ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 13ms (Views: 11.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CompaniesControllerTest: test_should_show_company
-------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/admin/companies/980190962" for 127.0.0.1 at 2016-12-19 12:23:06 -0500
Processing by CompaniesController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/show.html.erb within layouts/application
  Rendered companies/show.html.erb within layouts/application (1.3ms)
  Rendered layouts/_header.html.erb (3.6ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 12ms (Views: 9.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CompaniesControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/admin/companies/980190962/edit" for 127.0.0.1 at 2016-12-19 12:23:06 -0500
Processing by CompaniesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/edit.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (8.2ms)
  Rendered companies/edit.html.erb within layouts/application (9.9ms)
  Rendered layouts/_header.html.erb (3.1ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 19ms (Views: 17.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompaniesControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/admin/companies/new" for 127.0.0.1 at 2016-12-19 12:23:06 -0500
Processing by CompaniesController#new as HTML
  Rendering companies/new.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (1.9ms)
  Rendered companies/new.html.erb within layouts/application (3.5ms)
  Rendered layouts/_header.html.erb (4.5ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 14ms (Views: 12.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_update_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/admin/companies/980190962" for 127.0.0.1 at 2016-12-19 12:23:06 -0500
Processing by CompaniesController#update as HTML
  Parameters: {"company"=>{"name"=>"Company1", "city"=>"MyCity1", "category"=>"1"}, "id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Company1"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/companies/980190962
Completed 302 Found in 5ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_create_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started POST "/admin/companies" for 127.0.0.1 at 2016-12-19 12:23:06 -0500
Processing by CompaniesController#create as HTML
  Parameters: {"company"=>{"name"=>"ExampleCompany", "city"=>"Mycity", "category"=>"1"}}
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "ExampleCompany"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "ExampleCompany"], ["category", 1], ["city", "Mycity"], ["created_at", 2016-12-19 17:23:06 UTC], ["updated_at", 2016-12-19 17:23:06 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/companies/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" ORDER BY "companies"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CompaniesControllerTest: test_should_destroy_company
----------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started DELETE "/admin/companies/980190962" for 127.0.0.1 at 2016-12-19 12:23:06 -0500
Processing by CompaniesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "companies" WHERE "companies"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/companies
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[35m (3.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 17:23:06 UTC], ["updated_at", 2016-12-19 17:23:06 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-19 17:23:06 UTC], ["updated_at", 2016-12-19 17:23:06 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.1ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 17:23:07 UTC], ["updated_at", 2016-12-19 17:23:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (19.4ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString1', '2016-12-19 23:33:14.414440', '2016-12-19 23:33:14.414440', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString2', '2016-12-19 23:33:14.414440', '2016-12-19 23:33:14.414440', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company1', 1, 1, 'MyCity1', 10, 10, '2016-12-19 23:33:14.462240', '2016-12-19 23:33:14.462240', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company2', 2, 2, 'MyCity2', 20, 20, '2016-12-19 23:33:14.462240', '2016-12-19 23:33:14.462240', 298486374)[0m
  [1m[36mFixture Delete (1.1ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-19 23:33:14.465504', '2016-12-19 23:33:14.465504', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-19 23:33:14.465504', '2016-12-19 23:33:14.465504', 298486374, 298486374)[0m
  [1m[35m (23.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 23:33:15 UTC], ["updated_at", 2016-12-19 23:33:15 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 23:33:15 UTC], ["updated_at", 2016-12-19 23:33:15 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/Top%20Example%20Category" for 127.0.0.1 at 2016-12-19 18:33:15 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category"=>"Example Category"}
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCompany Load (0.2ms)[0m  [1m[34mSELECT "companies".* FROM "companies" WHERE (category = 980190963) ORDER BY id ASC[0m
  Rendering index/ranking.html.erb within layouts/application
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/ranking.html.erb within layouts/application (2348.1ms)
  Rendered layouts/_header.html.erb (4.9ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 4202ms (Views: 2396.6ms | ActiveRecord: 0.5ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 23:33:19 UTC], ["updated_at", 2016-12-19 23:33:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 23:33:19 UTC], ["updated_at", 2016-12-19 23:33:19 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/Top%20Example%20Category/Example%20Company" for 127.0.0.1 at 2016-12-19 18:33:19 -0500
Processing by IndexController#place as HTML
  Parameters: {"category"=>"Example Category", "company"=>"Example Company"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering index/place.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/place.html.erb within layouts/application (16.0ms)
  Rendered layouts/_header.html.erb (4.7ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 952ms (Views: 26.5ms | ActiveRecord: 0.3ms)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (2.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
IndexControllerTest: test_should_get_search
-------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 23:33:20 UTC], ["updated_at", 2016-12-19 23:33:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 23:33:20 UTC], ["updated_at", 2016-12-19 23:33:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/search?search=Exam&search_select=980190963" for 127.0.0.1 at 2016-12-19 18:33:20 -0500
Processing by IndexController#search as HTML
  Parameters: {"search"=>"Exam", "search_select"=>"980190963"}
  Rendering index/search.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/search.html.erb within layouts/application (9.1ms)
  Rendered layouts/_header.html.erb (4.7ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 21ms (Views: 19.5ms | ActiveRecord: 0.1ms)
  [1m[35m (1.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 23:33:20 UTC], ["updated_at", 2016-12-19 23:33:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 23:33:20 UTC], ["updated_at", 2016-12-19 23:33:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/home" for 127.0.0.1 at 2016-12-19 18:33:20 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (11.2ms)
  Rendered layouts/_header.html.erb (3.8ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 21ms (Views: 20.0ms | ActiveRecord: 0.1ms)
  [1m[35m (2.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 23:33:20 UTC], ["updated_at", 2016-12-19 23:33:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-19 23:33:20 UTC], ["updated_at", 2016-12-19 23:33:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/about" for 127.0.0.1 at 2016-12-19 18:33:20 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (8.1ms)
  Rendered layouts/_header.html.erb (4.0ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 52ms (Views: 19.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-19 23:33:20 UTC], ["updated_at", 2016-12-19 23:33:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 23:33:20 UTC], ["updated_at", 2016-12-19 23:33:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-19 23:33:20 UTC], ["updated_at", 2016-12-19 23:33:20 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-19 23:33:20 UTC], ["updated_at", 2016-12-19 23:33:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.2ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (1.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_create_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started POST "/admin/companies" for 127.0.0.1 at 2016-12-19 18:33:20 -0500
Processing by CompaniesController#create as HTML
  Parameters: {"company"=>{"name"=>"ExampleCompany", "city"=>"Mycity", "category"=>"1"}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "ExampleCompany"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "ExampleCompany"], ["category", 1], ["city", "Mycity"], ["created_at", 2016-12-19 23:33:20 UTC], ["updated_at", 2016-12-19 23:33:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/companies/980190963
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" ORDER BY "companies"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CompaniesControllerTest: test_should_destroy_company
----------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started DELETE "/admin/companies/980190962" for 127.0.0.1 at 2016-12-19 18:33:20 -0500
Processing by CompaniesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "companies" WHERE "companies"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/companies
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[35m (3.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_update_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/admin/companies/980190962" for 127.0.0.1 at 2016-12-19 18:33:20 -0500
Processing by CompaniesController#update as HTML
  Parameters: {"company"=>{"name"=>"Company1", "city"=>"MyCity1", "category"=>"1"}, "id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Company1"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/companies/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CompaniesControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/admin/companies/980190962/edit" for 127.0.0.1 at 2016-12-19 18:33:20 -0500
Processing by CompaniesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/edit.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (47.9ms)
  Rendered companies/edit.html.erb within layouts/application (73.9ms)
  Rendered layouts/_header.html.erb (7.7ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 89ms (Views: 86.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompaniesControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/admin/companies/new" for 127.0.0.1 at 2016-12-19 18:33:20 -0500
Processing by CompaniesController#new as HTML
  Rendering companies/new.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (2.0ms)
  Rendered companies/new.html.erb within layouts/application (3.5ms)
  Rendered layouts/_header.html.erb (3.3ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 13ms (Views: 11.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CompaniesControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/admin/companies" for 127.0.0.1 at 2016-12-19 18:33:20 -0500
Processing by CompaniesController#index as HTML
  Rendering companies/index.html.erb within layouts/application
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies"[0m
  Rendered companies/index.html.erb within layouts/application (1.8ms)
  Rendered layouts/_header.html.erb (3.6ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 12ms (Views: 10.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CompaniesControllerTest: test_should_show_company
-------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/admin/companies/980190962" for 127.0.0.1 at 2016-12-19 18:33:20 -0500
Processing by CompaniesController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/show.html.erb within layouts/application
  Rendered companies/show.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (3.3ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 10ms (Views: 8.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (17.8ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (26.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (77.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateCompanies (20161208181218)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "companies" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "category" integer, "subcategory" integer, "city" varchar, "share" integer, "like" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20161208181218"]]
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateCategories (20161208193054)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "categories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20161208193054"]]
  [1m[35m (1.9ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateSubCategories (20161208195733)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "sub_categories" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" text, "category_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (11.2ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_sub_categories_on_category_id" ON "sub_categories" ("category_id")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_sub_categories_on_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_sub_categories_on_category_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_sub_categories_on_category_id_and_created_at" ON "sub_categories" ("category_id", "created_at")[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20161208195733"]]
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddPosToCompanies (20161220162436)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "companies" ADD "lat" real[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "companies" ADD "lng" real[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "companies" ADD "photo" varchar[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20161220162436"]]
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddAddressToCompanies (20161220182804)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "companies" ADD "address" varchar[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20161220182804"]]
  [1m[35m (2.9ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateIps (20161221193327)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "ips" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "address" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20161221193327"]]
  [1m[35m (15.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-12-21 19:41:53 UTC], ["updated_at", 2016-12-21 19:41:53 UTC]]
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_sub_categories_on_category_id_and_created_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_sub_categories_on_category_id_and_created_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_sub_categories_on_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_sub_categories_on_category_id' AND type='index'
[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString1', '2016-12-21 19:42:10.260092', '2016-12-21 19:42:10.260092', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString2', '2016-12-21 19:42:10.260092', '2016-12-21 19:42:10.260092', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company1', 1, 1, 'MyCity1', 10, 10, '2016-12-21 19:42:10.264677', '2016-12-21 19:42:10.264677', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company2', 2, 2, 'MyCity2', 20, 20, '2016-12-21 19:42:10.264677', '2016-12-21 19:42:10.264677', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "ips"[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "ips" ("address", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-21 19:42:10.266966', '2016-12-21 19:42:10.266966', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "ips" ("address", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-21 19:42:10.266966', '2016-12-21 19:42:10.266966', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-21 19:42:10.268569', '2016-12-21 19:42:10.268569', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-21 19:42:10.268569', '2016-12-21 19:42:10.268569', 298486374, 298486374)[0m
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-21 19:42:10 UTC], ["updated_at", 2016-12-21 19:42:10 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (21.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-21 19:42:10 UTC], ["updated_at", 2016-12-21 19:42:10 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (2.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-21 19:42:10 UTC], ["updated_at", 2016-12-21 19:42:10 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (1.7ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-21 19:42:10 UTC], ["updated_at", 2016-12-21 19:42:10 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.1ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (2.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_update_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/admin/companies/980190962" for 127.0.0.1 at 2016-12-21 14:42:10 -0500
Processing by CompaniesController#update as HTML
  Parameters: {"company"=>{"name"=>"Company1", "city"=>"MyCity1", "category"=>"1"}, "id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Company1"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/companies/980190962
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Company1"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "companies" SET "updated_at" = ?, "lat" = ?, "lng" = ?, "photo" = ?, "address" = ? WHERE "companies"."id" = ?[0m  [["updated_at", 2016-12-21 19:42:12 UTC], ["lat", 37.779044], ["lng", -122.418757], ["photo", "place-image.png"], ["address", "1 Dr Carlton B Goodlett Pl, San Francisco, CA 94102"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 302 Found in 1620ms (ActiveRecord: 0.9ms)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CompaniesControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mCompany Load (0.2ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/admin/companies/980190962/edit" for 127.0.0.1 at 2016-12-21 14:42:12 -0500
Processing by CompaniesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/edit.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (32.7ms)
  Rendered companies/edit.html.erb within layouts/application (80.7ms)
  Rendered layouts/_header.html.erb (12474.4ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 12715ms (Views: 12663.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_create_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started POST "/admin/companies" for 127.0.0.1 at 2016-12-21 14:42:25 -0500
Processing by CompaniesController#create as HTML
  Parameters: {"company"=>{"name"=>"ExampleCompany", "city"=>"Mycity", "category"=>"1"}}
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "ExampleCompany"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "ExampleCompany"], ["category", 1], ["city", "Mycity"], ["created_at", 2016-12-21 19:42:25 UTC], ["updated_at", 2016-12-21 19:42:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/companies/980190963
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "ExampleCompany"], ["id", 980190963], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "companies" SET "updated_at" = ?, "lat" = ?, "lng" = ?, "photo" = ?, "address" = ? WHERE "companies"."id" = ?[0m  [["updated_at", 2016-12-21 19:42:26 UTC], ["lat", 37.779044], ["lng", -122.418757], ["photo", "place-image.png"], ["address", "1 Dr Carlton B Goodlett Pl, San Francisco, CA 94102"], ["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 302 Found in 1342ms (ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" ORDER BY "companies"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompaniesControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mCompany Load (0.2ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/admin/companies/new" for 127.0.0.1 at 2016-12-21 14:42:26 -0500
Processing by CompaniesController#new as HTML
  Rendering companies/new.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (2.4ms)
  Rendered companies/new.html.erb within layouts/application (8.9ms)
  Rendered layouts/_header.html.erb (3.8ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 61ms (Views: 35.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CompaniesControllerTest: test_should_destroy_company
----------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started DELETE "/admin/companies/980190962" for 127.0.0.1 at 2016-12-21 14:42:26 -0500
Processing by CompaniesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "companies" WHERE "companies"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/companies
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[35m (25.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CompaniesControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/admin/companies" for 127.0.0.1 at 2016-12-21 14:42:26 -0500
Processing by CompaniesController#index as HTML
  Rendering companies/index.html.erb within layouts/application
  [1m[36mCompany Load (0.2ms)[0m  [1m[34mSELECT "companies".* FROM "companies"[0m
  Rendered companies/index.html.erb within layouts/application (2.3ms)
  Rendered layouts/_header.html.erb (3.9ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 29ms (Views: 11.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CompaniesControllerTest: test_should_show_company
-------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/admin/companies/980190962" for 127.0.0.1 at 2016-12-21 14:42:26 -0500
Processing by CompaniesController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/show.html.erb within layouts/application
  Rendered companies/show.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (3.3ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 17ms (Views: 9.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-21 19:42:26 UTC], ["updated_at", 2016-12-21 19:42:26 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-21 19:42:26 UTC], ["updated_at", 2016-12-21 19:42:26 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/about" for 127.0.0.1 at 2016-12-21 14:42:26 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (6.1ms)
  Rendered layouts/_header.html.erb (3.2ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 27ms (Views: 14.7ms | ActiveRecord: 0.0ms)
  [1m[35m (2.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-21 19:42:26 UTC], ["updated_at", 2016-12-21 19:42:26 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-21 19:42:26 UTC], ["updated_at", 2016-12-21 19:42:26 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/home" for 127.0.0.1 at 2016-12-21 14:42:26 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (8.5ms)
  Rendered layouts/_header.html.erb (3.1ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 26ms (Views: 16.8ms | ActiveRecord: 0.1ms)
  [1m[35m (2.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-21 19:42:27 UTC], ["updated_at", 2016-12-21 19:42:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-21 19:42:27 UTC], ["updated_at", 2016-12-21 19:42:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/Top%20Example%20Category/Example%20Company" for 127.0.0.1 at 2016-12-21 14:42:27 -0500
Processing by IndexController#place as HTML
  Parameters: {"category"=>"Example Category", "company"=>"Example Company"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Example Company"], ["id", 980190963], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "companies" SET "lat" = ?, "lng" = ?, "photo" = ?, "address" = ?, "updated_at" = ? WHERE "companies"."id" = ?[0m  [["lat", 37.78996999999999], ["lng", -122.400872], ["photo", "https://maps.googleapis.com/maps/api/place/photo?maxheight=400&photoreference=CoQBdwAAADO-xtLirssVXtvgtphy6Jvnj1eZ0fscIS4tdrzv_P-TK70auepL-VCimCMTBV4WBTv3ipetGpyKuLbkBOJwDY4ilIIYLcBROt9lSm-GPDNcTotEvVv8aHHj8-FTPDDvg1r3VblEdJMpxxH6kFSoSJUy9594oOzFGO-5sA5DBb3DEhBIC3a30Dj6TtnNqUq6XnTnGhRYvn9apjSAzWQlOEgU9zgl2x4AlA&key=AIzaSyD_mMKLGBULdpg7KvEFfdoHQpdbu83EG-Q"], ["address", "548 Market St, San Francisco, CA 94104, United States"], ["updated_at", 2016-12-21 19:42:28 UTC], ["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering index/place.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/place.html.erb within layouts/application (10.6ms)
  Rendered layouts/_header.html.erb (4.2ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 1633ms (Views: 20.7ms | ActiveRecord: 0.5ms)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (2.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
IndexControllerTest: test_should_get_search
-------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-21 19:42:28 UTC], ["updated_at", 2016-12-21 19:42:28 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-21 19:42:28 UTC], ["updated_at", 2016-12-21 19:42:28 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/search?search=Exam&search_select=980190963" for 127.0.0.1 at 2016-12-21 14:42:28 -0500
Processing by IndexController#search as HTML
  Parameters: {"search"=>"Exam", "search_select"=>"980190963"}
  Rendering index/search.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/search.html.erb within layouts/application (6.4ms)
  Rendered layouts/_header.html.erb (5.0ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 26ms (Views: 17.1ms | ActiveRecord: 0.1ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-21 19:42:28 UTC], ["updated_at", 2016-12-21 19:42:28 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-21 19:42:28 UTC], ["updated_at", 2016-12-21 19:42:28 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/Top%20Example%20Category" for 127.0.0.1 at 2016-12-21 14:42:28 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category"=>"Example Category"}
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies" WHERE (category = 980190963) ORDER BY id ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Example Company"], ["id", 980190963], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "companies" SET "lat" = ?, "lng" = ?, "photo" = ?, "address" = ?, "updated_at" = ? WHERE "companies"."id" = ?[0m  [["lat", 37.78996999999999], ["lng", -122.400872], ["photo", "https://maps.googleapis.com/maps/api/place/photo?maxheight=400&photoreference=CoQBdwAAAC4JRAH5O6Xcdtf02FSOUwe0seKGiSOnrbkkc1-PTf9q4YiouzOA-FW3Agbn64YgiqUQ_h7FEKu8cRF7fx3YfDCCT_6l8cni8A6MYl6GFReDDfb2zfhsI4dODMxlU1UOdAXACcpz0ebQ1idvmvjZu_OB3q1v3txtv2_3CoUSuvYrEhDkWuh0N36Fp_sOreGFIhStGhQtepBKXeuX2LDLNLifoV51oqrD5Q&key=AIzaSyD_mMKLGBULdpg7KvEFfdoHQpdbu83EG-Q"], ["address", "548 Market St, San Francisco, CA 94104, United States"], ["updated_at", 2016-12-21 19:42:29 UTC], ["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering index/ranking.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/ranking.html.erb within layouts/application (31.2ms)
  Rendered layouts/_header.html.erb (3.6ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 1020ms (Views: 40.0ms | ActiveRecord: 1.0ms)
  [1m[35m (1.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to AddCompanyToIps (20161221212623)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "ips" ADD "company_id" integer[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "ips" ADD "share" integer[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "ips" ADD "like" integer[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20161221212623"]]
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_sub_categories_on_category_id_and_created_at' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_sub_categories_on_category_id_and_created_at' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_sub_categories_on_category_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_sub_categories_on_category_id' AND type='index'
[0m
  [1m[36mActiveRecord::SchemaMigration Load (23.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (16.5ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (38.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString1', '2016-12-22 17:30:30.543921', '2016-12-22 17:30:30.543921', 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString2', '2016-12-22 17:30:30.543921', '2016-12-22 17:30:30.543921', 298486374)[0m
  [1m[36mFixture Delete (123.9ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company1', 1, 1, 'MyCity1', 10, 10, '2016-12-22 17:30:30.625048', '2016-12-22 17:30:30.625048', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company2', 2, 2, 'MyCity2', 20, 20, '2016-12-22 17:30:30.625048', '2016-12-22 17:30:30.625048', 298486374)[0m
  [1m[36mFixture Delete (81.4ms)[0m  [1m[31mDELETE FROM "ips"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "ips" ("address", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-22 17:30:30.753925', '2016-12-22 17:30:30.753925', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "ips" ("address", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-22 17:30:30.753925', '2016-12-22 17:30:30.753925', 298486374)[0m
  [1m[36mFixture Delete (0.8ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-22 17:30:30.848222', '2016-12-22 17:30:30.848222', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-22 17:30:30.848222', '2016-12-22 17:30:30.848222', 298486374, 298486374)[0m
  [1m[35m (2.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CompaniesControllerTest: test_should_destroy_company
----------------------------------------------------
  [1m[36mCompany Load (0.3ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started DELETE "/admin/companies/980190962" for 127.0.0.1 at 2016-12-22 12:30:31 -0500
Processing by CompaniesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[31mDELETE FROM "companies" WHERE "companies"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/companies
Completed 302 Found in 20ms (ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CompaniesControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/admin/companies/980190962/edit" for 127.0.0.1 at 2016-12-22 12:30:31 -0500
Processing by CompaniesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/edit.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (34.2ms)
  Rendered companies/edit.html.erb within layouts/application (82.5ms)
  Rendered layouts/_header.html.erb (1190.8ms)
  Rendered layouts/_footer.html.erb (1.1ms)
Completed 200 OK in 1411ms (Views: 1368.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_update_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/admin/companies/980190962" for 127.0.0.1 at 2016-12-22 12:30:33 -0500
Processing by CompaniesController#update as HTML
  Parameters: {"company"=>{"name"=>"Company1", "city"=>"MyCity1", "category"=>"1"}, "id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Company1"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/companies/980190962
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (7.5ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Company1"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "companies" SET "updated_at" = ?, "lat" = ?, "lng" = ?, "photo" = ?, "address" = ? WHERE "companies"."id" = ?[0m  [["updated_at", 2016-12-22 17:30:36 UTC], ["lat", 37.779044], ["lng", -122.418757], ["photo", "place-image.png"], ["address", "1 Dr Carlton B Goodlett Pl, San Francisco, CA 94102"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 302 Found in 3054ms (ActiveRecord: 9.4ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CompaniesControllerTest: test_should_show_company
-------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/admin/companies/980190962" for 127.0.0.1 at 2016-12-22 12:30:36 -0500
Processing by CompaniesController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/show.html.erb within layouts/application
  Rendered companies/show.html.erb within layouts/application (1.7ms)
  Rendered layouts/_header.html.erb (6.6ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 40ms (Views: 15.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_create_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started POST "/admin/companies" for 127.0.0.1 at 2016-12-22 12:30:36 -0500
Processing by CompaniesController#create as HTML
  Parameters: {"company"=>{"name"=>"ExampleCompany", "city"=>"Mycity", "category"=>"1"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "ExampleCompany"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "ExampleCompany"], ["category", 1], ["city", "Mycity"], ["created_at", 2016-12-22 17:30:36 UTC], ["updated_at", 2016-12-22 17:30:36 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/companies/980190963
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "ExampleCompany"], ["id", 980190963], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "companies" SET "updated_at" = ?, "lat" = ?, "lng" = ?, "photo" = ?, "address" = ? WHERE "companies"."id" = ?[0m  [["updated_at", 2016-12-22 17:30:37 UTC], ["lat", 37.779044], ["lng", -122.418757], ["photo", "place-image.png"], ["address", "1 Dr Carlton B Goodlett Pl, San Francisco, CA 94102"], ["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 302 Found in 1557ms (ActiveRecord: 1.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" ORDER BY "companies"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CompaniesControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/admin/companies" for 127.0.0.1 at 2016-12-22 12:30:37 -0500
Processing by CompaniesController#index as HTML
  Rendering companies/index.html.erb within layouts/application
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies"[0m
  Rendered companies/index.html.erb within layouts/application (2.6ms)
  Rendered layouts/_header.html.erb (5.7ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 32ms (Views: 13.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompaniesControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/admin/companies/new" for 127.0.0.1 at 2016-12-22 12:30:37 -0500
Processing by CompaniesController#new as HTML
  Rendering companies/new.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (2.9ms)
  Rendered companies/new.html.erb within layouts/application (4.8ms)
  Rendered layouts/_header.html.erb (4.5ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 50ms (Views: 14.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-22 17:30:37 UTC], ["updated_at", 2016-12-22 17:30:37 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-22 17:30:37 UTC], ["updated_at", 2016-12-22 17:30:37 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/Top%20Example%20Category" for 127.0.0.1 at 2016-12-22 12:30:37 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category"=>"Example Category"}
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies" WHERE (category = 980190963) ORDER BY id ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Example Company"], ["id", 980190963], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "companies" SET "lat" = ?, "lng" = ?, "photo" = ?, "address" = ?, "updated_at" = ? WHERE "companies"."id" = ?[0m  [["lat", 37.78996999999999], ["lng", -122.400872], ["photo", "https://maps.googleapis.com/maps/api/place/photo?maxheight=400&photoreference=CoQBdwAAABvxA8GbX7-DVjg126gKtbkP-jI4mslc3oEq5pKfcyCyjWpWi2Cq2jh3MGW7XM8aS8-GqTjzbwq8gLXW-IZCpLHiD3GeMcpBMChKT-pUUXlJ7cSuOTK67DgKNfAv4Uaw_1YfkCrC3SNnv1NR4Qvy7fPvNRy4FLzdhfklIm8KwFmYEhC3ouvgdDpbjXZClqbtTBZ7GhTxPc5MGPgt2D9TC8rZnfvOzcuDvg&key=AIzaSyD_mMKLGBULdpg7KvEFfdoHQpdbu83EG-Q"], ["address", "548 Market St, San Francisco, CA 94104, United States"], ["updated_at", 2016-12-22 17:30:39 UTC], ["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering index/ranking.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/ranking.html.erb within layouts/application (5.2ms)
  Rendered layouts/_header.html.erb (3.3ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 1694ms (Views: 13.5ms | ActiveRecord: 0.7ms)
  [1m[35m (12.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-22 17:30:39 UTC], ["updated_at", 2016-12-22 17:30:39 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-22 17:30:39 UTC], ["updated_at", 2016-12-22 17:30:39 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/about" for 127.0.0.1 at 2016-12-22 12:30:39 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (7.1ms)
  Rendered layouts/_header.html.erb (3.5ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 34ms (Views: 15.9ms | ActiveRecord: 0.0ms)
  [1m[35m (3.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
IndexControllerTest: test_should_get_search
-------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-22 17:30:39 UTC], ["updated_at", 2016-12-22 17:30:39 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-22 17:30:39 UTC], ["updated_at", 2016-12-22 17:30:39 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/search?search=Exam&search_select=980190963" for 127.0.0.1 at 2016-12-22 12:30:39 -0500
Processing by IndexController#search as HTML
  Parameters: {"search"=>"Exam", "search_select"=>"980190963"}
  Rendering index/search.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/search.html.erb within layouts/application (4.8ms)
  Rendered layouts/_header.html.erb (3.3ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 35ms (Views: 12.9ms | ActiveRecord: 0.1ms)
  [1m[35m (2.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-22 17:30:39 UTC], ["updated_at", 2016-12-22 17:30:39 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-22 17:30:39 UTC], ["updated_at", 2016-12-22 17:30:39 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/home" for 127.0.0.1 at 2016-12-22 12:30:39 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (9.1ms)
  Rendered layouts/_header.html.erb (70.1ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 119ms (Views: 84.2ms | ActiveRecord: 0.1ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-22 17:30:39 UTC], ["updated_at", 2016-12-22 17:30:39 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-22 17:30:40 UTC], ["updated_at", 2016-12-22 17:30:40 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/Top%20Example%20Category/Example%20Company" for 127.0.0.1 at 2016-12-22 12:30:40 -0500
Processing by IndexController#place as HTML
  Parameters: {"category"=>"Example Category", "company"=>"Example Company"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Example Company"], ["id", 980190963], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "companies" SET "lat" = ?, "lng" = ?, "photo" = ?, "address" = ?, "updated_at" = ? WHERE "companies"."id" = ?[0m  [["lat", 37.78996999999999], ["lng", -122.400872], ["photo", "https://maps.googleapis.com/maps/api/place/photo?maxheight=400&photoreference=CoQBdwAAAH7uwLb29wRmofcJ8uA4J_K-EPSJ2XQpbfa7nMXoBIFsRdv3XKTUoIcfAz0y0wkRJxR1cJKY80arMcDuJw6AKlBpe5934epPY3zAABNVWxqgB-6H_qa1o6hK8GDgY4yEhkRtdGX11lTKh9Fx1YbQAqh5sVnCyimkxBACdaADeBdFEhCAfb3G-nmOyyOZHLOsX-ALGhR9r71wqRfwXkOzCN6CZQDf0VHV6w&key=AIzaSyD_mMKLGBULdpg7KvEFfdoHQpdbu83EG-Q"], ["address", "548 Market St, San Francisco, CA 94104, United States"], ["updated_at", 2016-12-22 17:30:40 UTC], ["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering index/place.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/place.html.erb within layouts/application (6.6ms)
  Rendered layouts/_header.html.erb (3.2ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 928ms (Views: 14.7ms | ActiveRecord: 0.5ms)
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-22 17:30:41 UTC], ["updated_at", 2016-12-22 17:30:41 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-22 17:30:41 UTC], ["updated_at", 2016-12-22 17:30:41 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-22 17:30:41 UTC], ["updated_at", 2016-12-22 17:30:41 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.2ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-22 17:30:41 UTC], ["updated_at", 2016-12-22 17:30:41 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (25.9ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (10.5ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString1', '2016-12-23 17:52:59.416628', '2016-12-23 17:52:59.416628', 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString2', '2016-12-23 17:52:59.416628', '2016-12-23 17:52:59.416628', 298486374)[0m
  [1m[36mFixture Delete (1.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company1', 1, 1, 'MyCity1', 10, 10, '2016-12-23 17:52:59.473782', '2016-12-23 17:52:59.473782', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company2', 2, 2, 'MyCity2', 20, 20, '2016-12-23 17:52:59.473782', '2016-12-23 17:52:59.473782', 298486374)[0m
  [1m[36mFixture Delete (34.6ms)[0m  [1m[31mDELETE FROM "ips"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "ips" ("address", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-23 17:52:59.478297', '2016-12-23 17:52:59.478297', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "ips" ("address", "created_at", "updated_at", "id") VALUES ('MyString', '2016-12-23 17:52:59.478297', '2016-12-23 17:52:59.478297', 298486374)[0m
  [1m[36mFixture Delete (11.1ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-23 17:52:59.536301', '2016-12-23 17:52:59.536301', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2016-12-23 17:52:59.536301', '2016-12-23 17:52:59.536301', 298486374, 298486374)[0m
  [1m[35m (2.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-23 17:52:59 UTC], ["updated_at", 2016-12-23 17:52:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2016-12-23 17:52:59 UTC], ["updated_at", 2016-12-23 17:52:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.1ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (30.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-23 17:52:59 UTC], ["updated_at", 2016-12-23 17:52:59 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (3.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompaniesControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mCompany Load (0.2ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/admin/companies/new" for 127.0.0.1 at 2016-12-23 12:53:00 -0500
Processing by CompaniesController#new as HTML
  Rendering companies/new.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (63.9ms)
  Rendered companies/new.html.erb within layouts/application (78.6ms)
  Rendered layouts/_header.html.erb (13959.4ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 14161ms (Views: 14130.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CompaniesControllerTest: test_should_destroy_company
----------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started DELETE "/admin/companies/980190962" for 127.0.0.1 at 2016-12-23 12:53:14 -0500
Processing by CompaniesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "companies" WHERE "companies"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/companies
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_create_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started POST "/admin/companies" for 127.0.0.1 at 2016-12-23 12:53:14 -0500
Processing by CompaniesController#create as HTML
  Parameters: {"company"=>{"name"=>"ExampleCompany", "city"=>"Mycity", "category"=>"1"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "ExampleCompany"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "ExampleCompany"], ["category", 1], ["city", "Mycity"], ["created_at", 2016-12-23 17:53:14 UTC], ["updated_at", 2016-12-23 17:53:14 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/companies/980190963
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "ExampleCompany"], ["id", 980190963], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "companies" SET "updated_at" = ?, "lat" = ?, "lng" = ?, "photo" = ?, "address" = ? WHERE "companies"."id" = ?[0m  [["updated_at", 2016-12-23 17:53:16 UTC], ["lat", 37.779044], ["lng", -122.418757], ["photo", "place-image.png"], ["address", "1 Dr Carlton B Goodlett Pl, San Francisco, CA 94102"], ["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 302 Found in 2011ms (ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" ORDER BY "companies"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CompaniesControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/admin/companies" for 127.0.0.1 at 2016-12-23 12:53:16 -0500
Processing by CompaniesController#index as HTML
  Rendering companies/index.html.erb within layouts/application
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies"[0m
  Rendered companies/index.html.erb within layouts/application (3.6ms)
  Rendered layouts/_header.html.erb (5.2ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 47ms (Views: 17.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_update_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/admin/companies/980190962" for 127.0.0.1 at 2016-12-23 12:53:16 -0500
Processing by CompaniesController#update as HTML
  Parameters: {"company"=>{"name"=>"Company1", "city"=>"MyCity1", "category"=>"1"}, "id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Company1"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/companies/980190962
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Company1"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "companies" SET "updated_at" = ?, "lat" = ?, "lng" = ?, "photo" = ?, "address" = ? WHERE "companies"."id" = ?[0m  [["updated_at", 2016-12-23 17:53:17 UTC], ["lat", 37.779044], ["lng", -122.418757], ["photo", "place-image.png"], ["address", "1 Dr Carlton B Goodlett Pl, San Francisco, CA 94102"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 302 Found in 1214ms (ActiveRecord: 0.9ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CompaniesControllerTest: test_should_show_company
-------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/admin/companies/980190962" for 127.0.0.1 at 2016-12-23 12:53:17 -0500
Processing by CompaniesController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/show.html.erb within layouts/application
  Rendered companies/show.html.erb within layouts/application (1.3ms)
  Rendered layouts/_header.html.erb (4.4ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 34ms (Views: 11.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CompaniesControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/admin/companies/980190962/edit" for 127.0.0.1 at 2016-12-23 12:53:18 -0500
Processing by CompaniesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/edit.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (2.8ms)
  Rendered companies/edit.html.erb within layouts/application (4.8ms)
  Rendered layouts/_header.html.erb (5.2ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 37ms (Views: 17.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2016-12-23 17:53:18 UTC], ["updated_at", 2016-12-23 17:53:18 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-23 17:53:18 UTC], ["updated_at", 2016-12-23 17:53:18 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-23 17:53:18 UTC], ["updated_at", 2016-12-23 17:53:18 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/about" for 127.0.0.1 at 2016-12-23 12:53:18 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (7.3ms)
  Rendered layouts/_header.html.erb (3.5ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 27ms (Views: 17.5ms | ActiveRecord: 0.0ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-23 17:53:18 UTC], ["updated_at", 2016-12-23 17:53:18 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-23 17:53:18 UTC], ["updated_at", 2016-12-23 17:53:18 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/home" for 127.0.0.1 at 2016-12-23 12:53:18 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (10.3ms)
  Rendered layouts/_header.html.erb (3.1ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 62ms (Views: 20.3ms | ActiveRecord: 0.1ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-23 17:53:18 UTC], ["updated_at", 2016-12-23 17:53:18 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-23 17:53:18 UTC], ["updated_at", 2016-12-23 17:53:18 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/top-Example%20Category/Example%20Company" for 127.0.0.1 at 2016-12-23 12:53:18 -0500
Processing by IndexController#place as HTML
  Parameters: {"category"=>"Example Category", "company"=>"Example Company"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Example Company"], ["id", 980190963], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "companies" SET "lat" = ?, "lng" = ?, "photo" = ?, "address" = ?, "updated_at" = ? WHERE "companies"."id" = ?[0m  [["lat", 37.78996999999999], ["lng", -122.400872], ["photo", "https://maps.googleapis.com/maps/api/place/photo?maxheight=400&photoreference=CoQBdwAAAFt4dwp0GUn9B92Vm9Phyw6ROFhSsjcA6WNybPuIzUceJvMFFzEfiDzobrbeqkDu0k2gKXaZyReyTHX4sG3M-YnwHFNAp7-Oi9bSq9nkyO0fEJl5solnKFBHey7U43W8H1k8Fjc-8PwYGgTfasb25f7Cf8ViDK8rFCC0TkLUi2fSEhD6lrkYPPX19dcmhDjcu0lYGhT06GV-RJC2RK_dPhh2jBMH8Iq4aA&key=AIzaSyD_mMKLGBULdpg7KvEFfdoHQpdbu83EG-Q"], ["address", "548 Market St, San Francisco, CA 94104, United States"], ["updated_at", 2016-12-23 17:53:19 UTC], ["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering index/place.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/place.html.erb within layouts/application (7.6ms)
  Rendered layouts/_header.html.erb (3.2ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 1539ms (Views: 17.6ms | ActiveRecord: 0.6ms)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (13.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-23 17:53:19 UTC], ["updated_at", 2016-12-23 17:53:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-23 17:53:19 UTC], ["updated_at", 2016-12-23 17:53:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/top-Example%20Category" for 127.0.0.1 at 2016-12-23 12:53:19 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category"=>"Example Category"}
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies" WHERE (category = 980190963) ORDER BY id ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Example Company"], ["id", 980190963], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "companies" SET "lat" = ?, "lng" = ?, "photo" = ?, "address" = ?, "updated_at" = ? WHERE "companies"."id" = ?[0m  [["lat", 37.78996999999999], ["lng", -122.400872], ["photo", "https://maps.googleapis.com/maps/api/place/photo?maxheight=400&photoreference=CoQBdwAAAF7Xzs-6bB2kSMZAUl-joNV5G29mgspQZcm-1Plk_OGz_yxMbhQUKagU3c5u9Y-jyZRruUDOFm8MWAgNc9w4HibFp7ZgBG_B40ngfqQmnm-fX6Qu93Vvu18jBdKVWwz-vwLdKBLVlFXhpqLp_t1R6IsvYfoZK7rimAEOw6WYwIF4EhBCHPGc1GKK8iSJW84BPOrcGhTOZEtp70kVDRjv-oQJVO0G4FAcnA&key=AIzaSyD_mMKLGBULdpg7KvEFfdoHQpdbu83EG-Q"], ["address", "548 Market St, San Francisco, CA 94104, United States"], ["updated_at", 2016-12-23 17:53:20 UTC], ["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering index/ranking.html.erb within layouts/application
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/ranking.html.erb within layouts/application (4.8ms)
  Rendered layouts/_header.html.erb (3.2ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 905ms (Views: 12.7ms | ActiveRecord: 0.7ms)
  [1m[35m (2.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
IndexControllerTest: test_should_get_search
-------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2016-12-23 17:53:20 UTC], ["updated_at", 2016-12-23 17:53:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2016-12-23 17:53:20 UTC], ["updated_at", 2016-12-23 17:53:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/search?search=Exam&search_select=980190963" for 127.0.0.1 at 2016-12-23 12:53:20 -0500
Processing by IndexController#search as HTML
  Parameters: {"search"=>"Exam", "search_select"=>"980190963"}
  Rendering index/search.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/search.html.erb within layouts/application (3.9ms)
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 41ms (Views: 12.7ms | ActiveRecord: 0.1ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (16.4ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString1', '2017-01-05 22:54:34.115272', '2017-01-05 22:54:34.115272', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString2', '2017-01-05 22:54:34.115272', '2017-01-05 22:54:34.115272', 298486374)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company1', 1, 1, 'MyCity1', 10, 10, '2017-01-05 22:54:34.157089', '2017-01-05 22:54:34.157089', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company2', 2, 2, 'MyCity2', 20, 20, '2017-01-05 22:54:34.157089', '2017-01-05 22:54:34.157089', 298486374)[0m
  [1m[36mFixture Delete (23.8ms)[0m  [1m[31mDELETE FROM "ips"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "ips" ("address", "created_at", "updated_at", "id") VALUES ('MyString', '2017-01-05 22:54:34.159724', '2017-01-05 22:54:34.159724', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "ips" ("address", "created_at", "updated_at", "id") VALUES ('MyString', '2017-01-05 22:54:34.159724', '2017-01-05 22:54:34.159724', 298486374)[0m
  [1m[36mFixture Delete (1.2ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2017-01-05 22:54:34.185377', '2017-01-05 22:54:34.185377', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2017-01-05 22:54:34.185377', '2017-01-05 22:54:34.185377', 298486374, 298486374)[0m
  [1m[35m (3.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2017-01-05 22:54:34 UTC], ["updated_at", 2017-01-05 22:54:34 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (30.0ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2017-01-05 22:54:34 UTC], ["updated_at", 2017-01-05 22:54:34 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.1ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (15.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2017-01-05 22:54:34 UTC], ["updated_at", 2017-01-05 22:54:34 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2017-01-05 22:54:34 UTC], ["updated_at", 2017-01-05 22:54:34 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2017-01-05 22:54:34 UTC], ["updated_at", 2017-01-05 22:54:34 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/home" for 127.0.0.1 at 2017-01-05 17:54:34 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (12760.2ms)
  Rendered layouts/_header.html.erb (3.6ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 12883ms (Views: 12851.2ms | ActiveRecord: 0.1ms)
  [1m[35m (67.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2017-01-05 22:54:47 UTC], ["updated_at", 2017-01-05 22:54:47 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2017-01-05 22:54:47 UTC], ["updated_at", 2017-01-05 22:54:47 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/about" for 127.0.0.1 at 2017-01-05 17:54:47 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (8.9ms)
  Rendered layouts/_header.html.erb (3.8ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 39ms (Views: 37.5ms | ActiveRecord: 0.0ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
IndexControllerTest: test_should_get_search
-------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2017-01-05 22:54:47 UTC], ["updated_at", 2017-01-05 22:54:47 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2017-01-05 22:54:47 UTC], ["updated_at", 2017-01-05 22:54:47 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/search?search=Exam&search_select=980190963" for 127.0.0.1 at 2017-01-05 17:54:47 -0500
Processing by IndexController#search as HTML
  Parameters: {"search"=>"Exam", "search_select"=>"980190963"}
  Rendering index/search.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/search.html.erb within layouts/application (5.7ms)
  Rendered layouts/_header.html.erb (3.8ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 56ms (Views: 16.3ms | ActiveRecord: 0.1ms)
  [1m[35m (2.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2017-01-05 22:54:47 UTC], ["updated_at", 2017-01-05 22:54:47 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2017-01-05 22:54:47 UTC], ["updated_at", 2017-01-05 22:54:47 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/top-Example%20Category/Example%20Company" for 127.0.0.1 at 2017-01-05 17:54:47 -0500
Processing by IndexController#place as HTML
  Parameters: {"category"=>"Example Category", "company"=>"Example Company"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Example Company"], ["id", 980190963], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "companies" SET "lat" = ?, "lng" = ?, "photo" = ?, "address" = ?, "updated_at" = ? WHERE "companies"."id" = ?[0m  [["lat", 37.78996999999999], ["lng", -122.400872], ["photo", "https://maps.googleapis.com/maps/api/place/photo?maxheight=400&photoreference=CoQBdwAAAG0YP2HYbtyicZRuY05ojZeDFrrfJOS9lzgxO7_K8yJkfUAnNo5M1pYq4DYDKeOZE0YVZt-2piLGFRpzJTDcb8ETEehiWLXMeNXXgkn8tjzC6xY2ZbK0MlKyK06cY6RA5gX3SGHZGMAJsYu17VDwXHdXfAd6iS4uaw-MvfpN7GQmEhCnpTgVz6H8dlpFy5l8pCjSGhRF2RlXrOzn4USbm2eV9rbyhUDs1A&key=AIzaSyD_mMKLGBULdpg7KvEFfdoHQpdbu83EG-Q"], ["address", "548 Market St, San Francisco, CA 94104, United States"], ["updated_at", 2017-01-05 22:54:49 UTC], ["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering index/place.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/place.html.erb within layouts/application (6.2ms)
  Rendered layouts/_header.html.erb (3.0ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 1672ms (Views: 14.0ms | ActiveRecord: 0.6ms)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2017-01-05 22:54:49 UTC], ["updated_at", 2017-01-05 22:54:49 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2017-01-05 22:54:49 UTC], ["updated_at", 2017-01-05 22:54:49 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/top-Example%20Category" for 127.0.0.1 at 2017-01-05 17:54:49 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category"=>"Example Category"}
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies" WHERE (category = 980190963) ORDER BY id ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Example Company"], ["id", 980190963], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "companies" SET "lat" = ?, "lng" = ?, "photo" = ?, "address" = ?, "updated_at" = ? WHERE "companies"."id" = ?[0m  [["lat", 37.78996999999999], ["lng", -122.400872], ["photo", "https://maps.googleapis.com/maps/api/place/photo?maxheight=400&photoreference=CoQBdwAAAIedyCYKmyTJnWc72aqorvbJgsKeEj2W-UUgW9zodsg_VC-mBuUDLAPDfV2v83-nwGJQ_xBvw8AIPAgb04BAt6-Q0MASI9mRJoDS4C-cb96979vIvwXilMIjNTkv-aXr0iiIAdcVWP19D2soTxnBiNfVRvZJz-Zx-D0XgpsO7CzQEhDwMc2KdjppcKF-zMoV1q81GhThR1bHdSR0lZsGWItwzOSm1XZpPw&key=AIzaSyD_mMKLGBULdpg7KvEFfdoHQpdbu83EG-Q"], ["address", "548 Market St, San Francisco, CA 94104, United States"], ["updated_at", 2017-01-05 22:54:50 UTC], ["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering index/ranking.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/ranking.html.erb within layouts/application (5.5ms)
  Rendered layouts/_header.html.erb (3.5ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 846ms (Views: 14.1ms | ActiveRecord: 0.6ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2017-01-05 22:54:50 UTC], ["updated_at", 2017-01-05 22:54:50 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (6.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CompaniesControllerTest: test_should_show_company
-------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/admin/companies/980190962" for 127.0.0.1 at 2017-01-05 17:54:50 -0500
Processing by CompaniesController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/show.html.erb within layouts/application
  Rendered companies/show.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (3.1ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 20ms (Views: 10.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompaniesControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/admin/companies/new" for 127.0.0.1 at 2017-01-05 17:54:50 -0500
Processing by CompaniesController#new as HTML
  Rendering companies/new.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (37.6ms)
  Rendered companies/new.html.erb within layouts/application (43.7ms)
  Rendered layouts/_header.html.erb (3.1ms)
  Rendered layouts/_footer.html.erb (1.1ms)
Completed 200 OK in 62ms (Views: 52.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CompaniesControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/admin/companies" for 127.0.0.1 at 2017-01-05 17:54:50 -0500
Processing by CompaniesController#index as HTML
  Rendering companies/index.html.erb within layouts/application
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies"[0m
  Rendered companies/index.html.erb within layouts/application (2.5ms)
  Rendered layouts/_header.html.erb (4.8ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 39ms (Views: 14.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CompaniesControllerTest: test_should_destroy_company
----------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started DELETE "/admin/companies/980190962" for 127.0.0.1 at 2017-01-05 17:54:50 -0500
Processing by CompaniesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "companies" WHERE "companies"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/companies
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_update_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/admin/companies/980190962" for 127.0.0.1 at 2017-01-05 17:54:50 -0500
Processing by CompaniesController#update as HTML
  Parameters: {"company"=>{"name"=>"Company1", "city"=>"MyCity1", "category"=>"1"}, "id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Company1"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/companies/980190962
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Company1"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "companies" SET "updated_at" = ?, "lat" = ?, "lng" = ?, "photo" = ?, "address" = ? WHERE "companies"."id" = ?[0m  [["updated_at", 2017-01-05 22:54:52 UTC], ["lat", 37.779044], ["lng", -122.418757], ["photo", "place-image.png"], ["address", "1 Dr Carlton B Goodlett Pl, San Francisco, CA 94102"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 302 Found in 1815ms (ActiveRecord: 1.3ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_create_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started POST "/admin/companies" for 127.0.0.1 at 2017-01-05 17:54:52 -0500
Processing by CompaniesController#create as HTML
  Parameters: {"company"=>{"name"=>"ExampleCompany", "city"=>"Mycity", "category"=>"1"}}
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "ExampleCompany"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "ExampleCompany"], ["category", 1], ["city", "Mycity"], ["created_at", 2017-01-05 22:54:52 UTC], ["updated_at", 2017-01-05 22:54:52 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/companies/980190963
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "ExampleCompany"], ["id", 980190963], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "companies" SET "updated_at" = ?, "lat" = ?, "lng" = ?, "photo" = ?, "address" = ? WHERE "companies"."id" = ?[0m  [["updated_at", 2017-01-05 22:54:53 UTC], ["lat", 37.779044], ["lng", -122.418757], ["photo", "place-image.png"], ["address", "1 Dr Carlton B Goodlett Pl, San Francisco, CA 94102"], ["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 302 Found in 1176ms (ActiveRecord: 1.0ms)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[36mCompany Load (0.2ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" ORDER BY "companies"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CompaniesControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/admin/companies/980190962/edit" for 127.0.0.1 at 2017-01-05 17:54:53 -0500
Processing by CompaniesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/edit.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (3.1ms)
  Rendered companies/edit.html.erb within layouts/application (5.1ms)
  Rendered layouts/_header.html.erb (4.5ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 17ms (Views: 15.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (15.5ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString1', '2017-01-05 22:56:56.499629', '2017-01-05 22:56:56.499629', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString2', '2017-01-05 22:56:56.499629', '2017-01-05 22:56:56.499629', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company1', 1, 1, 'MyCity1', 10, 10, '2017-01-05 22:56:56.519987', '2017-01-05 22:56:56.519987', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company2', 2, 2, 'MyCity2', 20, 20, '2017-01-05 22:56:56.519987', '2017-01-05 22:56:56.519987', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "ips"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "ips" ("address", "created_at", "updated_at", "id") VALUES ('MyString', '2017-01-05 22:56:56.522216', '2017-01-05 22:56:56.522216', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "ips" ("address", "created_at", "updated_at", "id") VALUES ('MyString', '2017-01-05 22:56:56.522216', '2017-01-05 22:56:56.522216', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2017-01-05 22:56:56.523856', '2017-01-05 22:56:56.523856', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2017-01-05 22:56:56.523856', '2017-01-05 22:56:56.523856', 298486374, 298486374)[0m
  [1m[35m (1.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2017-01-05 22:56:56 UTC], ["updated_at", 2017-01-05 22:56:56 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2017-01-05 22:56:56 UTC], ["updated_at", 2017-01-05 22:56:56 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2017-01-05 22:56:56 UTC], ["updated_at", 2017-01-05 22:56:56 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.1ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2017-01-05 22:56:56 UTC], ["updated_at", 2017-01-05 22:56:56 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (22.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_update_company
---------------------------------------------------
  [1m[36mCompany Load (0.2ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/admin/companies/980190962" for 127.0.0.1 at 2017-01-05 17:56:56 -0500
Processing by CompaniesController#update as HTML
  Parameters: {"company"=>{"name"=>"Company1", "city"=>"MyCity1", "category"=>"1"}, "id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Company1"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/companies/980190962
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Company1"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "companies" SET "updated_at" = ?, "lat" = ?, "lng" = ?, "photo" = ?, "address" = ? WHERE "companies"."id" = ?[0m  [["updated_at", 2017-01-05 22:56:58 UTC], ["lat", 37.779044], ["lng", -122.418757], ["photo", "place-image.png"], ["address", "1 Dr Carlton B Goodlett Pl, San Francisco, CA 94102"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 302 Found in 1215ms (ActiveRecord: 1.4ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CompaniesControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/admin/companies/980190962/edit" for 127.0.0.1 at 2017-01-05 17:56:58 -0500
Processing by CompaniesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/edit.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (18.9ms)
  Rendered companies/edit.html.erb within layouts/application (39.6ms)
  Rendered layouts/_header.html.erb (1057.0ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 1151ms (Views: 1132.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CompaniesControllerTest: test_should_show_company
-------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/admin/companies/980190962" for 127.0.0.1 at 2017-01-05 17:56:59 -0500
Processing by CompaniesController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/show.html.erb within layouts/application
  Rendered companies/show.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (7.6ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 27ms (Views: 15.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CompaniesControllerTest: test_should_destroy_company
----------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started DELETE "/admin/companies/980190962" for 127.0.0.1 at 2017-01-05 17:56:59 -0500
Processing by CompaniesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[31mDELETE FROM "companies" WHERE "companies"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/companies
Completed 302 Found in 3ms (ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompaniesControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/admin/companies/new" for 127.0.0.1 at 2017-01-05 17:56:59 -0500
Processing by CompaniesController#new as HTML
  Rendering companies/new.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (2.3ms)
  Rendered companies/new.html.erb within layouts/application (4.0ms)
  Rendered layouts/_header.html.erb (4.0ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 27ms (Views: 13.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CompaniesControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/admin/companies" for 127.0.0.1 at 2017-01-05 17:56:59 -0500
Processing by CompaniesController#index as HTML
  Rendering companies/index.html.erb within layouts/application
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies"[0m
  Rendered companies/index.html.erb within layouts/application (2.2ms)
  Rendered layouts/_header.html.erb (4.0ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 17ms (Views: 11.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_create_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started POST "/admin/companies" for 127.0.0.1 at 2017-01-05 17:56:59 -0500
Processing by CompaniesController#create as HTML
  Parameters: {"company"=>{"name"=>"ExampleCompany", "city"=>"Mycity", "category"=>"1"}}
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "ExampleCompany"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "ExampleCompany"], ["category", 1], ["city", "Mycity"], ["created_at", 2017-01-05 22:56:59 UTC], ["updated_at", 2017-01-05 22:56:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/companies/980190963
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "ExampleCompany"], ["id", 980190963], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "companies" SET "updated_at" = ?, "lat" = ?, "lng" = ?, "photo" = ?, "address" = ? WHERE "companies"."id" = ?[0m  [["updated_at", 2017-01-05 22:57:00 UTC], ["lat", 37.779044], ["lng", -122.418757], ["photo", "place-image.png"], ["address", "1 Dr Carlton B Goodlett Pl, San Francisco, CA 94102"], ["id", 980190963]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 302 Found in 898ms (ActiveRecord: 1.2ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" ORDER BY "companies"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2017-01-05 22:57:00 UTC], ["updated_at", 2017-01-05 22:57:00 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2017-01-05 22:57:00 UTC], ["updated_at", 2017-01-05 22:57:00 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/home" for 127.0.0.1 at 2017-01-05 17:57:00 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (11.1ms)
  Rendered layouts/_header.html.erb (4.2ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 30ms (Views: 20.7ms | ActiveRecord: 0.2ms)
  [1m[35m (13.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
IndexControllerTest: test_should_get_search
-------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2017-01-05 22:57:00 UTC], ["updated_at", 2017-01-05 22:57:00 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2017-01-05 22:57:00 UTC], ["updated_at", 2017-01-05 22:57:00 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/search?search=Exam&search_select=980190963" for 127.0.0.1 at 2017-01-05 17:57:00 -0500
Processing by IndexController#search as HTML
  Parameters: {"search"=>"Exam", "search_select"=>"980190963"}
  Rendering index/search.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/search.html.erb within layouts/application (5.7ms)
  Rendered layouts/_header.html.erb (3.7ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 42ms (Views: 14.8ms | ActiveRecord: 0.1ms)
  [1m[35m (2.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2017-01-05 22:57:00 UTC], ["updated_at", 2017-01-05 22:57:00 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2017-01-05 22:57:00 UTC], ["updated_at", 2017-01-05 22:57:00 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/about" for 127.0.0.1 at 2017-01-05 17:57:00 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (7.6ms)
  Rendered layouts/_header.html.erb (3.9ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 53ms (Views: 18.7ms | ActiveRecord: 0.0ms)
  [1m[35m (2.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_contact
--------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2017-01-05 22:57:00 UTC], ["updated_at", 2017-01-05 22:57:00 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2017-01-05 22:57:00 UTC], ["updated_at", 2017-01-05 22:57:00 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/contact" for 127.0.0.1 at 2017-01-05 17:57:00 -0500
Processing by IndexController#contact as HTML
  Rendering index/contact.html.erb within layouts/application
  Rendered index/contact.html.erb within layouts/application (65.4ms)
  Rendered layouts/_header.html.erb (3.8ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 113ms (Views: 75.2ms | ActiveRecord: 0.0ms)
  [1m[35m (2.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2017-01-05 22:57:01 UTC], ["updated_at", 2017-01-05 22:57:01 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2017-01-05 22:57:01 UTC], ["updated_at", 2017-01-05 22:57:01 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/top-Example%20Category/Example%20Company" for 127.0.0.1 at 2017-01-05 17:57:01 -0500
Processing by IndexController#place as HTML
  Parameters: {"category"=>"Example Category", "company"=>"Example Company"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Example Company"], ["id", 980190963], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "companies" SET "lat" = ?, "lng" = ?, "photo" = ?, "address" = ?, "updated_at" = ? WHERE "companies"."id" = ?[0m  [["lat", 37.78996999999999], ["lng", -122.400872], ["photo", "https://maps.googleapis.com/maps/api/place/photo?maxheight=400&photoreference=CoQBdwAAAHl972DW22YR9URMnpQW367btvUg6FFI0zpUF7o43GzMFDDvQ23iZp8v1OlcraEb2tYcCBCCjTV3y2E84nod1KPmbp90eBpISKy8cCZsTCv2T6KIufwhR9NCkOsTyX_psthdS_BQwd9weR0OWrGvytrt6_iOPlvps50PYGjoUI4jEhAt1haM-FULXu4fAUIf6ysDGhQbOyfNp0FhvkAp_ze6hBf-bmgVUw&key=AIzaSyD_mMKLGBULdpg7KvEFfdoHQpdbu83EG-Q"], ["address", "548 Market St, San Francisco, CA 94104, United States"], ["updated_at", 2017-01-05 22:57:02 UTC], ["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering index/place.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/place.html.erb within layouts/application (7.0ms)
  Rendered layouts/_header.html.erb (3.5ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 1331ms (Views: 15.6ms | ActiveRecord: 0.6ms)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (2.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2017-01-05 22:57:02 UTC], ["updated_at", 2017-01-05 22:57:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2017-01-05 22:57:02 UTC], ["updated_at", 2017-01-05 22:57:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/top-Example%20Category" for 127.0.0.1 at 2017-01-05 17:57:02 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category"=>"Example Category"}
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies" WHERE (category = 980190963) ORDER BY id ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Example Company"], ["id", 980190963], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "companies" SET "lat" = ?, "lng" = ?, "photo" = ?, "address" = ?, "updated_at" = ? WHERE "companies"."id" = ?[0m  [["lat", 37.78996999999999], ["lng", -122.400872], ["photo", "https://maps.googleapis.com/maps/api/place/photo?maxheight=400&photoreference=CoQBdwAAAP2vxnP4mj4b3RbPixUGif3sAKRn_ROdhntPtC7J8CsIi_7Z3syZblQ_HO_If6kWyG-ikw55cJiYQxDdsJK9KEDg-5I8y4CN1z0_x6QiZJEQMV0x-q0WEsZn4zAovXnCn_hZA9ngu36tO8NCbrGbI5ux148e0vGhSlHh7mJgcf2AEhCwwKfSy6tVYW5NZEonfV9cGhRGLv8vkkF6CH2l7Tocovhpgy6aXw&key=AIzaSyD_mMKLGBULdpg7KvEFfdoHQpdbu83EG-Q"], ["address", "548 Market St, San Francisco, CA 94104, United States"], ["updated_at", 2017-01-05 22:57:03 UTC], ["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering index/ranking.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/ranking.html.erb within layouts/application (5.6ms)
  Rendered layouts/_header.html.erb (3.6ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 848ms (Views: 14.2ms | ActiveRecord: 0.7ms)
  [1m[35m (2.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString1', '2017-01-05 22:57:31.144581', '2017-01-05 22:57:31.144581', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString2', '2017-01-05 22:57:31.144581', '2017-01-05 22:57:31.144581', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company1', 1, 1, 'MyCity1', 10, 10, '2017-01-05 22:57:31.149392', '2017-01-05 22:57:31.149392', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company2', 2, 2, 'MyCity2', 20, 20, '2017-01-05 22:57:31.149392', '2017-01-05 22:57:31.149392', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "ips"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "ips" ("address", "created_at", "updated_at", "id") VALUES ('MyString', '2017-01-05 22:57:31.152109', '2017-01-05 22:57:31.152109', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "ips" ("address", "created_at", "updated_at", "id") VALUES ('MyString', '2017-01-05 22:57:31.152109', '2017-01-05 22:57:31.152109', 298486374)[0m
  [1m[36mFixture Delete (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2017-01-05 22:57:31.153812', '2017-01-05 22:57:31.153812', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2017-01-05 22:57:31.153812', '2017-01-05 22:57:31.153812', 298486374, 298486374)[0m
  [1m[35m (1.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CompaniesControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mCompany Load (0.2ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/admin/companies" for 127.0.0.1 at 2017-01-05 17:57:31 -0500
Processing by CompaniesController#index as HTML
  Rendering companies/index.html.erb within layouts/application
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies"[0m
  Rendered companies/index.html.erb within layouts/application (7.6ms)
  Rendered layouts/_header.html.erb (307.1ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 333ms (Views: 323.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CompaniesControllerTest: test_should_destroy_company
----------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started DELETE "/admin/companies/980190962" for 127.0.0.1 at 2017-01-05 17:57:31 -0500
Processing by CompaniesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "companies" WHERE "companies"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/companies
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[35m (3.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompaniesControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/admin/companies/new" for 127.0.0.1 at 2017-01-05 17:57:31 -0500
Processing by CompaniesController#new as HTML
  Rendering companies/new.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (17.4ms)
  Rendered companies/new.html.erb within layouts/application (19.2ms)
  Rendered layouts/_header.html.erb (12.2ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 39ms (Views: 37.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CompaniesControllerTest: test_should_show_company
-------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/admin/companies/980190962" for 127.0.0.1 at 2017-01-05 17:57:31 -0500
Processing by CompaniesController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/show.html.erb within layouts/application
  Rendered companies/show.html.erb within layouts/application (1.2ms)
  Rendered layouts/_header.html.erb (5.5ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 14ms (Views: 12.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CompaniesControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/admin/companies/980190962/edit" for 127.0.0.1 at 2017-01-05 17:57:31 -0500
Processing by CompaniesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/edit.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (3.1ms)
  Rendered companies/edit.html.erb within layouts/application (5.0ms)
  Rendered layouts/_header.html.erb (4.5ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 17ms (Views: 14.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_create_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started POST "/admin/companies" for 127.0.0.1 at 2017-01-05 17:57:31 -0500
Processing by CompaniesController#create as HTML
  Parameters: {"company"=>{"name"=>"ExampleCompany", "city"=>"Mycity", "category"=>"1"}}
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "ExampleCompany"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "ExampleCompany"], ["category", 1], ["city", "Mycity"], ["created_at", 2017-01-05 22:57:31 UTC], ["updated_at", 2017-01-05 22:57:31 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/companies/980190963
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "ExampleCompany"], ["id", 980190963], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "companies" SET "updated_at" = ?, "lat" = ?, "lng" = ?, "photo" = ?, "address" = ? WHERE "companies"."id" = ?[0m  [["updated_at", 2017-01-05 22:57:32 UTC], ["lat", 37.779044], ["lng", -122.418757], ["photo", "place-image.png"], ["address", "1 Dr Carlton B Goodlett Pl, San Francisco, CA 94102"], ["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 302 Found in 788ms (ActiveRecord: 1.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" ORDER BY "companies"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (3.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_update_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/admin/companies/980190962" for 127.0.0.1 at 2017-01-05 17:57:32 -0500
Processing by CompaniesController#update as HTML
  Parameters: {"company"=>{"name"=>"Company1", "city"=>"MyCity1", "category"=>"1"}, "id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Company1"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/companies/980190962
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Company1"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "companies" SET "updated_at" = ?, "lat" = ?, "lng" = ?, "photo" = ?, "address" = ? WHERE "companies"."id" = ?[0m  [["updated_at", 2017-01-05 22:57:33 UTC], ["lat", 37.779044], ["lng", -122.418757], ["photo", "place-image.png"], ["address", "1 Dr Carlton B Goodlett Pl, San Francisco, CA 94102"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 302 Found in 763ms (ActiveRecord: 0.8ms)
  [1m[35m (3.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2017-01-05 22:57:33 UTC], ["updated_at", 2017-01-05 22:57:33 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (2.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_contact
--------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2017-01-05 22:57:33 UTC], ["updated_at", 2017-01-05 22:57:33 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2017-01-05 22:57:33 UTC], ["updated_at", 2017-01-05 22:57:33 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/contact" for 127.0.0.1 at 2017-01-05 17:57:33 -0500
Processing by IndexController#contact as HTML
  Rendering index/contact.html.erb within layouts/application
  Rendered index/contact.html.erb within layouts/application (12.1ms)
  Rendered layouts/_header.html.erb (6.7ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 27ms (Views: 25.2ms | ActiveRecord: 0.0ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2017-01-05 22:57:33 UTC], ["updated_at", 2017-01-05 22:57:33 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2017-01-05 22:57:33 UTC], ["updated_at", 2017-01-05 22:57:33 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/top-Example%20Category" for 127.0.0.1 at 2017-01-05 17:57:33 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category"=>"Example Category"}
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies" WHERE (category = 980190963) ORDER BY id ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Example Company"], ["id", 980190963], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "companies" SET "lat" = ?, "lng" = ?, "photo" = ?, "address" = ?, "updated_at" = ? WHERE "companies"."id" = ?[0m  [["lat", 37.78996999999999], ["lng", -122.400872], ["photo", "https://maps.googleapis.com/maps/api/place/photo?maxheight=400&photoreference=CoQBdwAAADPlOrKn2WZJDbsp3rg3vWvjraxvl8mlY6wvIhE0kRl0DaZqoQcIZs51PhdG2z3zUGE78Y66jfNXzL3rL0XBXXaxbDzsw884nTOXPrR0-fZCG_fqHUqboYsyQMMZVYWp1L914FyLPLTH-5nlgbGpmnrs_Zlm_e4aGhVnBovm7J_kEhC0TshxyvixfDYLL_x3tiInGhRIQb4XIOp8zF6eqfEPHZOln2o3qg&key=AIzaSyD_mMKLGBULdpg7KvEFfdoHQpdbu83EG-Q"], ["address", "548 Market St, San Francisco, CA 94104, United States"], ["updated_at", 2017-01-05 22:57:34 UTC], ["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering index/ranking.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/ranking.html.erb within layouts/application (5.3ms)
  Rendered layouts/_header.html.erb (3.2ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 869ms (Views: 13.3ms | ActiveRecord: 0.7ms)
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2017-01-05 22:57:34 UTC], ["updated_at", 2017-01-05 22:57:34 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2017-01-05 22:57:34 UTC], ["updated_at", 2017-01-05 22:57:34 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/about" for 127.0.0.1 at 2017-01-05 17:57:34 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (6.3ms)
  Rendered layouts/_header.html.erb (3.2ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 16ms (Views: 14.5ms | ActiveRecord: 0.0ms)
  [1m[35m (26.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
IndexControllerTest: test_should_get_search
-------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2017-01-05 22:57:34 UTC], ["updated_at", 2017-01-05 22:57:34 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2017-01-05 22:57:34 UTC], ["updated_at", 2017-01-05 22:57:34 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/search?search=Exam&search_select=980190963" for 127.0.0.1 at 2017-01-05 17:57:34 -0500
Processing by IndexController#search as HTML
  Parameters: {"search"=>"Exam", "search_select"=>"980190963"}
  Rendering index/search.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/search.html.erb within layouts/application (4.4ms)
  Rendered layouts/_header.html.erb (3.1ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 14ms (Views: 12.2ms | ActiveRecord: 0.1ms)
  [1m[35m (2.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2017-01-05 22:57:34 UTC], ["updated_at", 2017-01-05 22:57:34 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2017-01-05 22:57:34 UTC], ["updated_at", 2017-01-05 22:57:34 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/home" for 127.0.0.1 at 2017-01-05 17:57:34 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (9.3ms)
  Rendered layouts/_header.html.erb (3.0ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 18ms (Views: 17.0ms | ActiveRecord: 0.1ms)
  [1m[35m (3.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2017-01-05 22:57:34 UTC], ["updated_at", 2017-01-05 22:57:34 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2017-01-05 22:57:34 UTC], ["updated_at", 2017-01-05 22:57:34 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/top-Example%20Category/Example%20Company" for 127.0.0.1 at 2017-01-05 17:57:34 -0500
Processing by IndexController#place as HTML
  Parameters: {"category"=>"Example Category", "company"=>"Example Company"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Example Company"], ["id", 980190963], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "companies" SET "lat" = ?, "lng" = ?, "photo" = ?, "address" = ?, "updated_at" = ? WHERE "companies"."id" = ?[0m  [["lat", 37.78996999999999], ["lng", -122.400872], ["photo", "https://maps.googleapis.com/maps/api/place/photo?maxheight=400&photoreference=CoQBdwAAAOUVJ3U-qIPmUcMp-h1UA9x_bnBxizYhBnyTO5UHckIvAKHww6zWI5-iSNPD3rRb40NgmfeWRXHCBLbPNh2U4L_wAP570STfxGYHJMUUtrbg1Kq6PsV2a27pt1tHYAWvcREBcJT_cQY07uxlmpERJ-Pp6gpKUvzM-mMjLSJkbjOvEhAySsbASO7BJrelghLsEQRXGhR2cd1WiH-BWb1-4OXYJt6wJ16qUw&key=AIzaSyD_mMKLGBULdpg7KvEFfdoHQpdbu83EG-Q"], ["address", "548 Market St, San Francisco, CA 94104, United States"], ["updated_at", 2017-01-05 22:57:35 UTC], ["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering index/place.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/place.html.erb within layouts/application (6.1ms)
  Rendered layouts/_header.html.erb (3.5ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 1367ms (Views: 14.3ms | ActiveRecord: 0.5ms)
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (2.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2017-01-05 22:57:35 UTC], ["updated_at", 2017-01-05 22:57:35 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2017-01-05 22:57:35 UTC], ["updated_at", 2017-01-05 22:57:35 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.1ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (3.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2017-01-05 22:57:35 UTC], ["updated_at", 2017-01-05 22:57:35 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (2.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (26.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (22.6ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString1', '2017-01-06 20:24:19.440786', '2017-01-06 20:24:19.440786', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString2', '2017-01-06 20:24:19.440786', '2017-01-06 20:24:19.440786', 298486374)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company1', 1, 1, 'MyCity1', 10, 10, '2017-01-06 20:24:19.490409', '2017-01-06 20:24:19.490409', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company2', 2, 2, 'MyCity2', 20, 20, '2017-01-06 20:24:19.490409', '2017-01-06 20:24:19.490409', 298486374)[0m
  [1m[36mFixture Delete (22.4ms)[0m  [1m[31mDELETE FROM "ips"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "ips" ("address", "created_at", "updated_at", "id") VALUES ('MyString', '2017-01-06 20:24:19.493453', '2017-01-06 20:24:19.493453', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "ips" ("address", "created_at", "updated_at", "id") VALUES ('MyString', '2017-01-06 20:24:19.493453', '2017-01-06 20:24:19.493453', 298486374)[0m
  [1m[36mFixture Delete (1.0ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2017-01-06 20:24:19.517728', '2017-01-06 20:24:19.517728', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2017-01-06 20:24:19.517728', '2017-01-06 20:24:19.517728', 298486374, 298486374)[0m
  [1m[35m (4.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2017-01-06 20:24:19 UTC], ["updated_at", 2017-01-06 20:24:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2017-01-06 20:24:19 UTC], ["updated_at", 2017-01-06 20:24:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.1ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2017-01-06 20:24:19 UTC], ["updated_at", 2017-01-06 20:24:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2017-01-06 20:24:19 UTC], ["updated_at", 2017-01-06 20:24:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CompaniesControllerTest: test_should_show_company
-------------------------------------------------
  [1m[36mCompany Load (0.2ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/admin/companies/980190962" for 127.0.0.1 at 2017-01-06 15:24:19 -0500
Processing by CompaniesController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/show.html.erb within layouts/application
  Rendered companies/show.html.erb within layouts/application (6.5ms)
  Rendered layouts/_header.html.erb (8807.2ms)
  Rendered layouts/_footer.html.erb (0.8ms)
Completed 200 OK in 8948ms (Views: 8893.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CompaniesControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/admin/companies/980190962/edit" for 127.0.0.1 at 2017-01-06 15:24:29 -0500
Processing by CompaniesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/edit.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (43.0ms)
  Rendered companies/edit.html.erb within layouts/application (57.9ms)
  Rendered layouts/_header.html.erb (5.1ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 119ms (Views: 97.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompaniesControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/admin/companies/new" for 127.0.0.1 at 2017-01-06 15:24:29 -0500
Processing by CompaniesController#new as HTML
  Rendering companies/new.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (2.4ms)
  Rendered companies/new.html.erb within layouts/application (4.3ms)
  Rendered layouts/_header.html.erb (3.4ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 14ms (Views: 12.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CompaniesControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/admin/companies" for 127.0.0.1 at 2017-01-06 15:24:29 -0500
Processing by CompaniesController#index as HTML
  Rendering companies/index.html.erb within layouts/application
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies"[0m
  Rendered companies/index.html.erb within layouts/application (2.1ms)
  Rendered layouts/_header.html.erb (3.5ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 22ms (Views: 10.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CompaniesControllerTest: test_should_destroy_company
----------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started DELETE "/admin/companies/980190962" for 127.0.0.1 at 2017-01-06 15:24:29 -0500
Processing by CompaniesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "companies" WHERE "companies"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/companies
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_update_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/admin/companies/980190962" for 127.0.0.1 at 2017-01-06 15:24:29 -0500
Processing by CompaniesController#update as HTML
  Parameters: {"company"=>{"name"=>"Company1", "city"=>"MyCity1", "category"=>"1"}, "id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Company1"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/companies/980190962
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Company1"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "companies" SET "updated_at" = ?, "lat" = ?, "lng" = ?, "photo" = ?, "address" = ? WHERE "companies"."id" = ?[0m  [["updated_at", 2017-01-06 20:24:31 UTC], ["lat", 37.779044], ["lng", -122.418757], ["photo", "place-image.png"], ["address", "1 Dr Carlton B Goodlett Pl, San Francisco, CA 94102"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 302 Found in 2064ms (ActiveRecord: 0.8ms)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_create_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started POST "/admin/companies" for 127.0.0.1 at 2017-01-06 15:24:31 -0500
Processing by CompaniesController#create as HTML
  Parameters: {"company"=>{"name"=>"ExampleCompany", "city"=>"Mycity", "category"=>"1"}}
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "ExampleCompany"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "ExampleCompany"], ["category", 1], ["city", "Mycity"], ["created_at", 2017-01-06 20:24:31 UTC], ["updated_at", 2017-01-06 20:24:31 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/companies/980190963
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "ExampleCompany"], ["id", 980190963], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "companies" SET "updated_at" = ?, "lat" = ?, "lng" = ?, "photo" = ?, "address" = ? WHERE "companies"."id" = ?[0m  [["updated_at", 2017-01-06 20:24:32 UTC], ["lat", 37.779044], ["lng", -122.418757], ["photo", "place-image.png"], ["address", "1 Dr Carlton B Goodlett Pl, San Francisco, CA 94102"], ["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 302 Found in 1334ms (ActiveRecord: 1.0ms)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" ORDER BY "companies"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2017-01-06 20:24:32 UTC], ["updated_at", 2017-01-06 20:24:32 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2017-01-06 20:24:32 UTC], ["updated_at", 2017-01-06 20:24:32 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/home" for 127.0.0.1 at 2017-01-06 15:24:32 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (9.9ms)
  Rendered layouts/_header.html.erb (3.4ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 29ms (Views: 18.5ms | ActiveRecord: 0.1ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2017-01-06 20:24:32 UTC], ["updated_at", 2017-01-06 20:24:32 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2017-01-06 20:24:32 UTC], ["updated_at", 2017-01-06 20:24:32 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/top-Example%20Category" for 127.0.0.1 at 2017-01-06 15:24:32 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category"=>"Example Category"}
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies" WHERE (category = 980190963) ORDER BY id ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Example Company"], ["id", 980190963], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "companies" SET "lat" = ?, "lng" = ?, "photo" = ?, "address" = ?, "updated_at" = ? WHERE "companies"."id" = ?[0m  [["lat", 37.78996999999999], ["lng", -122.400872], ["photo", "https://maps.googleapis.com/maps/api/place/photo?maxheight=400&photoreference=CoQBdwAAAGmdldnmbJtIJ01EUhIud5UqS1WwK5EXvonJDTNrCAbTn7n9fNJVN0wyzFaMA2QYglEXLwJ9zq5RXcSGie4VKvjvC3HEG3MJwVFLbX0JNM_APtgIdx7vqWSeBG3hxiPNVjvZDdoDnSZhmzS6gzAv3puC7Nf5lOVUanYlfK83WwTyEhCFUc4KcpX29BLxs0QtKATyGhRoivIMZTEAFd8a5lW543QkJppsSg&key=AIzaSyD_mMKLGBULdpg7KvEFfdoHQpdbu83EG-Q"], ["address", "548 Market St, San Francisco, CA 94104, United States"], ["updated_at", 2017-01-06 20:24:34 UTC], ["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering index/ranking.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/ranking.html.erb within layouts/application (4.8ms)
  Rendered layouts/_header.html.erb (2.8ms)
  Rendered layouts/_footer.html.erb (0.3ms)
Completed 200 OK in 1500ms (Views: 14.8ms | ActiveRecord: 0.6ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2017-01-06 20:24:34 UTC], ["updated_at", 2017-01-06 20:24:34 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2017-01-06 20:24:34 UTC], ["updated_at", 2017-01-06 20:24:34 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/top-Example%20Category/Example%20Company" for 127.0.0.1 at 2017-01-06 15:24:34 -0500
Processing by IndexController#place as HTML
  Parameters: {"category"=>"Example Category", "company"=>"Example Company"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Example Company"], ["id", 980190963], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "companies" SET "lat" = ?, "lng" = ?, "photo" = ?, "address" = ?, "updated_at" = ? WHERE "companies"."id" = ?[0m  [["lat", 37.78996999999999], ["lng", -122.400872], ["photo", "https://maps.googleapis.com/maps/api/place/photo?maxheight=400&photoreference=CoQBdwAAAJy7dBRqzidEsCWQ-Dj3wJXVYUN628s5w12Ge8MLKjMJ6fQ4YZxBPwrnpR5x1PH2hDuYvY_0E1sZ6qwEktN1lZLx_30ShlDm99klLkNlH16NS_cR4v6Jn7oZ_ebymM3x8-S_Rb8YYmqB51UWkgDhI22-zfcrEbk7q9bNOegx2Y_uEhBx03IGQS5GKO5aFTCsOv-1GhRULqUewZt5TMGhFxYZ3vfNjxQqmg&key=AIzaSyD_mMKLGBULdpg7KvEFfdoHQpdbu83EG-Q"], ["address", "548 Market St, San Francisco, CA 94104, United States"], ["updated_at", 2017-01-06 20:24:35 UTC], ["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering index/place.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/place.html.erb within layouts/application (6.4ms)
  Rendered layouts/_header.html.erb (3.1ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 903ms (Views: 16.3ms | ActiveRecord: 0.7ms)
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
IndexControllerTest: test_should_get_search
-------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2017-01-06 20:24:35 UTC], ["updated_at", 2017-01-06 20:24:35 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2017-01-06 20:24:35 UTC], ["updated_at", 2017-01-06 20:24:35 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/search?search=Exam&search_select=980190963" for 127.0.0.1 at 2017-01-06 15:24:35 -0500
Processing by IndexController#search as HTML
  Parameters: {"search"=>"Exam", "search_select"=>"980190963"}
  Rendering index/search.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/search.html.erb within layouts/application (4.1ms)
  Rendered layouts/_header.html.erb (3.0ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 24ms (Views: 11.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_contact
--------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2017-01-06 20:24:35 UTC], ["updated_at", 2017-01-06 20:24:35 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2017-01-06 20:24:35 UTC], ["updated_at", 2017-01-06 20:24:35 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/contact" for 127.0.0.1 at 2017-01-06 15:24:35 -0500
Processing by IndexController#contact as HTML
  Rendering index/contact.html.erb within layouts/application
  Rendered index/contact.html.erb within layouts/application (35.9ms)
  Rendered layouts/_header.html.erb (5.5ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 76ms (Views: 47.7ms | ActiveRecord: 0.0ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2017-01-06 20:24:35 UTC], ["updated_at", 2017-01-06 20:24:35 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2017-01-06 20:24:35 UTC], ["updated_at", 2017-01-06 20:24:35 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/about" for 127.0.0.1 at 2017-01-06 15:24:35 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (12.6ms)
  Rendered layouts/_header.html.erb (5.2ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 46ms (Views: 23.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixture Delete (32.3ms)[0m  [1m[31mDELETE FROM "categories"[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString1', '2017-01-15 14:17:38.119099', '2017-01-15 14:17:38.119099', 980190962)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at", "id") VALUES ('MyString2', '2017-01-15 14:17:38.119099', '2017-01-15 14:17:38.119099', 298486374)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "companies"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company1', 1, 1, 'MyCity1', 10, 10, '2017-01-15 14:17:38.176642', '2017-01-15 14:17:38.176642', 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "share", "like", "created_at", "updated_at", "id") VALUES ('Company2', 2, 2, 'MyCity2', 20, 20, '2017-01-15 14:17:38.176642', '2017-01-15 14:17:38.176642', 298486374)[0m
  [1m[36mFixture Delete (21.2ms)[0m  [1m[31mDELETE FROM "ips"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "ips" ("address", "created_at", "updated_at", "id") VALUES ('MyString', '2017-01-15 14:17:38.179867', '2017-01-15 14:17:38.179867', 980190962)[0m
  [1m[36mFixture Insert (0.0ms)[0m  [1m[32mINSERT INTO "ips" ("address", "created_at", "updated_at", "id") VALUES ('MyString', '2017-01-15 14:17:38.179867', '2017-01-15 14:17:38.179867', 298486374)[0m
  [1m[36mFixture Delete (0.8ms)[0m  [1m[31mDELETE FROM "sub_categories"[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2017-01-15 14:17:38.202781', '2017-01-15 14:17:38.202781', 980190962, 980190962)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "created_at", "updated_at", "id", "category_id") VALUES ('MyText', '2017-01-15 14:17:38.202781', '2017-01-15 14:17:38.202781', 298486374, 298486374)[0m
  [1m[35m (4.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
CategoryTest: test_associated_sub_categories_should_be_destroyed
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2017-01-15 14:17:38 UTC], ["updated_at", 2017-01-15 14:17:38 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example Sub Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "sub_categories" ("name", "category_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "Example Sub Category"], ["category_id", 980190963], ["created_at", 2017-01-15 14:17:38 UTC], ["updated_at", 2017-01-15 14:17:38 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mSubCategory Load (0.1ms)[0m  [1m[34mSELECT "sub_categories".* FROM "sub_categories" WHERE "sub_categories"."category_id" = ?[0m  [["category_id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "sub_categories" WHERE "sub_categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "categories" WHERE "categories"."id" = ?[0m  [["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "sub_categories"[0m
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------
CategoryTest: test_should_be_valid
----------------------------------
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
CategoryTest: test_name_should_be_present
-----------------------------------------
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CategoryTest: test_name_should_be_unique
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2017-01-15 14:17:38 UTC], ["updated_at", 2017-01-15 14:17:38 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35m (15.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_city_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CompanyTest: test_name_should_be_present
----------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompanyTest: test_category_should_be_present
--------------------------------------------
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------
CompanyTest: test_name_should_be_unique
---------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "subcategory", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 1], ["subcategory", 2], ["city", "Toronto"], ["created_at", 2017-01-15 14:17:38 UTC], ["updated_at", 2017-01-15 14:17:38 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (31.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------
CompanyTest: test_should_be_valid
---------------------------------
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
SubCategoryTest: test_category_id_should_be_present
---------------------------------------------------
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
SubCategoryTest: test_should_be_valid
-------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "Example SubCategory"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
SubCategoryTest: test_name_should_be_present
--------------------------------------------
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mSubCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "sub_categories" WHERE "sub_categories"."name" = ? LIMIT ?[0m  [["name", "     "], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
CompaniesControllerTest: test_should_show_company
-------------------------------------------------
  [1m[36mCompany Load (0.2ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/admin/companies/980190962" for 127.0.0.1 at 2017-01-15 09:17:38 -0500
Processing by CompaniesController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/show.html.erb within layouts/application
  Rendered companies/show.html.erb within layouts/application (29.7ms)
  Rendered layouts/_header.html.erb (12391.9ms)
  Rendered layouts/_footer.html.erb (0.7ms)
Completed 200 OK in 12530ms (Views: 12499.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
CompaniesControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/admin/companies/980190962/edit" for 127.0.0.1 at 2017-01-15 09:17:51 -0500
Processing by CompaniesController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering companies/edit.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (64.9ms)
  Rendered companies/edit.html.erb within layouts/application (105.1ms)
  Rendered layouts/_header.html.erb (5.5ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 209ms (Views: 182.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
CompaniesControllerTest: test_should_destroy_company
----------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started DELETE "/admin/companies/980190962" for 127.0.0.1 at 2017-01-15 09:17:51 -0500
Processing by CompaniesController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "companies" WHERE "companies"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/companies
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
CompaniesControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/admin/companies/new" for 127.0.0.1 at 2017-01-15 09:17:51 -0500
Processing by CompaniesController#new as HTML
  Rendering companies/new.html.erb within layouts/application
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered companies/_form.html.erb (2.6ms)
  Rendered companies/new.html.erb within layouts/application (4.4ms)
  Rendered layouts/_header.html.erb (4.3ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 32ms (Views: 14.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_update_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/admin/companies/980190962" for 127.0.0.1 at 2017-01-15 09:17:51 -0500
Processing by CompaniesController#update as HTML
  Parameters: {"company"=>{"name"=>"Company1", "city"=>"MyCity1", "category"=>"1"}, "id"=>"980190962"}
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Company1"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/companies/980190962
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Company1"], ["id", 980190962], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "companies" SET "updated_at" = ?, "lat" = ?, "lng" = ?, "photo" = ?, "address" = ? WHERE "companies"."id" = ?[0m  [["updated_at", 2017-01-15 14:17:54 UTC], ["lat", 37.779044], ["lng", -122.418757], ["photo", "place-image.png"], ["address", "1 Dr Carlton B Goodlett Pl, San Francisco, CA 94102"], ["id", 980190962]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 302 Found in 2399ms (ActiveRecord: 0.7ms)
  [1m[35m (18.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------
CompaniesControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/admin/companies" for 127.0.0.1 at 2017-01-15 09:17:54 -0500
Processing by CompaniesController#index as HTML
  Rendering companies/index.html.erb within layouts/application
  [1m[36mCompany Load (0.2ms)[0m  [1m[34mSELECT "companies".* FROM "companies"[0m
  Rendered companies/index.html.erb within layouts/application (2.9ms)
  Rendered layouts/_header.html.erb (3.6ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 29ms (Views: 14.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------
CompaniesControllerTest: test_should_create_company
---------------------------------------------------
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
Started POST "/admin/companies" for 127.0.0.1 at 2017-01-15 09:17:54 -0500
Processing by CompaniesController#create as HTML
  Parameters: {"company"=>{"name"=>"ExampleCompany", "city"=>"Mycity", "category"=>"1"}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "ExampleCompany"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "ExampleCompany"], ["category", 1], ["city", "Mycity"], ["created_at", 2017-01-15 14:17:54 UTC], ["updated_at", 2017-01-15 14:17:54 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/companies/980190963
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "ExampleCompany"], ["id", 980190963], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "companies" SET "updated_at" = ?, "lat" = ?, "lng" = ?, "photo" = ?, "address" = ? WHERE "companies"."id" = ?[0m  [["updated_at", 2017-01-15 14:17:55 UTC], ["lat", 37.779044], ["lng", -122.418757], ["photo", "place-image.png"], ["address", "1 Dr Carlton B Goodlett Pl, San Francisco, CA 94102"], ["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 302 Found in 1304ms (ActiveRecord: 1.0ms)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "companies"[0m
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" ORDER BY "companies"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_about
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2017-01-15 14:17:55 UTC], ["updated_at", 2017-01-15 14:17:55 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2017-01-15 14:17:55 UTC], ["updated_at", 2017-01-15 14:17:55 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/about" for 127.0.0.1 at 2017-01-15 09:17:55 -0500
Processing by IndexController#about as HTML
  Rendering index/about.html.erb within layouts/application
  Rendered index/about.html.erb within layouts/application (7.1ms)
  Rendered layouts/_header.html.erb (4.1ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 29ms (Views: 17.7ms | ActiveRecord: 0.0ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_contact
--------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2017-01-15 14:17:55 UTC], ["updated_at", 2017-01-15 14:17:55 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2017-01-15 14:17:55 UTC], ["updated_at", 2017-01-15 14:17:55 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/contact" for 127.0.0.1 at 2017-01-15 09:17:55 -0500
Processing by IndexController#contact as HTML
  Rendering index/contact.html.erb within layouts/application
  Rendered index/contact.html.erb within layouts/application (22.8ms)
  Rendered layouts/_header.html.erb (3.1ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 64ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------
IndexControllerTest: test_should_get_search
-------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2017-01-15 14:17:55 UTC], ["updated_at", 2017-01-15 14:17:55 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2017-01-15 14:17:55 UTC], ["updated_at", 2017-01-15 14:17:55 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/search?search=Exam&search_select=980190963" for 127.0.0.1 at 2017-01-15 09:17:55 -0500
Processing by IndexController#search as HTML
  Parameters: {"search"=>"Exam", "search_select"=>"980190963"}
  Rendering index/search.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/search.html.erb within layouts/application (4.5ms)
  Rendered layouts/_header.html.erb (3.3ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 47ms (Views: 14.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
IndexControllerTest: test_should_get_place
------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2017-01-15 14:17:55 UTC], ["updated_at", 2017-01-15 14:17:55 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2017-01-15 14:17:55 UTC], ["updated_at", 2017-01-15 14:17:55 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/top-Example%20Category/Example%20Company" for 127.0.0.1 at 2017-01-15 09:17:55 -0500
Processing by IndexController#place as HTML
  Parameters: {"category"=>"Example Category", "company"=>"Example Company"}
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[36mCompany Load (0.0ms)[0m  [1m[34mSELECT  "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Example Company"], ["id", 980190963], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[33mUPDATE "companies" SET "lat" = ?, "lng" = ?, "photo" = ?, "address" = ?, "updated_at" = ? WHERE "companies"."id" = ?[0m  [["lat", 37.78996999999999], ["lng", -122.400872], ["photo", "https://maps.googleapis.com/maps/api/place/photo?maxheight=400&photoreference=CoQBdwAAALmnX-9F0WelYjwblJMK01WL65Y0evBEc8BHBkodbeHv1zbK5e2RewHyZuJRIeTitPYA9fegKO1Xf37FLricRI_cF3jkve7t-esNZ-p-QS-VyMWXY4OwKV324hMXjYcwbPY1dHO_LsLZBGZCmLGnN6WWM0cYXfz9BNgHURsNKWqaEhA-HeXZHwTyuP8tWDc0aImmGhSuRtuWvKtUJsdTacz7KpMYnXHehQ&key=AIzaSyD_mMKLGBULdpg7KvEFfdoHQpdbu83EG-Q"], ["address", "548 Market St, San Francisco, CA 94104, United States"], ["updated_at", 2017-01-15 14:17:57 UTC], ["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering index/place.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/place.html.erb within layouts/application (8.2ms)
  Rendered layouts/_header.html.erb (2.9ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 1641ms (Views: 18.6ms | ActiveRecord: 0.7ms)
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (57.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------
IndexControllerTest: test_should_get_ranking
--------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2017-01-15 14:17:57 UTC], ["updated_at", 2017-01-15 14:17:57 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2017-01-15 14:17:57 UTC], ["updated_at", 2017-01-15 14:17:57 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/top-Example%20Category" for 127.0.0.1 at 2017-01-15 09:17:57 -0500
Processing by IndexController#ranking as HTML
  Parameters: {"category"=>"Example Category"}
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[36mCategory Load (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCompany Load (0.1ms)[0m  [1m[34mSELECT "companies".* FROM "companies" WHERE (category = 980190963) ORDER BY id ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? AND ("companies"."id" != ?) LIMIT ?[0m  [["name", "Example Company"], ["id", 980190963], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "companies" SET "lat" = ?, "lng" = ?, "photo" = ?, "address" = ?, "updated_at" = ? WHERE "companies"."id" = ?[0m  [["lat", 37.78996999999999], ["lng", -122.400872], ["photo", "https://maps.googleapis.com/maps/api/place/photo?maxheight=400&photoreference=CoQBdwAAAJlCjgOZfbEp209vLtmRAfJcLqYZwTjTSe_GtnZpoCbb9dUGa8c1vkMMsjI3d9lxLv9E3erIT87QcaeSJqm0OQ9NDUYy-uUuSHFwVMA0-tgQxqv-3YX3fjSkfd9pH1QbZppB8sBzh7nKRzubILwV5dbiueAbcMD1UGVbxRX8zcyiEhCGEckiIR100m0eco-1a6gxGhSsNdQtrf-pkl319sPSqSdzI_NJfQ&key=AIzaSyD_mMKLGBULdpg7KvEFfdoHQpdbu83EG-Q"], ["address", "548 Market St, San Francisco, CA 94104, United States"], ["updated_at", 2017-01-15 14:17:59 UTC], ["id", 980190963]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering index/ranking.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "categories".* FROM "categories" WHERE "categories"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered index/ranking.html.erb within layouts/application (8.4ms)
  Rendered layouts/_header.html.erb (3.0ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 1901ms (Views: 16.5ms | ActiveRecord: 0.8ms)
  [1m[35m (2.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
IndexControllerTest: test_should_get_home
-----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCategory Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "categories" WHERE "categories"."name" = ? LIMIT ?[0m  [["name", "Example Category"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Example Category"], ["created_at", 2017-01-15 14:17:59 UTC], ["updated_at", 2017-01-15 14:17:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCompany Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "companies" WHERE "companies"."name" = ? LIMIT ?[0m  [["name", "Example Company"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "companies" ("name", "category", "city", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example Company"], ["category", 980190963], ["city", "SF"], ["created_at", 2017-01-15 14:17:59 UTC], ["updated_at", 2017-01-15 14:17:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/home" for 127.0.0.1 at 2017-01-15 09:17:59 -0500
Processing by IndexController#home as HTML
  Rendering index/home.html.erb within layouts/application
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered index/home.html.erb within layouts/application (9.7ms)
  Rendered layouts/_header.html.erb (3.1ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 42ms (Views: 18.7ms | ActiveRecord: 0.1ms)
  [1m[35m (1.3ms)[0m  [1m[31mrollback transaction[0m
